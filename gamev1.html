<!DOCTYPE html>
<html data-init="no-js">
<head>
<meta charset="UTF-8" />
<title>留草遺芳錄-遺芳九言</title>
<meta name="viewport" content="width=device-width,initial-scale=1" />
<!--

SugarCube (v2.31.1): A free (gratis and libre) story format.

Copyright © 2013–2020 Thomas Michael Edwards <thomasmedwards@gmail.com>.
All rights reserved.

Redistribution and use in source and binary forms, with or without
modification, are permitted provided that the following conditions are met:

1. Redistributions of source code must retain the above copyright notice, this
   list of conditions and the following disclaimer.
2. Redistributions in binary form must reproduce the above copyright notice,
   this list of conditions and the following disclaimer in the documentation
   and/or other materials provided with the distribution.

THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS" AND
ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED
WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE
DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR CONTRIBUTORS BE LIABLE FOR
ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES
(INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES;
LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND
ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT
(INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS
SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.

-->
<script id="script-libraries" type="text/javascript">
if(document.head&&document.addEventListener&&document.querySelector&&Object.create&&Object.freeze&&JSON){document.documentElement.setAttribute("data-init", "loading");
/*! @source http://purl.eligrey.com/github/classList.js/blob/master/classList.js */
if("document" in self){if(!("classList" in document.createElement("_"))){(function(j){"use strict";if(!("Element" in j)){return}var a="classList",f="prototype",m=j.Element[f],b=Object,k=String[f].trim||function(){return this.replace(/^\s+|\s+$/g,"")},c=Array[f].indexOf||function(q){var p=0,o=this.length;for(;p<o;p++){if(p in this&&this[p]===q){return p}}return -1},n=function(o,p){this.name=o;this.code=DOMException[o];this.message=p},g=function(p,o){if(o===""){throw new n("SYNTAX_ERR","An invalid or illegal string was specified")}if(/\s/.test(o)){throw new n("INVALID_CHARACTER_ERR","String contains an invalid character")}return c.call(p,o)},d=function(s){var r=k.call(s.getAttribute("class")||""),q=r?r.split(/\s+/):[],p=0,o=q.length;for(;p<o;p++){this.push(q[p])}this._updateClassName=function(){s.setAttribute("class",this.toString())}},e=d[f]=[],i=function(){return new d(this)};n[f]=Error[f];e.item=function(o){return this[o]||null};e.contains=function(o){o+="";return g(this,o)!==-1};e.add=function(){var s=arguments,r=0,p=s.length,q,o=false;do{q=s[r]+"";if(g(this,q)===-1){this.push(q);o=true}}while(++r<p);if(o){this._updateClassName()}};e.remove=function(){var t=arguments,s=0,p=t.length,r,o=false,q;do{r=t[s]+"";q=g(this,r);while(q!==-1){this.splice(q,1);o=true;q=g(this,r)}}while(++s<p);if(o){this._updateClassName()}};e.toggle=function(p,q){p+="";var o=this.contains(p),r=o?q!==true&&"remove":q!==false&&"add";if(r){this[r](p)}if(q===true||q===false){return q}else{return !o}};e.toString=function(){return this.join(" ")};if(b.defineProperty){var l={get:i,enumerable:true,configurable:true};try{b.defineProperty(m,a,l)}catch(h){if(h.number===-2146823252){l.enumerable=false;b.defineProperty(m,a,l)}}}else{if(b[f].__defineGetter__){m.__defineGetter__(a,i)}}}(self))}else{(function(){var b=document.createElement("_");b.classList.add("c1","c2");if(!b.classList.contains("c2")){var c=function(e){var d=DOMTokenList.prototype[e];DOMTokenList.prototype[e]=function(h){var g,f=arguments.length;for(g=0;g<f;g++){h=arguments[g];d.call(this,h)}}};c("add");c("remove")}b.classList.toggle("c3",false);if(b.classList.contains("c3")){var a=DOMTokenList.prototype.toggle;DOMTokenList.prototype.toggle=function(d,e){if(1 in arguments&&!this.contains(d)===!e){return e}else{return a.call(this,d)}}}b=null}())}};
/*!
 * https://github.com/es-shims/es5-shim
 * @license es5-shim Copyright 2009-2015 by contributors, MIT License
 * see https://github.com/es-shims/es5-shim/blob/v4.5.13/LICENSE
 */
(function(t,r){"use strict";if(typeof define==="function"&&define.amd){define(r)}else if(typeof exports==="object"){module.exports=r()}else{t.returnExports=r()}})(this,function(){var t=Array;var r=t.prototype;var e=Object;var n=e.prototype;var i=Function;var a=i.prototype;var o=String;var f=o.prototype;var u=Number;var l=u.prototype;var s=r.slice;var c=r.splice;var v=r.push;var h=r.unshift;var p=r.concat;var y=r.join;var d=a.call;var g=a.apply;var w=Math.max;var b=Math.min;var T=n.toString;var m=typeof Symbol==="function"&&typeof Symbol.toStringTag==="symbol";var D;var S=Function.prototype.toString,x=/^\s*class /,O=function isES6ClassFn(t){try{var r=S.call(t);var e=r.replace(/\/\/.*\n/g,"");var n=e.replace(/\/\*[.\s\S]*\*\//g,"");var i=n.replace(/\n/gm," ").replace(/ {2}/g," ");return x.test(i)}catch(a){return false}},E=function tryFunctionObject(t){try{if(O(t)){return false}S.call(t);return true}catch(r){return false}},j="[object Function]",I="[object GeneratorFunction]",D=function isCallable(t){if(!t){return false}if(typeof t!=="function"&&typeof t!=="object"){return false}if(m){return E(t)}if(O(t)){return false}var r=T.call(t);return r===j||r===I};var M;var U=RegExp.prototype.exec,$=function tryRegexExec(t){try{U.call(t);return true}catch(r){return false}},F="[object RegExp]";M=function isRegex(t){if(typeof t!=="object"){return false}return m?$(t):T.call(t)===F};var N;var C=String.prototype.valueOf,k=function tryStringObject(t){try{C.call(t);return true}catch(r){return false}},A="[object String]";N=function isString(t){if(typeof t==="string"){return true}if(typeof t!=="object"){return false}return m?k(t):T.call(t)===A};var R=e.defineProperty&&function(){try{var t={};e.defineProperty(t,"x",{enumerable:false,value:t});for(var r in t){return false}return t.x===t}catch(n){return false}}();var P=function(t){var r;if(R){r=function(t,r,n,i){if(!i&&r in t){return}e.defineProperty(t,r,{configurable:true,enumerable:false,writable:true,value:n})}}else{r=function(t,r,e,n){if(!n&&r in t){return}t[r]=e}}return function defineProperties(e,n,i){for(var a in n){if(t.call(n,a)){r(e,a,n[a],i)}}}}(n.hasOwnProperty);var J=function isPrimitive(t){var r=typeof t;return t===null||r!=="object"&&r!=="function"};var Y=u.isNaN||function isActualNaN(t){return t!==t};var z={ToInteger:function ToInteger(t){var r=+t;if(Y(r)){r=0}else if(r!==0&&r!==1/0&&r!==-(1/0)){r=(r>0||-1)*Math.floor(Math.abs(r))}return r},ToPrimitive:function ToPrimitive(t){var r,e,n;if(J(t)){return t}e=t.valueOf;if(D(e)){r=e.call(t);if(J(r)){return r}}n=t.toString;if(D(n)){r=n.call(t);if(J(r)){return r}}throw new TypeError},ToObject:function(t){if(t==null){throw new TypeError("can't convert "+t+" to object")}return e(t)},ToUint32:function ToUint32(t){return t>>>0}};var Z=function Empty(){};P(a,{bind:function bind(t){var r=this;if(!D(r)){throw new TypeError("Function.prototype.bind called on incompatible "+r)}var n=s.call(arguments,1);var a;var o=function(){if(this instanceof a){var i=g.call(r,this,p.call(n,s.call(arguments)));if(e(i)===i){return i}return this}else{return g.call(r,t,p.call(n,s.call(arguments)))}};var f=w(0,r.length-n.length);var u=[];for(var l=0;l<f;l++){v.call(u,"$"+l)}a=i("binder","return function ("+y.call(u,",")+"){ return binder.apply(this, arguments); }")(o);if(r.prototype){Z.prototype=r.prototype;a.prototype=new Z;Z.prototype=null}return a}});var G=d.bind(n.hasOwnProperty);var H=d.bind(n.toString);var W=d.bind(s);var B=g.bind(s);if(typeof document==="object"&&document&&document.documentElement){try{W(document.documentElement.childNodes)}catch(X){var L=W;var q=B;W=function arraySliceIE(t){var r=[];var e=t.length;while(e-- >0){r[e]=t[e]}return q(r,L(arguments,1))};B=function arraySliceApplyIE(t,r){return q(W(t),r)}}}var K=d.bind(f.slice);var Q=d.bind(f.split);var V=d.bind(f.indexOf);var _=d.bind(v);var tt=d.bind(n.propertyIsEnumerable);var rt=d.bind(r.sort);var et=t.isArray||function isArray(t){return H(t)==="[object Array]"};var nt=[].unshift(0)!==1;P(r,{unshift:function(){h.apply(this,arguments);return this.length}},nt);P(t,{isArray:et});var it=e("a");var at=it[0]!=="a"||!(0 in it);var ot=function properlyBoxed(t){var r=true;var e=true;var n=false;if(t){try{t.call("foo",function(t,e,n){if(typeof n!=="object"){r=false}});t.call([1],function(){"use strict";e=typeof this==="string"},"x")}catch(i){n=true}}return!!t&&!n&&r&&e};P(r,{forEach:function forEach(t){var r=z.ToObject(this);var e=at&&N(this)?Q(this,""):r;var n=-1;var i=z.ToUint32(e.length);var a;if(arguments.length>1){a=arguments[1]}if(!D(t)){throw new TypeError("Array.prototype.forEach callback must be a function")}while(++n<i){if(n in e){if(typeof a==="undefined"){t(e[n],n,r)}else{t.call(a,e[n],n,r)}}}}},!ot(r.forEach));P(r,{map:function map(r){var e=z.ToObject(this);var n=at&&N(this)?Q(this,""):e;var i=z.ToUint32(n.length);var a=t(i);var o;if(arguments.length>1){o=arguments[1]}if(!D(r)){throw new TypeError("Array.prototype.map callback must be a function")}for(var f=0;f<i;f++){if(f in n){if(typeof o==="undefined"){a[f]=r(n[f],f,e)}else{a[f]=r.call(o,n[f],f,e)}}}return a}},!ot(r.map));P(r,{filter:function filter(t){var r=z.ToObject(this);var e=at&&N(this)?Q(this,""):r;var n=z.ToUint32(e.length);var i=[];var a;var o;if(arguments.length>1){o=arguments[1]}if(!D(t)){throw new TypeError("Array.prototype.filter callback must be a function")}for(var f=0;f<n;f++){if(f in e){a=e[f];if(typeof o==="undefined"?t(a,f,r):t.call(o,a,f,r)){_(i,a)}}}return i}},!ot(r.filter));P(r,{every:function every(t){var r=z.ToObject(this);var e=at&&N(this)?Q(this,""):r;var n=z.ToUint32(e.length);var i;if(arguments.length>1){i=arguments[1]}if(!D(t)){throw new TypeError("Array.prototype.every callback must be a function")}for(var a=0;a<n;a++){if(a in e&&!(typeof i==="undefined"?t(e[a],a,r):t.call(i,e[a],a,r))){return false}}return true}},!ot(r.every));P(r,{some:function some(t){var r=z.ToObject(this);var e=at&&N(this)?Q(this,""):r;var n=z.ToUint32(e.length);var i;if(arguments.length>1){i=arguments[1]}if(!D(t)){throw new TypeError("Array.prototype.some callback must be a function")}for(var a=0;a<n;a++){if(a in e&&(typeof i==="undefined"?t(e[a],a,r):t.call(i,e[a],a,r))){return true}}return false}},!ot(r.some));var ft=false;if(r.reduce){ft=typeof r.reduce.call("es5",function(t,r,e,n){return n})==="object"}P(r,{reduce:function reduce(t){var r=z.ToObject(this);var e=at&&N(this)?Q(this,""):r;var n=z.ToUint32(e.length);if(!D(t)){throw new TypeError("Array.prototype.reduce callback must be a function")}if(n===0&&arguments.length===1){throw new TypeError("reduce of empty array with no initial value")}var i=0;var a;if(arguments.length>=2){a=arguments[1]}else{do{if(i in e){a=e[i++];break}if(++i>=n){throw new TypeError("reduce of empty array with no initial value")}}while(true)}for(;i<n;i++){if(i in e){a=t(a,e[i],i,r)}}return a}},!ft);var ut=false;if(r.reduceRight){ut=typeof r.reduceRight.call("es5",function(t,r,e,n){return n})==="object"}P(r,{reduceRight:function reduceRight(t){var r=z.ToObject(this);var e=at&&N(this)?Q(this,""):r;var n=z.ToUint32(e.length);if(!D(t)){throw new TypeError("Array.prototype.reduceRight callback must be a function")}if(n===0&&arguments.length===1){throw new TypeError("reduceRight of empty array with no initial value")}var i;var a=n-1;if(arguments.length>=2){i=arguments[1]}else{do{if(a in e){i=e[a--];break}if(--a<0){throw new TypeError("reduceRight of empty array with no initial value")}}while(true)}if(a<0){return i}do{if(a in e){i=t(i,e[a],a,r)}}while(a--);return i}},!ut);var lt=r.indexOf&&[0,1].indexOf(1,2)!==-1;P(r,{indexOf:function indexOf(t){var r=at&&N(this)?Q(this,""):z.ToObject(this);var e=z.ToUint32(r.length);if(e===0){return-1}var n=0;if(arguments.length>1){n=z.ToInteger(arguments[1])}n=n>=0?n:w(0,e+n);for(;n<e;n++){if(n in r&&r[n]===t){return n}}return-1}},lt);var st=r.lastIndexOf&&[0,1].lastIndexOf(0,-3)!==-1;P(r,{lastIndexOf:function lastIndexOf(t){var r=at&&N(this)?Q(this,""):z.ToObject(this);var e=z.ToUint32(r.length);if(e===0){return-1}var n=e-1;if(arguments.length>1){n=b(n,z.ToInteger(arguments[1]))}n=n>=0?n:e-Math.abs(n);for(;n>=0;n--){if(n in r&&t===r[n]){return n}}return-1}},st);var ct=function(){var t=[1,2];var r=t.splice();return t.length===2&&et(r)&&r.length===0}();P(r,{splice:function splice(t,r){if(arguments.length===0){return[]}else{return c.apply(this,arguments)}}},!ct);var vt=function(){var t={};r.splice.call(t,0,0,1);return t.length===1}();P(r,{splice:function splice(t,r){if(arguments.length===0){return[]}var e=arguments;this.length=w(z.ToInteger(this.length),0);if(arguments.length>0&&typeof r!=="number"){e=W(arguments);if(e.length<2){_(e,this.length-t)}else{e[1]=z.ToInteger(r)}}return c.apply(this,e)}},!vt);var ht=function(){var r=new t(1e5);r[8]="x";r.splice(1,1);return r.indexOf("x")===7}();var pt=function(){var t=256;var r=[];r[t]="a";r.splice(t+1,0,"b");return r[t]==="a"}();P(r,{splice:function splice(t,r){var e=z.ToObject(this);var n=[];var i=z.ToUint32(e.length);var a=z.ToInteger(t);var f=a<0?w(i+a,0):b(a,i);var u=b(w(z.ToInteger(r),0),i-f);var l=0;var s;while(l<u){s=o(f+l);if(G(e,s)){n[l]=e[s]}l+=1}var c=W(arguments,2);var v=c.length;var h;if(v<u){l=f;var p=i-u;while(l<p){s=o(l+u);h=o(l+v);if(G(e,s)){e[h]=e[s]}else{delete e[h]}l+=1}l=i;var y=i-u+v;while(l>y){delete e[l-1];l-=1}}else if(v>u){l=i-u;while(l>f){s=o(l+u-1);h=o(l+v-1);if(G(e,s)){e[h]=e[s]}else{delete e[h]}l-=1}}l=f;for(var d=0;d<c.length;++d){e[l]=c[d];l+=1}e.length=i-u+v;return n}},!ht||!pt);var yt=r.join;var dt;try{dt=Array.prototype.join.call("123",",")!=="1,2,3"}catch(X){dt=true}if(dt){P(r,{join:function join(t){var r=typeof t==="undefined"?",":t;return yt.call(N(this)?Q(this,""):this,r)}},dt)}var gt=[1,2].join(undefined)!=="1,2";if(gt){P(r,{join:function join(t){var r=typeof t==="undefined"?",":t;return yt.call(this,r)}},gt)}var wt=function push(t){var r=z.ToObject(this);var e=z.ToUint32(r.length);var n=0;while(n<arguments.length){r[e+n]=arguments[n];n+=1}r.length=e+n;return e+n};var bt=function(){var t={};var r=Array.prototype.push.call(t,undefined);return r!==1||t.length!==1||typeof t[0]!=="undefined"||!G(t,0)}();P(r,{push:function push(t){if(et(this)){return v.apply(this,arguments)}return wt.apply(this,arguments)}},bt);var Tt=function(){var t=[];var r=t.push(undefined);return r!==1||t.length!==1||typeof t[0]!=="undefined"||!G(t,0)}();P(r,{push:wt},Tt);P(r,{slice:function(t,r){var e=N(this)?Q(this,""):this;return B(e,arguments)}},at);var mt=function(){try{[1,2].sort(null)}catch(t){try{[1,2].sort({})}catch(r){return false}}return true}();var Dt=function(){try{[1,2].sort(/a/);return false}catch(t){}return true}();var St=function(){try{[1,2].sort(undefined);return true}catch(t){}return false}();P(r,{sort:function sort(t){if(typeof t==="undefined"){return rt(this)}if(!D(t)){throw new TypeError("Array.prototype.sort callback must be a function")}return rt(this,t)}},mt||!St||!Dt);var xt=!tt({toString:null},"toString");var Ot=tt(function(){},"prototype");var Et=!G("x","0");var jt=function(t){var r=t.constructor;return r&&r.prototype===t};var It={$applicationCache:true,$console:true,$external:true,$frame:true,$frameElement:true,$frames:true,$innerHeight:true,$innerWidth:true,$onmozfullscreenchange:true,$onmozfullscreenerror:true,$outerHeight:true,$outerWidth:true,$pageXOffset:true,$pageYOffset:true,$parent:true,$scrollLeft:true,$scrollTop:true,$scrollX:true,$scrollY:true,$self:true,$webkitIndexedDB:true,$webkitStorageInfo:true,$window:true,$width:true,$height:true,$top:true,$localStorage:true};var Mt=function(){if(typeof window==="undefined"){return false}for(var t in window){try{if(!It["$"+t]&&G(window,t)&&window[t]!==null&&typeof window[t]==="object"){jt(window[t])}}catch(r){return true}}return false}();var Ut=function(t){if(typeof window==="undefined"||!Mt){return jt(t)}try{return jt(t)}catch(r){return false}};var $t=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"];var Ft=$t.length;var Nt=function isArguments(t){return H(t)==="[object Arguments]"};var Ct=function isArguments(t){return t!==null&&typeof t==="object"&&typeof t.length==="number"&&t.length>=0&&!et(t)&&D(t.callee)};var kt=Nt(arguments)?Nt:Ct;P(e,{keys:function keys(t){var r=D(t);var e=kt(t);var n=t!==null&&typeof t==="object";var i=n&&N(t);if(!n&&!r&&!e){throw new TypeError("Object.keys called on a non-object")}var a=[];var f=Ot&&r;if(i&&Et||e){for(var u=0;u<t.length;++u){_(a,o(u))}}if(!e){for(var l in t){if(!(f&&l==="prototype")&&G(t,l)){_(a,o(l))}}}if(xt){var s=Ut(t);for(var c=0;c<Ft;c++){var v=$t[c];if(!(s&&v==="constructor")&&G(t,v)){_(a,v)}}}return a}});var At=e.keys&&function(){return e.keys(arguments).length===2}(1,2);var Rt=e.keys&&function(){var t=e.keys(arguments);return arguments.length!==1||t.length!==1||t[0]!==1}(1);var Pt=e.keys;P(e,{keys:function keys(t){if(kt(t)){return Pt(W(t))}else{return Pt(t)}}},!At||Rt);var Jt=new Date(-0xc782b5b342b24).getUTCMonth()!==0;var Yt=new Date(-0x55d318d56a724);var zt=new Date(14496624e5);var Zt=Yt.toUTCString()!=="Mon, 01 Jan -45875 11:59:59 GMT";var Gt;var Ht;var Wt=Yt.getTimezoneOffset();if(Wt<-720){Gt=Yt.toDateString()!=="Tue Jan 02 -45875";Ht=!/^Thu Dec 10 2015 \d\d:\d\d:\d\d GMT[-+]\d\d\d\d(?: |$)/.test(String(zt))}else{Gt=Yt.toDateString()!=="Mon Jan 01 -45875";Ht=!/^Wed Dec 09 2015 \d\d:\d\d:\d\d GMT[-+]\d\d\d\d(?: |$)/.test(String(zt))}var Bt=d.bind(Date.prototype.getFullYear);var Xt=d.bind(Date.prototype.getMonth);var Lt=d.bind(Date.prototype.getDate);var qt=d.bind(Date.prototype.getUTCFullYear);var Kt=d.bind(Date.prototype.getUTCMonth);var Qt=d.bind(Date.prototype.getUTCDate);var Vt=d.bind(Date.prototype.getUTCDay);var _t=d.bind(Date.prototype.getUTCHours);var tr=d.bind(Date.prototype.getUTCMinutes);var rr=d.bind(Date.prototype.getUTCSeconds);var er=d.bind(Date.prototype.getUTCMilliseconds);var nr=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"];var ir=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];var ar=function daysInMonth(t,r){return Lt(new Date(r,t,0))};P(Date.prototype,{getFullYear:function getFullYear(){if(!this||!(this instanceof Date)){throw new TypeError("this is not a Date object.")}var t=Bt(this);if(t<0&&Xt(this)>11){return t+1}return t},getMonth:function getMonth(){if(!this||!(this instanceof Date)){throw new TypeError("this is not a Date object.")}var t=Bt(this);var r=Xt(this);if(t<0&&r>11){return 0}return r},getDate:function getDate(){if(!this||!(this instanceof Date)){throw new TypeError("this is not a Date object.")}var t=Bt(this);var r=Xt(this);var e=Lt(this);if(t<0&&r>11){if(r===12){return e}var n=ar(0,t+1);return n-e+1}return e},getUTCFullYear:function getUTCFullYear(){if(!this||!(this instanceof Date)){throw new TypeError("this is not a Date object.")}var t=qt(this);if(t<0&&Kt(this)>11){return t+1}return t},getUTCMonth:function getUTCMonth(){if(!this||!(this instanceof Date)){throw new TypeError("this is not a Date object.")}var t=qt(this);var r=Kt(this);if(t<0&&r>11){return 0}return r},getUTCDate:function getUTCDate(){if(!this||!(this instanceof Date)){throw new TypeError("this is not a Date object.")}var t=qt(this);var r=Kt(this);var e=Qt(this);if(t<0&&r>11){if(r===12){return e}var n=ar(0,t+1);return n-e+1}return e}},Jt);P(Date.prototype,{toUTCString:function toUTCString(){if(!this||!(this instanceof Date)){throw new TypeError("this is not a Date object.")}var t=Vt(this);var r=Qt(this);var e=Kt(this);var n=qt(this);var i=_t(this);var a=tr(this);var o=rr(this);return nr[t]+", "+(r<10?"0"+r:r)+" "+ir[e]+" "+n+" "+(i<10?"0"+i:i)+":"+(a<10?"0"+a:a)+":"+(o<10?"0"+o:o)+" GMT"}},Jt||Zt);P(Date.prototype,{toDateString:function toDateString(){if(!this||!(this instanceof Date)){throw new TypeError("this is not a Date object.")}var t=this.getDay();var r=this.getDate();var e=this.getMonth();var n=this.getFullYear();return nr[t]+" "+ir[e]+" "+(r<10?"0"+r:r)+" "+n}},Jt||Gt);if(Jt||Ht){Date.prototype.toString=function toString(){if(!this||!(this instanceof Date)){throw new TypeError("this is not a Date object.")}var t=this.getDay();var r=this.getDate();var e=this.getMonth();var n=this.getFullYear();var i=this.getHours();var a=this.getMinutes();var o=this.getSeconds();var f=this.getTimezoneOffset();var u=Math.floor(Math.abs(f)/60);var l=Math.floor(Math.abs(f)%60);return nr[t]+" "+ir[e]+" "+(r<10?"0"+r:r)+" "+n+" "+(i<10?"0"+i:i)+":"+(a<10?"0"+a:a)+":"+(o<10?"0"+o:o)+" GMT"+(f>0?"-":"+")+(u<10?"0"+u:u)+(l<10?"0"+l:l)};if(R){e.defineProperty(Date.prototype,"toString",{configurable:true,enumerable:false,writable:true})}}var or=-621987552e5;var fr="-000001";var ur=Date.prototype.toISOString&&new Date(or).toISOString().indexOf(fr)===-1;var lr=Date.prototype.toISOString&&new Date(-1).toISOString()!=="1969-12-31T23:59:59.999Z";var sr=d.bind(Date.prototype.getTime);P(Date.prototype,{toISOString:function toISOString(){if(!isFinite(this)||!isFinite(sr(this))){throw new RangeError("Date.prototype.toISOString called on non-finite value.")}var t=qt(this);var r=Kt(this);t+=Math.floor(r/12);r=(r%12+12)%12;var e=[r+1,Qt(this),_t(this),tr(this),rr(this)];t=(t<0?"-":t>9999?"+":"")+K("00000"+Math.abs(t),0<=t&&t<=9999?-4:-6);for(var n=0;n<e.length;++n){e[n]=K("00"+e[n],-2)}return t+"-"+W(e,0,2).join("-")+"T"+W(e,2).join(":")+"."+K("000"+er(this),-3)+"Z"}},ur||lr);var cr=function(){try{return Date.prototype.toJSON&&new Date(NaN).toJSON()===null&&new Date(or).toJSON().indexOf(fr)!==-1&&Date.prototype.toJSON.call({toISOString:function(){return true}})}catch(t){return false}}();if(!cr){Date.prototype.toJSON=function toJSON(t){var r=e(this);var n=z.ToPrimitive(r);if(typeof n==="number"&&!isFinite(n)){return null}var i=r.toISOString;if(!D(i)){throw new TypeError("toISOString property is not callable")}return i.call(r)}}var vr=Date.parse("+033658-09-27T01:46:40.000Z")===1e15;var hr=!isNaN(Date.parse("2012-04-04T24:00:00.500Z"))||!isNaN(Date.parse("2012-11-31T23:59:59.000Z"))||!isNaN(Date.parse("2012-12-31T23:59:60.000Z"));var pr=isNaN(Date.parse("2000-01-01T00:00:00.000Z"));if(pr||hr||!vr){var yr=Math.pow(2,31)-1;var dr=Y(new Date(1970,0,1,0,0,0,yr+1).getTime());Date=function(t){var r=function Date(e,n,i,a,f,u,l){var s=arguments.length;var c;if(this instanceof t){var v=u;var h=l;if(dr&&s>=7&&l>yr){var p=Math.floor(l/yr)*yr;var y=Math.floor(p/1e3);v+=y;h-=y*1e3}c=s===1&&o(e)===e?new t(r.parse(e)):s>=7?new t(e,n,i,a,f,v,h):s>=6?new t(e,n,i,a,f,v):s>=5?new t(e,n,i,a,f):s>=4?new t(e,n,i,a):s>=3?new t(e,n,i):s>=2?new t(e,n):s>=1?new t(e instanceof t?+e:e):new t}else{c=t.apply(this,arguments)}if(!J(c)){P(c,{constructor:r},true)}return c};var e=new RegExp("^"+"(\\d{4}|[+-]\\d{6})"+"(?:-(\\d{2})"+"(?:-(\\d{2})"+"(?:"+"T(\\d{2})"+":(\\d{2})"+"(?:"+":(\\d{2})"+"(?:(\\.\\d{1,}))?"+")?"+"("+"Z|"+"(?:"+"([-+])"+"(\\d{2})"+":(\\d{2})"+")"+")?)?)?)?"+"$");var n=[0,31,59,90,120,151,181,212,243,273,304,334,365];var i=function dayFromMonth(t,r){var e=r>1?1:0;return n[r]+Math.floor((t-1969+e)/4)-Math.floor((t-1901+e)/100)+Math.floor((t-1601+e)/400)+365*(t-1970)};var a=function toUTC(r){var e=0;var n=r;if(dr&&n>yr){var i=Math.floor(n/yr)*yr;var a=Math.floor(i/1e3);e+=a;n-=a*1e3}return u(new t(1970,0,1,0,0,e,n))};for(var f in t){if(G(t,f)){r[f]=t[f]}}P(r,{now:t.now,UTC:t.UTC},true);r.prototype=t.prototype;P(r.prototype,{constructor:r},true);var l=function parse(r){var n=e.exec(r);if(n){var o=u(n[1]),f=u(n[2]||1)-1,l=u(n[3]||1)-1,s=u(n[4]||0),c=u(n[5]||0),v=u(n[6]||0),h=Math.floor(u(n[7]||0)*1e3),p=Boolean(n[4]&&!n[8]),y=n[9]==="-"?1:-1,d=u(n[10]||0),g=u(n[11]||0),w;var b=c>0||v>0||h>0;if(s<(b?24:25)&&c<60&&v<60&&h<1e3&&f>-1&&f<12&&d<24&&g<60&&l>-1&&l<i(o,f+1)-i(o,f)){w=((i(o,f)+l)*24+s+d*y)*60;w=((w+c+g*y)*60+v)*1e3+h;if(p){w=a(w)}if(-864e13<=w&&w<=864e13){return w}}return NaN}return t.parse.apply(this,arguments)};P(r,{parse:l});return r}(Date)}if(!Date.now){Date.now=function now(){return(new Date).getTime()}}var gr=l.toFixed&&(8e-5.toFixed(3)!=="0.000"||.9.toFixed(0)!=="1"||1.255.toFixed(2)!=="1.25"||(1000000000000000128).toFixed(0)!=="1000000000000000128");var wr={base:1e7,size:6,data:[0,0,0,0,0,0],multiply:function multiply(t,r){var e=-1;var n=r;while(++e<wr.size){n+=t*wr.data[e];wr.data[e]=n%wr.base;n=Math.floor(n/wr.base)}},divide:function divide(t){var r=wr.size;var e=0;while(--r>=0){e+=wr.data[r];wr.data[r]=Math.floor(e/t);e=e%t*wr.base}},numToString:function numToString(){var t=wr.size;var r="";while(--t>=0){if(r!==""||t===0||wr.data[t]!==0){var e=o(wr.data[t]);if(r===""){r=e}else{r+=K("0000000",0,7-e.length)+e}}}return r},pow:function pow(t,r,e){return r===0?e:r%2===1?pow(t,r-1,e*t):pow(t*t,r/2,e)},log:function log(t){var r=0;var e=t;while(e>=4096){r+=12;e/=4096}while(e>=2){r+=1;e/=2}return r}};var br=function toFixed(t){var r,e,n,i,a,f,l,s;r=u(t);r=Y(r)?0:Math.floor(r);if(r<0||r>20){throw new RangeError("Number.toFixed called with invalid number of decimals")}e=u(this);if(Y(e)){return"NaN"}if(e<=-1e21||e>=1e21){return o(e)}n="";if(e<0){n="-";e=-e}i="0";if(e>1e-21){a=wr.log(e*wr.pow(2,69,1))-69;f=a<0?e*wr.pow(2,-a,1):e/wr.pow(2,a,1);f*=4503599627370496;a=52-a;if(a>0){wr.multiply(0,f);l=r;while(l>=7){wr.multiply(1e7,0);l-=7}wr.multiply(wr.pow(10,l,1),0);l=a-1;while(l>=23){wr.divide(1<<23);l-=23}wr.divide(1<<l);wr.multiply(1,1);wr.divide(2);i=wr.numToString()}else{wr.multiply(0,f);wr.multiply(1<<-a,0);i=wr.numToString()+K("0.00000000000000000000",2,2+r)}}if(r>0){s=i.length;if(s<=r){i=n+K("0.0000000000000000000",0,r-s+2)+i}else{i=n+K(i,0,s-r)+"."+K(i,s-r)}}else{i=n+i}return i};P(l,{toFixed:br},gr);var Tr=function(){try{return 1..toPrecision(undefined)==="1"}catch(t){return true}}();var mr=l.toPrecision;P(l,{toPrecision:function toPrecision(t){return typeof t==="undefined"?mr.call(this):mr.call(this,t)}},Tr);if("ab".split(/(?:ab)*/).length!==2||".".split(/(.?)(.?)/).length!==4||"tesst".split(/(s)*/)[1]==="t"||"test".split(/(?:)/,-1).length!==4||"".split(/.?/).length||".".split(/()()/).length>1){(function(){var t=typeof/()??/.exec("")[1]==="undefined";var r=Math.pow(2,32)-1;f.split=function(e,n){var i=String(this);if(typeof e==="undefined"&&n===0){return[]}if(!M(e)){return Q(this,e,n)}var a=[];var o=(e.ignoreCase?"i":"")+(e.multiline?"m":"")+(e.unicode?"u":"")+(e.sticky?"y":""),f=0,u,l,s,c;var h=new RegExp(e.source,o+"g");if(!t){u=new RegExp("^"+h.source+"$(?!\\s)",o)}var p=typeof n==="undefined"?r:z.ToUint32(n);l=h.exec(i);while(l){s=l.index+l[0].length;if(s>f){_(a,K(i,f,l.index));if(!t&&l.length>1){l[0].replace(u,function(){for(var t=1;t<arguments.length-2;t++){if(typeof arguments[t]==="undefined"){l[t]=void 0}}})}if(l.length>1&&l.index<i.length){v.apply(a,W(l,1))}c=l[0].length;f=s;if(a.length>=p){break}}if(h.lastIndex===l.index){h.lastIndex++}l=h.exec(i)}if(f===i.length){if(c||!h.test("")){_(a,"")}}else{_(a,K(i,f))}return a.length>p?W(a,0,p):a}})()}else if("0".split(void 0,0).length){f.split=function split(t,r){if(typeof t==="undefined"&&r===0){return[]}return Q(this,t,r)}}var Dr=f.replace;var Sr=function(){var t=[];"x".replace(/x(.)?/g,function(r,e){_(t,e)});return t.length===1&&typeof t[0]==="undefined"}();if(!Sr){f.replace=function replace(t,r){var e=D(r);var n=M(t)&&/\)[*?]/.test(t.source);if(!e||!n){return Dr.call(this,t,r)}else{var i=function(e){var n=arguments.length;var i=t.lastIndex;t.lastIndex=0;var a=t.exec(e)||[];t.lastIndex=i;_(a,arguments[n-2],arguments[n-1]);return r.apply(this,a)};return Dr.call(this,t,i)}}}var xr=f.substr;var Or="".substr&&"0b".substr(-1)!=="b";P(f,{substr:function substr(t,r){var e=t;if(t<0){e=w(this.length+t,0)}return xr.call(this,e,r)}},Or);var Er="\t\n\x0B\f\r \xa0\u1680\u180e\u2000\u2001\u2002\u2003"+"\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028"+"\u2029\ufeff";var jr="\u200b";var Ir="["+Er+"]";var Mr=new RegExp("^"+Ir+Ir+"*");var Ur=new RegExp(Ir+Ir+"*$");var $r=f.trim&&(Er.trim()||!jr.trim());P(f,{trim:function trim(){if(typeof this==="undefined"||this===null){throw new TypeError("can't convert "+this+" to object")}return o(this).replace(Mr,"").replace(Ur,"")}},$r);var Fr=d.bind(String.prototype.trim);var Nr=f.lastIndexOf&&"abc\u3042\u3044".lastIndexOf("\u3042\u3044",2)!==-1;P(f,{lastIndexOf:function lastIndexOf(t){if(typeof this==="undefined"||this===null){throw new TypeError("can't convert "+this+" to object")}var r=o(this);var e=o(t);var n=arguments.length>1?u(arguments[1]):NaN;var i=Y(n)?Infinity:z.ToInteger(n);var a=b(w(i,0),r.length);var f=e.length;var l=a+f;while(l>0){l=w(0,l-f);var s=V(K(r,l,a+f),e);if(s!==-1){return l+s}}return-1}},Nr);var Cr=f.lastIndexOf;P(f,{lastIndexOf:function lastIndexOf(t){return Cr.apply(this,arguments)}},f.lastIndexOf.length!==1);if(parseInt(Er+"08")!==8||parseInt(Er+"0x16")!==22){parseInt=function(t){var r=/^[-+]?0[xX]/;return function parseInt(e,n){if(typeof e==="symbol"){""+e}var i=Fr(String(e));var a=u(n)||(r.test(i)?16:10);return t(i,a)}}(parseInt)}if(1/parseFloat("-0")!==-Infinity){parseFloat=function(t){return function parseFloat(r){var e=Fr(String(r));var n=t(e);return n===0&&K(e,0,1)==="-"?-0:n}}(parseFloat)}if(String(new RangeError("test"))!=="RangeError: test"){var kr=function toString(){if(typeof this==="undefined"||this===null){throw new TypeError("can't convert "+this+" to object")}var t=this.name;if(typeof t==="undefined"){t="Error"}else if(typeof t!=="string"){t=o(t)}var r=this.message;if(typeof r==="undefined"){r=""}else if(typeof r!=="string"){r=o(r)}if(!t){return r}if(!r){return t}return t+": "+r};Error.prototype.toString=kr}if(R){var Ar=function(t,r){if(tt(t,r)){var e=Object.getOwnPropertyDescriptor(t,r);if(e.configurable){e.enumerable=false;Object.defineProperty(t,r,e)}}};Ar(Error.prototype,"message");if(Error.prototype.message!==""){Error.prototype.message=""}Ar(Error.prototype,"name")}if(String(/a/gim)!=="/a/gim"){var Rr=function toString(){var t="/"+this.source+"/";if(this.global){t+="g"}if(this.ignoreCase){t+="i"}if(this.multiline){t+="m"}return t};RegExp.prototype.toString=Rr}});
//# sourceMappingURL=es5-shim.map
/*!
 * https://github.com/paulmillr/es6-shim
 * @license es6-shim Copyright 2013-2016 by Paul Miller (http://paulmillr.com)
 *   and contributors,  MIT License
 * es6-shim: v0.35.4
 * see https://github.com/paulmillr/es6-shim/blob/0.35.4/LICENSE
 * Details and documentation:
 * https://github.com/paulmillr/es6-shim/
 */
(function(e,t){if(typeof define==="function"&&define.amd){define(t)}else if(typeof exports==="object"){module.exports=t()}else{e.returnExports=t()}})(this,function(){"use strict";var e=Function.call.bind(Function.apply);var t=Function.call.bind(Function.call);var r=Array.isArray;var n=Object.keys;var o=function notThunker(t){return function notThunk(){return!e(t,this,arguments)}};var i=function(e){try{e();return false}catch(t){return true}};var a=function valueOrFalseIfThrows(e){try{return e()}catch(t){return false}};var u=o(i);var f=function(){return!i(function(){return Object.defineProperty({},"x",{get:function(){}})})};var s=!!Object.defineProperty&&f();var c=function foo(){}.name==="foo";var l=Function.call.bind(Array.prototype.forEach);var p=Function.call.bind(Array.prototype.reduce);var v=Function.call.bind(Array.prototype.filter);var y=Function.call.bind(Array.prototype.some);var h=function(e,t,r,n){if(!n&&t in e){return}if(s){Object.defineProperty(e,t,{configurable:true,enumerable:false,writable:true,value:r})}else{e[t]=r}};var b=function(e,t,r){l(n(t),function(n){var o=t[n];h(e,n,o,!!r)})};var g=Function.call.bind(Object.prototype.toString);var d=typeof/abc/==="function"?function IsCallableSlow(e){return typeof e==="function"&&g(e)==="[object Function]"}:function IsCallableFast(e){return typeof e==="function"};var m={getter:function(e,t,r){if(!s){throw new TypeError("getters require true ES5 support")}Object.defineProperty(e,t,{configurable:true,enumerable:false,get:r})},proxy:function(e,t,r){if(!s){throw new TypeError("getters require true ES5 support")}var n=Object.getOwnPropertyDescriptor(e,t);Object.defineProperty(r,t,{configurable:n.configurable,enumerable:n.enumerable,get:function getKey(){return e[t]},set:function setKey(r){e[t]=r}})},redefine:function(e,t,r){if(s){var n=Object.getOwnPropertyDescriptor(e,t);n.value=r;Object.defineProperty(e,t,n)}else{e[t]=r}},defineByDescriptor:function(e,t,r){if(s){Object.defineProperty(e,t,r)}else if("value"in r){e[t]=r.value}},preserveToString:function(e,t){if(t&&d(t.toString)){h(e,"toString",t.toString.bind(t),true)}}};var O=Object.create||function(e,t){var r=function Prototype(){};r.prototype=e;var o=new r;if(typeof t!=="undefined"){n(t).forEach(function(e){m.defineByDescriptor(o,e,t[e])})}return o};var w=function(e,t){if(!Object.setPrototypeOf){return false}return a(function(){var r=function Subclass(t){var r=new e(t);Object.setPrototypeOf(r,Subclass.prototype);return r};Object.setPrototypeOf(r,e);r.prototype=O(e.prototype,{constructor:{value:r}});return t(r)})};var j=function(){if(typeof self!=="undefined"){return self}if(typeof window!=="undefined"){return window}if(typeof global!=="undefined"){return global}throw new Error("unable to locate global object")};var S=j();var T=S.isFinite;var I=Function.call.bind(String.prototype.indexOf);var E=Function.apply.bind(Array.prototype.indexOf);var P=Function.call.bind(Array.prototype.concat);var C=Function.call.bind(String.prototype.slice);var M=Function.call.bind(Array.prototype.push);var x=Function.apply.bind(Array.prototype.push);var N=Function.call.bind(Array.prototype.shift);var A=Math.max;var R=Math.min;var _=Math.floor;var k=Math.abs;var L=Math.exp;var F=Math.log;var D=Math.sqrt;var z=Function.call.bind(Object.prototype.hasOwnProperty);var q;var W=function(){};var G=S.Map;var H=G&&G.prototype["delete"];var V=G&&G.prototype.get;var B=G&&G.prototype.has;var U=G&&G.prototype.set;var $=S.Symbol||{};var J=$.species||"@@species";var X=Number.isNaN||function isNaN(e){return e!==e};var K=Number.isFinite||function isFinite(e){return typeof e==="number"&&T(e)};var Z=d(Math.sign)?Math.sign:function sign(e){var t=Number(e);if(t===0){return t}if(X(t)){return t}return t<0?-1:1};var Y=function log1p(e){var t=Number(e);if(t<-1||X(t)){return NaN}if(t===0||t===Infinity){return t}if(t===-1){return-Infinity}return 1+t-1===0?t:t*(F(1+t)/(1+t-1))};var Q=function isArguments(e){return g(e)==="[object Arguments]"};var ee=function isArguments(e){return e!==null&&typeof e==="object"&&typeof e.length==="number"&&e.length>=0&&g(e)!=="[object Array]"&&g(e.callee)==="[object Function]"};var te=Q(arguments)?Q:ee;var re={primitive:function(e){return e===null||typeof e!=="function"&&typeof e!=="object"},string:function(e){return g(e)==="[object String]"},regex:function(e){return g(e)==="[object RegExp]"},symbol:function(e){return typeof S.Symbol==="function"&&typeof e==="symbol"}};var ne=function overrideNative(e,t,r){var n=e[t];h(e,t,r,true);m.preserveToString(e[t],n)};var oe=typeof $==="function"&&typeof $["for"]==="function"&&re.symbol($());var ie=re.symbol($.iterator)?$.iterator:"_es6-shim iterator_";if(S.Set&&typeof(new S.Set)["@@iterator"]==="function"){ie="@@iterator"}if(!S.Reflect){h(S,"Reflect",{},true)}var ae=S.Reflect;var ue=String;var fe=typeof document==="undefined"||!document?null:document.all;var se=fe==null?function isNullOrUndefined(e){return e==null}:function isNullOrUndefinedAndNotDocumentAll(e){return e==null&&e!==fe};var ce={Call:function Call(t,r){var n=arguments.length>2?arguments[2]:[];if(!ce.IsCallable(t)){throw new TypeError(t+" is not a function")}return e(t,r,n)},RequireObjectCoercible:function(e,t){if(se(e)){throw new TypeError(t||"Cannot call method on "+e)}return e},TypeIsObject:function(e){if(e===void 0||e===null||e===true||e===false){return false}return typeof e==="function"||typeof e==="object"||e===fe},ToObject:function(e,t){return Object(ce.RequireObjectCoercible(e,t))},IsCallable:d,IsConstructor:function(e){return ce.IsCallable(e)},ToInt32:function(e){return ce.ToNumber(e)>>0},ToUint32:function(e){return ce.ToNumber(e)>>>0},ToNumber:function(e){if(g(e)==="[object Symbol]"){throw new TypeError("Cannot convert a Symbol value to a number")}return+e},ToInteger:function(e){var t=ce.ToNumber(e);if(X(t)){return 0}if(t===0||!K(t)){return t}return(t>0?1:-1)*_(k(t))},ToLength:function(e){var t=ce.ToInteger(e);if(t<=0){return 0}if(t>Number.MAX_SAFE_INTEGER){return Number.MAX_SAFE_INTEGER}return t},SameValue:function(e,t){if(e===t){if(e===0){return 1/e===1/t}return true}return X(e)&&X(t)},SameValueZero:function(e,t){return e===t||X(e)&&X(t)},IsIterable:function(e){return ce.TypeIsObject(e)&&(typeof e[ie]!=="undefined"||te(e))},GetIterator:function(e){if(te(e)){return new q(e,"value")}var t=ce.GetMethod(e,ie);if(!ce.IsCallable(t)){throw new TypeError("value is not an iterable")}var r=ce.Call(t,e);if(!ce.TypeIsObject(r)){throw new TypeError("bad iterator")}return r},GetMethod:function(e,t){var r=ce.ToObject(e)[t];if(se(r)){return void 0}if(!ce.IsCallable(r)){throw new TypeError("Method not callable: "+t)}return r},IteratorComplete:function(e){return!!e.done},IteratorClose:function(e,t){var r=ce.GetMethod(e,"return");if(r===void 0){return}var n,o;try{n=ce.Call(r,e)}catch(i){o=i}if(t){return}if(o){throw o}if(!ce.TypeIsObject(n)){throw new TypeError("Iterator's return method returned a non-object.")}},IteratorNext:function(e){var t=arguments.length>1?e.next(arguments[1]):e.next();if(!ce.TypeIsObject(t)){throw new TypeError("bad iterator")}return t},IteratorStep:function(e){var t=ce.IteratorNext(e);var r=ce.IteratorComplete(t);return r?false:t},Construct:function(e,t,r,n){var o=typeof r==="undefined"?e:r;if(!n&&ae.construct){return ae.construct(e,t,o)}var i=o.prototype;if(!ce.TypeIsObject(i)){i=Object.prototype}var a=O(i);var u=ce.Call(e,a,t);return ce.TypeIsObject(u)?u:a},SpeciesConstructor:function(e,t){var r=e.constructor;if(r===void 0){return t}if(!ce.TypeIsObject(r)){throw new TypeError("Bad constructor")}var n=r[J];if(se(n)){return t}if(!ce.IsConstructor(n)){throw new TypeError("Bad @@species")}return n},CreateHTML:function(e,t,r,n){var o=ce.ToString(e);var i="<"+t;if(r!==""){var a=ce.ToString(n);var u=a.replace(/"/g,"&quot;");i+=" "+r+'="'+u+'"'}var f=i+">";var s=f+o;return s+"</"+t+">"},IsRegExp:function IsRegExp(e){if(!ce.TypeIsObject(e)){return false}var t=e[$.match];if(typeof t!=="undefined"){return!!t}return re.regex(e)},ToString:function ToString(e){return ue(e)}};if(s&&oe){var le=function defineWellKnownSymbol(e){if(re.symbol($[e])){return $[e]}var t=$["for"]("Symbol."+e);Object.defineProperty($,e,{configurable:false,enumerable:false,writable:false,value:t});return t};if(!re.symbol($.search)){var pe=le("search");var ve=String.prototype.search;h(RegExp.prototype,pe,function search(e){return ce.Call(ve,e,[this])});var ye=function search(e){var t=ce.RequireObjectCoercible(this);if(!se(e)){var r=ce.GetMethod(e,pe);if(typeof r!=="undefined"){return ce.Call(r,e,[t])}}return ce.Call(ve,t,[ce.ToString(e)])};ne(String.prototype,"search",ye)}if(!re.symbol($.replace)){var he=le("replace");var be=String.prototype.replace;h(RegExp.prototype,he,function replace(e,t){return ce.Call(be,e,[this,t])});var ge=function replace(e,t){var r=ce.RequireObjectCoercible(this);if(!se(e)){var n=ce.GetMethod(e,he);if(typeof n!=="undefined"){return ce.Call(n,e,[r,t])}}return ce.Call(be,r,[ce.ToString(e),t])};ne(String.prototype,"replace",ge)}if(!re.symbol($.split)){var de=le("split");var me=String.prototype.split;h(RegExp.prototype,de,function split(e,t){return ce.Call(me,e,[this,t])});var Oe=function split(e,t){var r=ce.RequireObjectCoercible(this);if(!se(e)){var n=ce.GetMethod(e,de);if(typeof n!=="undefined"){return ce.Call(n,e,[r,t])}}return ce.Call(me,r,[ce.ToString(e),t])};ne(String.prototype,"split",Oe)}var we=re.symbol($.match);var je=we&&function(){var e={};e[$.match]=function(){return 42};return"a".match(e)!==42}();if(!we||je){var Se=le("match");var Te=String.prototype.match;h(RegExp.prototype,Se,function match(e){return ce.Call(Te,e,[this])});var Ie=function match(e){var t=ce.RequireObjectCoercible(this);if(!se(e)){var r=ce.GetMethod(e,Se);if(typeof r!=="undefined"){return ce.Call(r,e,[t])}}return ce.Call(Te,t,[ce.ToString(e)])};ne(String.prototype,"match",Ie)}}var Ee=function wrapConstructor(e,t,r){m.preserveToString(t,e);if(Object.setPrototypeOf){Object.setPrototypeOf(e,t)}if(s){l(Object.getOwnPropertyNames(e),function(n){if(n in W||r[n]){return}m.proxy(e,n,t)})}else{l(Object.keys(e),function(n){if(n in W||r[n]){return}t[n]=e[n]})}t.prototype=e.prototype;m.redefine(e.prototype,"constructor",t)};var Pe=function(){return this};var Ce=function(e){if(s&&!z(e,J)){m.getter(e,J,Pe)}};var Me=function(e,t){var r=t||function iterator(){return this};h(e,ie,r);if(!e[ie]&&re.symbol(ie)){e[ie]=r}};var xe=function createDataProperty(e,t,r){if(s){Object.defineProperty(e,t,{configurable:true,enumerable:true,writable:true,value:r})}else{e[t]=r}};var Ne=function createDataPropertyOrThrow(e,t,r){xe(e,t,r);if(!ce.SameValue(e[t],r)){throw new TypeError("property is nonconfigurable")}};var Ae=function(e,t,r,n){if(!ce.TypeIsObject(e)){throw new TypeError("Constructor requires `new`: "+t.name)}var o=t.prototype;if(!ce.TypeIsObject(o)){o=r}var i=O(o);for(var a in n){if(z(n,a)){var u=n[a];h(i,a,u,true)}}return i};if(String.fromCodePoint&&String.fromCodePoint.length!==1){var Re=String.fromCodePoint;ne(String,"fromCodePoint",function fromCodePoint(e){return ce.Call(Re,this,arguments)})}var _e={fromCodePoint:function fromCodePoint(e){var t=[];var r;for(var n=0,o=arguments.length;n<o;n++){r=Number(arguments[n]);if(!ce.SameValue(r,ce.ToInteger(r))||r<0||r>1114111){throw new RangeError("Invalid code point "+r)}if(r<65536){M(t,String.fromCharCode(r))}else{r-=65536;M(t,String.fromCharCode((r>>10)+55296));M(t,String.fromCharCode(r%1024+56320))}}return t.join("")},raw:function raw(e){var t=ce.ToObject(e,"bad callSite");var r=ce.ToObject(t.raw,"bad raw value");var n=r.length;var o=ce.ToLength(n);if(o<=0){return""}var i=[];var a=0;var u,f,s,c;while(a<o){u=ce.ToString(a);s=ce.ToString(r[u]);M(i,s);if(a+1>=o){break}f=a+1<arguments.length?arguments[a+1]:"";c=ce.ToString(f);M(i,c);a+=1}return i.join("")}};if(String.raw&&String.raw({raw:{0:"x",1:"y",length:2}})!=="xy"){ne(String,"raw",_e.raw)}b(String,_e);var ke=function repeat(e,t){if(t<1){return""}if(t%2){return repeat(e,t-1)+e}var r=repeat(e,t/2);return r+r};var Le=Infinity;var Fe={repeat:function repeat(e){var t=ce.ToString(ce.RequireObjectCoercible(this));var r=ce.ToInteger(e);if(r<0||r>=Le){throw new RangeError("repeat count must be less than infinity and not overflow maximum string size")}return ke(t,r)},startsWith:function startsWith(e){var t=ce.ToString(ce.RequireObjectCoercible(this));if(ce.IsRegExp(e)){throw new TypeError('Cannot call method "startsWith" with a regex')}var r=ce.ToString(e);var n;if(arguments.length>1){n=arguments[1]}var o=A(ce.ToInteger(n),0);return C(t,o,o+r.length)===r},endsWith:function endsWith(e){var t=ce.ToString(ce.RequireObjectCoercible(this));if(ce.IsRegExp(e)){throw new TypeError('Cannot call method "endsWith" with a regex')}var r=ce.ToString(e);var n=t.length;var o;if(arguments.length>1){o=arguments[1]}var i=typeof o==="undefined"?n:ce.ToInteger(o);var a=R(A(i,0),n);return C(t,a-r.length,a)===r},includes:function includes(e){if(ce.IsRegExp(e)){throw new TypeError('"includes" does not accept a RegExp')}var t=ce.ToString(e);var r;if(arguments.length>1){r=arguments[1]}return I(this,t,r)!==-1},codePointAt:function codePointAt(e){var t=ce.ToString(ce.RequireObjectCoercible(this));var r=ce.ToInteger(e);var n=t.length;if(r>=0&&r<n){var o=t.charCodeAt(r);var i=r+1===n;if(o<55296||o>56319||i){return o}var a=t.charCodeAt(r+1);if(a<56320||a>57343){return o}return(o-55296)*1024+(a-56320)+65536}}};if(String.prototype.includes&&"a".includes("a",Infinity)!==false){ne(String.prototype,"includes",Fe.includes)}if(String.prototype.startsWith&&String.prototype.endsWith){var De=i(function(){return"/a/".startsWith(/a/)});var ze=a(function(){return"abc".startsWith("a",Infinity)===false});if(!De||!ze){ne(String.prototype,"startsWith",Fe.startsWith);ne(String.prototype,"endsWith",Fe.endsWith)}}if(oe){var qe=a(function(){var e=/a/;e[$.match]=false;return"/a/".startsWith(e)});if(!qe){ne(String.prototype,"startsWith",Fe.startsWith)}var We=a(function(){var e=/a/;e[$.match]=false;return"/a/".endsWith(e)});if(!We){ne(String.prototype,"endsWith",Fe.endsWith)}var Ge=a(function(){var e=/a/;e[$.match]=false;return"/a/".includes(e)});if(!Ge){ne(String.prototype,"includes",Fe.includes)}}b(String.prototype,Fe);var He=["\t\n\x0B\f\r \xa0\u1680\u180e\u2000\u2001\u2002\u2003","\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028","\u2029\ufeff"].join("");var Ve=new RegExp("(^["+He+"]+)|(["+He+"]+$)","g");var Be=function trim(){return ce.ToString(ce.RequireObjectCoercible(this)).replace(Ve,"")};var Ue=["\x85","\u200b","\ufffe"].join("");var $e=new RegExp("["+Ue+"]","g");var Je=/^[-+]0x[0-9a-f]+$/i;var Xe=Ue.trim().length!==Ue.length;h(String.prototype,"trim",Be,Xe);var Ke=function(e){return{value:e,done:arguments.length===0}};var Ze=function(e){ce.RequireObjectCoercible(e);this._s=ce.ToString(e);this._i=0};Ze.prototype.next=function(){var e=this._s;var t=this._i;if(typeof e==="undefined"||t>=e.length){this._s=void 0;return Ke()}var r=e.charCodeAt(t);var n,o;if(r<55296||r>56319||t+1===e.length){o=1}else{n=e.charCodeAt(t+1);o=n<56320||n>57343?1:2}this._i=t+o;return Ke(e.substr(t,o))};Me(Ze.prototype);Me(String.prototype,function(){return new Ze(this)});var Ye={from:function from(e){var r=this;var n;if(arguments.length>1){n=arguments[1]}var o,i;if(typeof n==="undefined"){o=false}else{if(!ce.IsCallable(n)){throw new TypeError("Array.from: when provided, the second argument must be a function")}if(arguments.length>2){i=arguments[2]}o=true}var a=typeof(te(e)||ce.GetMethod(e,ie))!=="undefined";var u,f,s;if(a){f=ce.IsConstructor(r)?Object(new r):[];var c=ce.GetIterator(e);var l,p;s=0;while(true){l=ce.IteratorStep(c);if(l===false){break}p=l.value;try{if(o){p=typeof i==="undefined"?n(p,s):t(n,i,p,s)}f[s]=p}catch(v){ce.IteratorClose(c,true);throw v}s+=1}u=s}else{var y=ce.ToObject(e);u=ce.ToLength(y.length);f=ce.IsConstructor(r)?Object(new r(u)):new Array(u);var h;for(s=0;s<u;++s){h=y[s];if(o){h=typeof i==="undefined"?n(h,s):t(n,i,h,s)}Ne(f,s,h)}}f.length=u;return f},of:function of(){var e=arguments.length;var t=this;var n=r(t)||!ce.IsCallable(t)?new Array(e):ce.Construct(t,[e]);for(var o=0;o<e;++o){Ne(n,o,arguments[o])}n.length=e;return n}};b(Array,Ye);Ce(Array);q=function(e,t){this.i=0;this.array=e;this.kind=t};b(q.prototype,{next:function(){var e=this.i;var t=this.array;if(!(this instanceof q)){throw new TypeError("Not an ArrayIterator")}if(typeof t!=="undefined"){var r=ce.ToLength(t.length);for(;e<r;e++){var n=this.kind;var o;if(n==="key"){o=e}else if(n==="value"){o=t[e]}else if(n==="entry"){o=[e,t[e]]}this.i=e+1;return Ke(o)}}this.array=void 0;return Ke()}});Me(q.prototype);var Qe=Array.of===Ye.of||function(){var e=function Foo(e){this.length=e};e.prototype=[];var t=Array.of.apply(e,[1,2]);return t instanceof e&&t.length===2}();if(!Qe){ne(Array,"of",Ye.of)}var et={copyWithin:function copyWithin(e,t){var r=ce.ToObject(this);var n=ce.ToLength(r.length);var o=ce.ToInteger(e);var i=ce.ToInteger(t);var a=o<0?A(n+o,0):R(o,n);var u=i<0?A(n+i,0):R(i,n);var f;if(arguments.length>2){f=arguments[2]}var s=typeof f==="undefined"?n:ce.ToInteger(f);var c=s<0?A(n+s,0):R(s,n);var l=R(c-u,n-a);var p=1;if(u<a&&a<u+l){p=-1;u+=l-1;a+=l-1}while(l>0){if(u in r){r[a]=r[u]}else{delete r[a]}u+=p;a+=p;l-=1}return r},fill:function fill(e){var t;if(arguments.length>1){t=arguments[1]}var r;if(arguments.length>2){r=arguments[2]}var n=ce.ToObject(this);var o=ce.ToLength(n.length);t=ce.ToInteger(typeof t==="undefined"?0:t);r=ce.ToInteger(typeof r==="undefined"?o:r);var i=t<0?A(o+t,0):R(t,o);var a=r<0?o+r:r;for(var u=i;u<o&&u<a;++u){n[u]=e}return n},find:function find(e){var r=ce.ToObject(this);var n=ce.ToLength(r.length);if(!ce.IsCallable(e)){throw new TypeError("Array#find: predicate must be a function")}var o=arguments.length>1?arguments[1]:null;for(var i=0,a;i<n;i++){a=r[i];if(o){if(t(e,o,a,i,r)){return a}}else if(e(a,i,r)){return a}}},findIndex:function findIndex(e){var r=ce.ToObject(this);var n=ce.ToLength(r.length);if(!ce.IsCallable(e)){throw new TypeError("Array#findIndex: predicate must be a function")}var o=arguments.length>1?arguments[1]:null;for(var i=0;i<n;i++){if(o){if(t(e,o,r[i],i,r)){return i}}else if(e(r[i],i,r)){return i}}return-1},keys:function keys(){return new q(this,"key")},values:function values(){return new q(this,"value")},entries:function entries(){return new q(this,"entry")}};if(Array.prototype.keys&&!ce.IsCallable([1].keys().next)){delete Array.prototype.keys}if(Array.prototype.entries&&!ce.IsCallable([1].entries().next)){delete Array.prototype.entries}if(Array.prototype.keys&&Array.prototype.entries&&!Array.prototype.values&&Array.prototype[ie]){b(Array.prototype,{values:Array.prototype[ie]});if(re.symbol($.unscopables)){Array.prototype[$.unscopables].values=true}}if(c&&Array.prototype.values&&Array.prototype.values.name!=="values"){var tt=Array.prototype.values;ne(Array.prototype,"values",function values(){return ce.Call(tt,this,arguments)});h(Array.prototype,ie,Array.prototype.values,true)}b(Array.prototype,et);if(1/[true].indexOf(true,-0)<0){h(Array.prototype,"indexOf",function indexOf(e){var t=E(this,arguments);if(t===0&&1/t<0){return 0}return t},true)}Me(Array.prototype,function(){return this.values()});if(Object.getPrototypeOf){Me(Object.getPrototypeOf([].values()))}var rt=function(){return a(function(){return Array.from({length:-1}).length===0})}();var nt=function(){var e=Array.from([0].entries());return e.length===1&&r(e[0])&&e[0][0]===0&&e[0][1]===0}();if(!rt||!nt){ne(Array,"from",Ye.from)}var ot=function(){return a(function(){return Array.from([0],void 0)})}();if(!ot){var it=Array.from;ne(Array,"from",function from(e){if(arguments.length>1&&typeof arguments[1]!=="undefined"){return ce.Call(it,this,arguments)}else{return t(it,this,e)}})}var at=-(Math.pow(2,32)-1);var ut=function(e,r){var n={length:at};n[r?(n.length>>>0)-1:0]=true;return a(function(){t(e,n,function(){throw new RangeError("should not reach here")},[]);return true})};if(!ut(Array.prototype.forEach)){var ft=Array.prototype.forEach;ne(Array.prototype,"forEach",function forEach(e){return ce.Call(ft,this.length>=0?this:[],arguments)},true)}if(!ut(Array.prototype.map)){var st=Array.prototype.map;ne(Array.prototype,"map",function map(e){return ce.Call(st,this.length>=0?this:[],arguments)},true)}if(!ut(Array.prototype.filter)){var ct=Array.prototype.filter;ne(Array.prototype,"filter",function filter(e){return ce.Call(ct,this.length>=0?this:[],arguments)},true)}if(!ut(Array.prototype.some)){var lt=Array.prototype.some;ne(Array.prototype,"some",function some(e){return ce.Call(lt,this.length>=0?this:[],arguments)},true)}if(!ut(Array.prototype.every)){var pt=Array.prototype.every;ne(Array.prototype,"every",function every(e){return ce.Call(pt,this.length>=0?this:[],arguments)},true)}if(!ut(Array.prototype.reduce)){var vt=Array.prototype.reduce;ne(Array.prototype,"reduce",function reduce(e){return ce.Call(vt,this.length>=0?this:[],arguments)},true)}if(!ut(Array.prototype.reduceRight,true)){var yt=Array.prototype.reduceRight;ne(Array.prototype,"reduceRight",function reduceRight(e){return ce.Call(yt,this.length>=0?this:[],arguments)},true)}var ht=Number("0o10")!==8;var bt=Number("0b10")!==2;var gt=y(Ue,function(e){return Number(e+0+e)===0});if(ht||bt||gt){var dt=Number;var mt=/^0b[01]+$/i;var Ot=/^0o[0-7]+$/i;var wt=mt.test.bind(mt);var jt=Ot.test.bind(Ot);var St=function(e){var t;if(typeof e.valueOf==="function"){t=e.valueOf();if(re.primitive(t)){return t}}if(typeof e.toString==="function"){t=e.toString();if(re.primitive(t)){return t}}throw new TypeError("No default value")};var Tt=$e.test.bind($e);var It=Je.test.bind(Je);var Et=function(){var e=function Number(t){var r;if(arguments.length>0){r=re.primitive(t)?t:St(t,"number")}else{r=0}if(typeof r==="string"){r=ce.Call(Be,r);if(wt(r)){r=parseInt(C(r,2),2)}else if(jt(r)){r=parseInt(C(r,2),8)}else if(Tt(r)||It(r)){r=NaN}}var n=this;var o=a(function(){dt.prototype.valueOf.call(n);return true});if(n instanceof e&&!o){return new dt(r)}return dt(r)};return e}();Ee(dt,Et,{});b(Et,{NaN:dt.NaN,MAX_VALUE:dt.MAX_VALUE,MIN_VALUE:dt.MIN_VALUE,NEGATIVE_INFINITY:dt.NEGATIVE_INFINITY,POSITIVE_INFINITY:dt.POSITIVE_INFINITY});Number=Et;m.redefine(S,"Number",Et)}var Pt=Math.pow(2,53)-1;b(Number,{MAX_SAFE_INTEGER:Pt,MIN_SAFE_INTEGER:-Pt,EPSILON:2.220446049250313e-16,parseInt:S.parseInt,parseFloat:S.parseFloat,isFinite:K,isInteger:function isInteger(e){return K(e)&&ce.ToInteger(e)===e},isSafeInteger:function isSafeInteger(e){return Number.isInteger(e)&&k(e)<=Number.MAX_SAFE_INTEGER},isNaN:X});h(Number,"parseInt",S.parseInt,Number.parseInt!==S.parseInt);if([,1].find(function(){return true})===1){ne(Array.prototype,"find",et.find)}if([,1].findIndex(function(){return true})!==0){ne(Array.prototype,"findIndex",et.findIndex)}var Ct=Function.bind.call(Function.bind,Object.prototype.propertyIsEnumerable);var Mt=function ensureEnumerable(e,t){if(s&&Ct(e,t)){Object.defineProperty(e,t,{enumerable:false})}};var xt=function sliceArgs(){var e=Number(this);var t=arguments.length;var r=t-e;var n=new Array(r<0?0:r);for(var o=e;o<t;++o){n[o-e]=arguments[o]}return n};var Nt=function assignTo(e){return function assignToSource(t,r){t[r]=e[r];return t}};var At=function(e,t){var r=n(Object(t));var o;if(ce.IsCallable(Object.getOwnPropertySymbols)){o=v(Object.getOwnPropertySymbols(Object(t)),Ct(t))}return p(P(r,o||[]),Nt(t),e)};var Rt={assign:function(e,t){var r=ce.ToObject(e,"Cannot convert undefined or null to object");return p(ce.Call(xt,1,arguments),At,r)},is:function is(e,t){return ce.SameValue(e,t)}};var _t=Object.assign&&Object.preventExtensions&&function(){var e=Object.preventExtensions({1:2});try{Object.assign(e,"xy")}catch(t){return e[1]==="y"}}();if(_t){ne(Object,"assign",Rt.assign)}b(Object,Rt);if(s){var kt={setPrototypeOf:function(e,r){var n;var o=function(e,t){if(!ce.TypeIsObject(e)){throw new TypeError("cannot set prototype on a non-object")}if(!(t===null||ce.TypeIsObject(t))){throw new TypeError("can only set prototype to an object or null"+t)}};var i=function(e,r){o(e,r);t(n,e,r);return e};try{n=e.getOwnPropertyDescriptor(e.prototype,r).set;t(n,{},null)}catch(a){if(e.prototype!=={}[r]){return}n=function(e){this[r]=e};i.polyfill=i(i({},null),e.prototype)instanceof e}return i}(Object,"__proto__")};b(Object,kt)}if(Object.setPrototypeOf&&Object.getPrototypeOf&&Object.getPrototypeOf(Object.setPrototypeOf({},null))!==null&&Object.getPrototypeOf(Object.create(null))===null){(function(){var e=Object.create(null);var t=Object.getPrototypeOf;var r=Object.setPrototypeOf;Object.getPrototypeOf=function(r){var n=t(r);return n===e?null:n};Object.setPrototypeOf=function(t,n){var o=n===null?e:n;return r(t,o)};Object.setPrototypeOf.polyfill=false})()}var Lt=!i(function(){return Object.keys("foo")});if(!Lt){var Ft=Object.keys;ne(Object,"keys",function keys(e){return Ft(ce.ToObject(e))});n=Object.keys}var Dt=i(function(){return Object.keys(/a/g)});if(Dt){var zt=Object.keys;ne(Object,"keys",function keys(e){if(re.regex(e)){var t=[];for(var r in e){if(z(e,r)){M(t,r)}}return t}return zt(e)});n=Object.keys}if(Object.getOwnPropertyNames){var qt=!i(function(){return Object.getOwnPropertyNames("foo")});if(!qt){var Wt=typeof window==="object"?Object.getOwnPropertyNames(window):[];var Gt=Object.getOwnPropertyNames;ne(Object,"getOwnPropertyNames",function getOwnPropertyNames(e){var t=ce.ToObject(e);if(g(t)==="[object Window]"){try{return Gt(t)}catch(r){return P([],Wt)}}return Gt(t)})}}if(Object.getOwnPropertyDescriptor){var Ht=!i(function(){return Object.getOwnPropertyDescriptor("foo","bar")});if(!Ht){var Vt=Object.getOwnPropertyDescriptor;ne(Object,"getOwnPropertyDescriptor",function getOwnPropertyDescriptor(e,t){return Vt(ce.ToObject(e),t)})}}if(Object.seal){var Bt=!i(function(){return Object.seal("foo")});if(!Bt){var Ut=Object.seal;ne(Object,"seal",function seal(e){if(!ce.TypeIsObject(e)){return e}return Ut(e)})}}if(Object.isSealed){var $t=!i(function(){return Object.isSealed("foo")});if(!$t){var Jt=Object.isSealed;ne(Object,"isSealed",function isSealed(e){if(!ce.TypeIsObject(e)){return true}return Jt(e)})}}if(Object.freeze){var Xt=!i(function(){return Object.freeze("foo")});if(!Xt){var Kt=Object.freeze;ne(Object,"freeze",function freeze(e){if(!ce.TypeIsObject(e)){return e}return Kt(e)})}}if(Object.isFrozen){var Zt=!i(function(){return Object.isFrozen("foo")});if(!Zt){var Yt=Object.isFrozen;ne(Object,"isFrozen",function isFrozen(e){if(!ce.TypeIsObject(e)){return true}return Yt(e)})}}if(Object.preventExtensions){var Qt=!i(function(){return Object.preventExtensions("foo")});if(!Qt){var er=Object.preventExtensions;ne(Object,"preventExtensions",function preventExtensions(e){if(!ce.TypeIsObject(e)){return e}return er(e)})}}if(Object.isExtensible){var tr=!i(function(){return Object.isExtensible("foo")});if(!tr){var rr=Object.isExtensible;ne(Object,"isExtensible",function isExtensible(e){if(!ce.TypeIsObject(e)){return false}return rr(e)})}}if(Object.getPrototypeOf){var nr=!i(function(){return Object.getPrototypeOf("foo")});if(!nr){var or=Object.getPrototypeOf;ne(Object,"getPrototypeOf",function getPrototypeOf(e){return or(ce.ToObject(e))})}}var ir=s&&function(){var e=Object.getOwnPropertyDescriptor(RegExp.prototype,"flags");return e&&ce.IsCallable(e.get)}();if(s&&!ir){var ar=function flags(){if(!ce.TypeIsObject(this)){throw new TypeError("Method called on incompatible type: must be an object.")}var e="";if(this.global){e+="g"}if(this.ignoreCase){e+="i"}if(this.multiline){e+="m"}if(this.unicode){e+="u"}if(this.sticky){e+="y"}return e};m.getter(RegExp.prototype,"flags",ar)}var ur=s&&a(function(){return String(new RegExp(/a/g,"i"))==="/a/i"});var fr=oe&&s&&function(){var e=/./;e[$.match]=false;return RegExp(e)===e}();var sr=a(function(){return RegExp.prototype.toString.call({source:"abc"})==="/abc/"});var cr=sr&&a(function(){return RegExp.prototype.toString.call({source:"a",flags:"b"})==="/a/b"});if(!sr||!cr){var lr=RegExp.prototype.toString;h(RegExp.prototype,"toString",function toString(){var e=ce.RequireObjectCoercible(this);if(re.regex(e)){return t(lr,e)}var r=ue(e.source);var n=ue(e.flags);return"/"+r+"/"+n},true);m.preserveToString(RegExp.prototype.toString,lr)}if(s&&(!ur||fr)){var pr=Object.getOwnPropertyDescriptor(RegExp.prototype,"flags").get;var vr=Object.getOwnPropertyDescriptor(RegExp.prototype,"source")||{};var yr=function(){return this.source};var hr=ce.IsCallable(vr.get)?vr.get:yr;var br=RegExp;var gr=function(){return function RegExp(e,t){var r=ce.IsRegExp(e);var n=this instanceof RegExp;if(!n&&r&&typeof t==="undefined"&&e.constructor===RegExp){return e}var o=e;var i=t;if(re.regex(e)){o=ce.Call(hr,e);i=typeof t==="undefined"?ce.Call(pr,e):t;return new RegExp(o,i)}else if(r){o=e.source;i=typeof t==="undefined"?e.flags:t}return new br(e,t)}}();Ee(br,gr,{$input:true});RegExp=gr;m.redefine(S,"RegExp",gr)}if(s){var dr={input:"$_",lastMatch:"$&",lastParen:"$+",leftContext:"$`",rightContext:"$'"};l(n(dr),function(e){if(e in RegExp&&!(dr[e]in RegExp)){m.getter(RegExp,dr[e],function get(){return RegExp[e]})}})}Ce(RegExp);var mr=1/Number.EPSILON;var Or=function roundTiesToEven(e){return e+mr-mr};var wr=Math.pow(2,-23);var jr=Math.pow(2,127)*(2-wr);var Sr=Math.pow(2,-126);var Tr=Math.E;var Ir=Math.LOG2E;var Er=Math.LOG10E;var Pr=Number.prototype.clz;delete Number.prototype.clz;var Cr={acosh:function acosh(e){var t=Number(e);if(X(t)||e<1){return NaN}if(t===1){return 0}if(t===Infinity){return t}var r=1/(t*t);if(t<2){return Y(t-1+D(1-r)*t)}var n=t/2;return Y(n+D(1-r)*n-1)+1/Ir},asinh:function asinh(e){var t=Number(e);if(t===0||!T(t)){return t}var r=k(t);var n=r*r;var o=Z(t);if(r<1){return o*Y(r+n/(D(n+1)+1))}return o*(Y(r/2+D(1+1/n)*r/2-1)+1/Ir)},atanh:function atanh(e){var t=Number(e);if(t===0){return t}if(t===-1){return-Infinity}if(t===1){return Infinity}if(X(t)||t<-1||t>1){return NaN}var r=k(t);return Z(t)*Y(2*r/(1-r))/2},cbrt:function cbrt(e){var t=Number(e);if(t===0){return t}var r=t<0;var n;if(r){t=-t}if(t===Infinity){n=Infinity}else{n=L(F(t)/3);n=(t/(n*n)+2*n)/3}return r?-n:n},clz32:function clz32(e){var t=Number(e);var r=ce.ToUint32(t);if(r===0){return 32}return Pr?ce.Call(Pr,r):31-_(F(r+.5)*Ir)},cosh:function cosh(e){var t=Number(e);if(t===0){return 1}if(X(t)){return NaN}if(!T(t)){return Infinity}var r=L(k(t)-1);return(r+1/(r*Tr*Tr))*(Tr/2)},expm1:function expm1(e){var t=Number(e);if(t===-Infinity){return-1}if(!T(t)||t===0){return t}if(k(t)>.5){return L(t)-1}var r=t;var n=0;var o=1;while(n+r!==n){n+=r;o+=1;r*=t/o}return n},hypot:function hypot(e,t){var r=0;var n=0;for(var o=0;o<arguments.length;++o){var i=k(Number(arguments[o]));if(n<i){r*=n/i*(n/i);r+=1;n=i}else{r+=i>0?i/n*(i/n):i}}return n===Infinity?Infinity:n*D(r)},log2:function log2(e){return F(e)*Ir},log10:function log10(e){return F(e)*Er},log1p:Y,sign:Z,sinh:function sinh(e){var t=Number(e);if(!T(t)||t===0){return t}var r=k(t);if(r<1){var n=Math.expm1(r);return Z(t)*n*(1+1/(n+1))/2}var o=L(r-1);return Z(t)*(o-1/(o*Tr*Tr))*(Tr/2)},tanh:function tanh(e){var t=Number(e);if(X(t)||t===0){return t}if(t>=20){return 1}if(t<=-20){return-1}return(Math.expm1(t)-Math.expm1(-t))/(L(t)+L(-t))},trunc:function trunc(e){var t=Number(e);return t<0?-_(-t):_(t)},imul:function imul(e,t){var r=ce.ToUint32(e);var n=ce.ToUint32(t);var o=r>>>16&65535;var i=r&65535;var a=n>>>16&65535;var u=n&65535;return i*u+(o*u+i*a<<16>>>0)|0},fround:function fround(e){var t=Number(e);if(t===0||t===Infinity||t===-Infinity||X(t)){return t}var r=Z(t);var n=k(t);if(n<Sr){return r*Or(n/Sr/wr)*Sr*wr}var o=(1+wr/Number.EPSILON)*n;var i=o-(o-n);if(i>jr||X(i)){return r*Infinity}return r*i}};var Mr=function withinULPDistance(e,t,r){return k(1-e/t)/Number.EPSILON<(r||8)};b(Math,Cr);h(Math,"sinh",Cr.sinh,Math.sinh(710)===Infinity);h(Math,"cosh",Cr.cosh,Math.cosh(710)===Infinity);h(Math,"log1p",Cr.log1p,Math.log1p(-1e-17)!==-1e-17);h(Math,"asinh",Cr.asinh,Math.asinh(-1e7)!==-Math.asinh(1e7));h(Math,"asinh",Cr.asinh,Math.asinh(1e300)===Infinity);h(Math,"atanh",Cr.atanh,Math.atanh(1e-300)===0);h(Math,"tanh",Cr.tanh,Math.tanh(-2e-17)!==-2e-17);
h(Math,"acosh",Cr.acosh,Math.acosh(Number.MAX_VALUE)===Infinity);h(Math,"acosh",Cr.acosh,!Mr(Math.acosh(1+Number.EPSILON),Math.sqrt(2*Number.EPSILON)));h(Math,"cbrt",Cr.cbrt,!Mr(Math.cbrt(1e-300),1e-100));h(Math,"sinh",Cr.sinh,Math.sinh(-2e-17)!==-2e-17);var xr=Math.expm1(10);h(Math,"expm1",Cr.expm1,xr>22025.465794806718||xr<22025.465794806718);var Nr=Math.round;var Ar=Math.round(.5-Number.EPSILON/4)===0&&Math.round(-.5+Number.EPSILON/3.99)===1;var Rr=mr+1;var _r=2*mr-1;var kr=[Rr,_r].every(function(e){return Math.round(e)===e});h(Math,"round",function round(e){var t=_(e);var r=t===-1?-0:t+1;return e-t<.5?t:r},!Ar||!kr);m.preserveToString(Math.round,Nr);var Lr=Math.imul;if(Math.imul(4294967295,5)!==-5){Math.imul=Cr.imul;m.preserveToString(Math.imul,Lr)}if(Math.imul.length!==2){ne(Math,"imul",function imul(e,t){return ce.Call(Lr,Math,arguments)})}var Fr=function(){var e=S.setTimeout;if(typeof e!=="function"&&typeof e!=="object"){return}ce.IsPromise=function(e){if(!ce.TypeIsObject(e)){return false}if(typeof e._promise==="undefined"){return false}return true};var r=function(e){if(!ce.IsConstructor(e)){throw new TypeError("Bad promise constructor")}var t=this;var r=function(e,r){if(t.resolve!==void 0||t.reject!==void 0){throw new TypeError("Bad Promise implementation!")}t.resolve=e;t.reject=r};t.resolve=void 0;t.reject=void 0;t.promise=new e(r);if(!(ce.IsCallable(t.resolve)&&ce.IsCallable(t.reject))){throw new TypeError("Bad promise constructor")}};var n;if(typeof window!=="undefined"&&ce.IsCallable(window.postMessage)){n=function(){var e=[];var t="zero-timeout-message";var r=function(r){M(e,r);window.postMessage(t,"*")};var n=function(r){if(r.source===window&&r.data===t){r.stopPropagation();if(e.length===0){return}var n=N(e);n()}};window.addEventListener("message",n,true);return r}}var o=function(){var e=S.Promise;var t=e&&e.resolve&&e.resolve();return t&&function(e){return t.then(e)}};var i=ce.IsCallable(S.setImmediate)?S.setImmediate:typeof process==="object"&&process.nextTick?process.nextTick:o()||(ce.IsCallable(n)?n():function(t){e(t,0)});var a=function(e){return e};var u=function(e){throw e};var f=0;var s=1;var c=2;var l=0;var p=1;var v=2;var y={};var h=function(e,t,r){i(function(){g(e,t,r)})};var g=function(e,t,r){var n,o;if(t===y){return e(r)}try{n=e(r);o=t.resolve}catch(i){n=i;o=t.reject}o(n)};var d=function(e,t){var r=e._promise;var n=r.reactionLength;if(n>0){h(r.fulfillReactionHandler0,r.reactionCapability0,t);r.fulfillReactionHandler0=void 0;r.rejectReactions0=void 0;r.reactionCapability0=void 0;if(n>1){for(var o=1,i=0;o<n;o++,i+=3){h(r[i+l],r[i+v],t);e[i+l]=void 0;e[i+p]=void 0;e[i+v]=void 0}}}r.result=t;r.state=s;r.reactionLength=0};var m=function(e,t){var r=e._promise;var n=r.reactionLength;if(n>0){h(r.rejectReactionHandler0,r.reactionCapability0,t);r.fulfillReactionHandler0=void 0;r.rejectReactions0=void 0;r.reactionCapability0=void 0;if(n>1){for(var o=1,i=0;o<n;o++,i+=3){h(r[i+p],r[i+v],t);e[i+l]=void 0;e[i+p]=void 0;e[i+v]=void 0}}}r.result=t;r.state=c;r.reactionLength=0};var O=function(e){var t=false;var r=function(r){var n;if(t){return}t=true;if(r===e){return m(e,new TypeError("Self resolution"))}if(!ce.TypeIsObject(r)){return d(e,r)}try{n=r.then}catch(o){return m(e,o)}if(!ce.IsCallable(n)){return d(e,r)}i(function(){j(e,r,n)})};var n=function(r){if(t){return}t=true;return m(e,r)};return{resolve:r,reject:n}};var w=function(e,r,n,o){if(e===I){t(e,r,n,o,y)}else{t(e,r,n,o)}};var j=function(e,t,r){var n=O(e);var o=n.resolve;var i=n.reject;try{w(r,t,o,i)}catch(a){i(a)}};var T,I;var E=function(){var e=function Promise(t){if(!(this instanceof e)){throw new TypeError('Constructor Promise requires "new"')}if(this&&this._promise){throw new TypeError("Bad construction")}if(!ce.IsCallable(t)){throw new TypeError("not a valid resolver")}var r=Ae(this,e,T,{_promise:{result:void 0,state:f,reactionLength:0,fulfillReactionHandler0:void 0,rejectReactionHandler0:void 0,reactionCapability0:void 0}});var n=O(r);var o=n.reject;try{t(n.resolve,o)}catch(i){o(i)}return r};return e}();T=E.prototype;var P=function(e,t,r,n){var o=false;return function(i){if(o){return}o=true;t[e]=i;if(--n.count===0){var a=r.resolve;a(t)}}};var C=function(e,t,r){var n=e.iterator;var o=[];var i={count:1};var a,u;var f=0;while(true){try{a=ce.IteratorStep(n);if(a===false){e.done=true;break}u=a.value}catch(s){e.done=true;throw s}o[f]=void 0;var c=t.resolve(u);var l=P(f,o,r,i);i.count+=1;w(c.then,c,l,r.reject);f+=1}if(--i.count===0){var p=r.resolve;p(o)}return r.promise};var x=function(e,t,r){var n=e.iterator;var o,i,a;while(true){try{o=ce.IteratorStep(n);if(o===false){e.done=true;break}i=o.value}catch(u){e.done=true;throw u}a=t.resolve(i);w(a.then,a,r.resolve,r.reject)}return r.promise};b(E,{all:function all(e){var t=this;if(!ce.TypeIsObject(t)){throw new TypeError("Promise is not object")}var n=new r(t);var o,i;try{o=ce.GetIterator(e);i={iterator:o,done:false};return C(i,t,n)}catch(a){var u=a;if(i&&!i.done){try{ce.IteratorClose(o,true)}catch(f){u=f}}var s=n.reject;s(u);return n.promise}},race:function race(e){var t=this;if(!ce.TypeIsObject(t)){throw new TypeError("Promise is not object")}var n=new r(t);var o,i;try{o=ce.GetIterator(e);i={iterator:o,done:false};return x(i,t,n)}catch(a){var u=a;if(i&&!i.done){try{ce.IteratorClose(o,true)}catch(f){u=f}}var s=n.reject;s(u);return n.promise}},reject:function reject(e){var t=this;if(!ce.TypeIsObject(t)){throw new TypeError("Bad promise constructor")}var n=new r(t);var o=n.reject;o(e);return n.promise},resolve:function resolve(e){var t=this;if(!ce.TypeIsObject(t)){throw new TypeError("Bad promise constructor")}if(ce.IsPromise(e)){var n=e.constructor;if(n===t){return e}}var o=new r(t);var i=o.resolve;i(e);return o.promise}});b(T,{"catch":function(e){return this.then(null,e)},then:function then(e,t){var n=this;if(!ce.IsPromise(n)){throw new TypeError("not a promise")}var o=ce.SpeciesConstructor(n,E);var i;var b=arguments.length>2&&arguments[2]===y;if(b&&o===E){i=y}else{i=new r(o)}var g=ce.IsCallable(e)?e:a;var d=ce.IsCallable(t)?t:u;var m=n._promise;var O;if(m.state===f){if(m.reactionLength===0){m.fulfillReactionHandler0=g;m.rejectReactionHandler0=d;m.reactionCapability0=i}else{var w=3*(m.reactionLength-1);m[w+l]=g;m[w+p]=d;m[w+v]=i}m.reactionLength+=1}else if(m.state===s){O=m.result;h(g,i,O)}else if(m.state===c){O=m.result;h(d,i,O)}else{throw new TypeError("unexpected Promise state")}return i.promise}});y=new r(E);I=T.then;return E}();if(S.Promise){delete S.Promise.accept;delete S.Promise.defer;delete S.Promise.prototype.chain}if(typeof Fr==="function"){b(S,{Promise:Fr});var Dr=w(S.Promise,function(e){return e.resolve(42).then(function(){})instanceof e});var zr=!i(function(){return S.Promise.reject(42).then(null,5).then(null,W)});var qr=i(function(){return S.Promise.call(3,W)});var Wr=function(e){var t=e.resolve(5);t.constructor={};var r=e.resolve(t);try{r.then(null,W).then(null,W)}catch(n){return true}return t===r}(S.Promise);var Gr=s&&function(){var e=0;var t=Object.defineProperty({},"then",{get:function(){e+=1}});Promise.resolve(t);return e===1}();var Hr=function BadResolverPromise(e){var t=new Promise(e);e(3,function(){});this.then=t.then;this.constructor=BadResolverPromise};Hr.prototype=Promise.prototype;Hr.all=Promise.all;var Vr=a(function(){return!!Hr.all([1,2])});if(!Dr||!zr||!qr||Wr||!Gr||Vr){Promise=Fr;ne(S,"Promise",Fr)}if(Promise.all.length!==1){var Br=Promise.all;ne(Promise,"all",function all(e){return ce.Call(Br,this,arguments)})}if(Promise.race.length!==1){var Ur=Promise.race;ne(Promise,"race",function race(e){return ce.Call(Ur,this,arguments)})}if(Promise.resolve.length!==1){var $r=Promise.resolve;ne(Promise,"resolve",function resolve(e){return ce.Call($r,this,arguments)})}if(Promise.reject.length!==1){var Jr=Promise.reject;ne(Promise,"reject",function reject(e){return ce.Call(Jr,this,arguments)})}Mt(Promise,"all");Mt(Promise,"race");Mt(Promise,"resolve");Mt(Promise,"reject");Ce(Promise)}var Xr=function(e){var t=n(p(e,function(e,t){e[t]=true;return e},{}));return e.join(":")===t.join(":")};var Kr=Xr(["z","a","bb"]);var Zr=Xr(["z",1,"a","3",2]);if(s){var Yr=function fastkey(e,t){if(!t&&!Kr){return null}if(se(e)){return"^"+ce.ToString(e)}else if(typeof e==="string"){return"$"+e}else if(typeof e==="number"){if(!Zr){return"n"+e}return e}else if(typeof e==="boolean"){return"b"+e}return null};var Qr=function emptyObject(){return Object.create?Object.create(null):{}};var en=function addIterableToMap(e,n,o){if(r(o)||re.string(o)){l(o,function(e){if(!ce.TypeIsObject(e)){throw new TypeError("Iterator value "+e+" is not an entry object")}n.set(e[0],e[1])})}else if(o instanceof e){t(e.prototype.forEach,o,function(e,t){n.set(t,e)})}else{var i,a;if(!se(o)){a=n.set;if(!ce.IsCallable(a)){throw new TypeError("bad map")}i=ce.GetIterator(o)}if(typeof i!=="undefined"){while(true){var u=ce.IteratorStep(i);if(u===false){break}var f=u.value;try{if(!ce.TypeIsObject(f)){throw new TypeError("Iterator value "+f+" is not an entry object")}t(a,n,f[0],f[1])}catch(s){ce.IteratorClose(i,true);throw s}}}}};var tn=function addIterableToSet(e,n,o){if(r(o)||re.string(o)){l(o,function(e){n.add(e)})}else if(o instanceof e){t(e.prototype.forEach,o,function(e){n.add(e)})}else{var i,a;if(!se(o)){a=n.add;if(!ce.IsCallable(a)){throw new TypeError("bad set")}i=ce.GetIterator(o)}if(typeof i!=="undefined"){while(true){var u=ce.IteratorStep(i);if(u===false){break}var f=u.value;try{t(a,n,f)}catch(s){ce.IteratorClose(i,true);throw s}}}}};var rn={Map:function(){var e={};var r=function MapEntry(e,t){this.key=e;this.value=t;this.next=null;this.prev=null};r.prototype.isRemoved=function isRemoved(){return this.key===e};var n=function isMap(e){return!!e._es6map};var o=function requireMapSlot(e,t){if(!ce.TypeIsObject(e)||!n(e)){throw new TypeError("Method Map.prototype."+t+" called on incompatible receiver "+ce.ToString(e))}};var i=function MapIterator(e,t){o(e,"[[MapIterator]]");this.head=e._head;this.i=this.head;this.kind=t};i.prototype={isMapIterator:true,next:function next(){if(!this.isMapIterator){throw new TypeError("Not a MapIterator")}var e=this.i;var t=this.kind;var r=this.head;if(typeof this.i==="undefined"){return Ke()}while(e.isRemoved()&&e!==r){e=e.prev}var n;while(e.next!==r){e=e.next;if(!e.isRemoved()){if(t==="key"){n=e.key}else if(t==="value"){n=e.value}else{n=[e.key,e.value]}this.i=e;return Ke(n)}}this.i=void 0;return Ke()}};Me(i.prototype);var a;var u=function Map(){if(!(this instanceof Map)){throw new TypeError('Constructor Map requires "new"')}if(this&&this._es6map){throw new TypeError("Bad construction")}var e=Ae(this,Map,a,{_es6map:true,_head:null,_map:G?new G:null,_size:0,_storage:Qr()});var t=new r(null,null);t.next=t.prev=t;e._head=t;if(arguments.length>0){en(Map,e,arguments[0])}return e};a=u.prototype;m.getter(a,"size",function(){if(typeof this._size==="undefined"){throw new TypeError("size method called on incompatible Map")}return this._size});b(a,{get:function get(e){o(this,"get");var t;var r=Yr(e,true);if(r!==null){t=this._storage[r];if(t){return t.value}else{return}}if(this._map){t=V.call(this._map,e);if(t){return t.value}else{return}}var n=this._head;var i=n;while((i=i.next)!==n){if(ce.SameValueZero(i.key,e)){return i.value}}},has:function has(e){o(this,"has");var t=Yr(e,true);if(t!==null){return typeof this._storage[t]!=="undefined"}if(this._map){return B.call(this._map,e)}var r=this._head;var n=r;while((n=n.next)!==r){if(ce.SameValueZero(n.key,e)){return true}}return false},set:function set(e,t){o(this,"set");var n=this._head;var i=n;var a;var u=Yr(e,true);if(u!==null){if(typeof this._storage[u]!=="undefined"){this._storage[u].value=t;return this}else{a=this._storage[u]=new r(e,t);i=n.prev}}else if(this._map){if(B.call(this._map,e)){V.call(this._map,e).value=t}else{a=new r(e,t);U.call(this._map,e,a);i=n.prev}}while((i=i.next)!==n){if(ce.SameValueZero(i.key,e)){i.value=t;return this}}a=a||new r(e,t);if(ce.SameValue(-0,e)){a.key=+0}a.next=this._head;a.prev=this._head.prev;a.prev.next=a;a.next.prev=a;this._size+=1;return this},"delete":function(t){o(this,"delete");var r=this._head;var n=r;var i=Yr(t,true);if(i!==null){if(typeof this._storage[i]==="undefined"){return false}n=this._storage[i].prev;delete this._storage[i]}else if(this._map){if(!B.call(this._map,t)){return false}n=V.call(this._map,t).prev;H.call(this._map,t)}while((n=n.next)!==r){if(ce.SameValueZero(n.key,t)){n.key=e;n.value=e;n.prev.next=n.next;n.next.prev=n.prev;this._size-=1;return true}}return false},clear:function clear(){o(this,"clear");this._map=G?new G:null;this._size=0;this._storage=Qr();var t=this._head;var r=t;var n=r.next;while((r=n)!==t){r.key=e;r.value=e;n=r.next;r.next=r.prev=t}t.next=t.prev=t},keys:function keys(){o(this,"keys");return new i(this,"key")},values:function values(){o(this,"values");return new i(this,"value")},entries:function entries(){o(this,"entries");return new i(this,"key+value")},forEach:function forEach(e){o(this,"forEach");var r=arguments.length>1?arguments[1]:null;var n=this.entries();for(var i=n.next();!i.done;i=n.next()){if(r){t(e,r,i.value[1],i.value[0],this)}else{e(i.value[1],i.value[0],this)}}}});Me(a,a.entries);return u}(),Set:function(){var e=function isSet(e){return e._es6set&&typeof e._storage!=="undefined"};var r=function requireSetSlot(t,r){if(!ce.TypeIsObject(t)||!e(t)){throw new TypeError("Set.prototype."+r+" called on incompatible receiver "+ce.ToString(t))}};var o;var i=function Set(){if(!(this instanceof Set)){throw new TypeError('Constructor Set requires "new"')}if(this&&this._es6set){throw new TypeError("Bad construction")}var e=Ae(this,Set,o,{_es6set:true,"[[SetData]]":null,_storage:Qr()});if(!e._es6set){throw new TypeError("bad set")}if(arguments.length>0){tn(Set,e,arguments[0])}return e};o=i.prototype;var a=function(e){var t=e;if(t==="^null"){return null}else if(t==="^undefined"){return void 0}else{var r=t.charAt(0);if(r==="$"){return C(t,1)}else if(r==="n"){return+C(t,1)}else if(r==="b"){return t==="btrue"}}return+t};var u=function ensureMap(e){if(!e["[[SetData]]"]){var t=new rn.Map;e["[[SetData]]"]=t;l(n(e._storage),function(e){var r=a(e);t.set(r,r)});e["[[SetData]]"]=t}e._storage=null};m.getter(i.prototype,"size",function(){r(this,"size");if(this._storage){return n(this._storage).length}u(this);return this["[[SetData]]"].size});b(i.prototype,{has:function has(e){r(this,"has");var t;if(this._storage&&(t=Yr(e))!==null){return!!this._storage[t]}u(this);return this["[[SetData]]"].has(e)},add:function add(e){r(this,"add");var t;if(this._storage&&(t=Yr(e))!==null){this._storage[t]=true;return this}u(this);this["[[SetData]]"].set(e,e);return this},"delete":function(e){r(this,"delete");var t;if(this._storage&&(t=Yr(e))!==null){var n=z(this._storage,t);return delete this._storage[t]&&n}u(this);return this["[[SetData]]"]["delete"](e)},clear:function clear(){r(this,"clear");if(this._storage){this._storage=Qr()}if(this["[[SetData]]"]){this["[[SetData]]"].clear()}},values:function values(){r(this,"values");u(this);return new f(this["[[SetData]]"].values())},entries:function entries(){r(this,"entries");u(this);return new f(this["[[SetData]]"].entries())},forEach:function forEach(e){r(this,"forEach");var n=arguments.length>1?arguments[1]:null;var o=this;u(o);this["[[SetData]]"].forEach(function(r,i){if(n){t(e,n,i,i,o)}else{e(i,i,o)}})}});h(i.prototype,"keys",i.prototype.values,true);Me(i.prototype,i.prototype.values);var f=function SetIterator(e){this.it=e};f.prototype={isSetIterator:true,next:function next(){if(!this.isSetIterator){throw new TypeError("Not a SetIterator")}return this.it.next()}};Me(f.prototype);return i}()};var nn=S.Set&&!Set.prototype["delete"]&&Set.prototype.remove&&Set.prototype.items&&Set.prototype.map&&Array.isArray((new Set).keys);if(nn){S.Set=rn.Set}if(S.Map||S.Set){var on=a(function(){return new Map([[1,2]]).get(1)===2});if(!on){S.Map=function Map(){if(!(this instanceof Map)){throw new TypeError('Constructor Map requires "new"')}var e=new G;if(arguments.length>0){en(Map,e,arguments[0])}delete e.constructor;Object.setPrototypeOf(e,S.Map.prototype);return e};S.Map.prototype=O(G.prototype);h(S.Map.prototype,"constructor",S.Map,true);m.preserveToString(S.Map,G)}var an=new Map;var un=function(){var e=new Map([[1,0],[2,0],[3,0],[4,0]]);e.set(-0,e);return e.get(0)===e&&e.get(-0)===e&&e.has(0)&&e.has(-0)}();var fn=an.set(1,2)===an;if(!un||!fn){ne(Map.prototype,"set",function set(e,r){t(U,this,e===0?0:e,r);return this})}if(!un){b(Map.prototype,{get:function get(e){return t(V,this,e===0?0:e)},has:function has(e){return t(B,this,e===0?0:e)}},true);m.preserveToString(Map.prototype.get,V);m.preserveToString(Map.prototype.has,B)}var sn=new Set;var cn=Set.prototype["delete"]&&Set.prototype.add&&Set.prototype.has&&function(e){e["delete"](0);e.add(-0);return!e.has(0)}(sn);var ln=sn.add(1)===sn;if(!cn||!ln){var pn=Set.prototype.add;Set.prototype.add=function add(e){t(pn,this,e===0?0:e);return this};m.preserveToString(Set.prototype.add,pn)}if(!cn){var vn=Set.prototype.has;Set.prototype.has=function has(e){return t(vn,this,e===0?0:e)};m.preserveToString(Set.prototype.has,vn);var yn=Set.prototype["delete"];Set.prototype["delete"]=function SetDelete(e){return t(yn,this,e===0?0:e)};m.preserveToString(Set.prototype["delete"],yn)}var hn=w(S.Map,function(e){var t=new e([]);t.set(42,42);return t instanceof e});var bn=Object.setPrototypeOf&&!hn;var gn=function(){try{return!(S.Map()instanceof S.Map)}catch(e){return e instanceof TypeError}}();if(S.Map.length!==0||bn||!gn){S.Map=function Map(){if(!(this instanceof Map)){throw new TypeError('Constructor Map requires "new"')}var e=new G;if(arguments.length>0){en(Map,e,arguments[0])}delete e.constructor;Object.setPrototypeOf(e,Map.prototype);return e};S.Map.prototype=G.prototype;h(S.Map.prototype,"constructor",S.Map,true);m.preserveToString(S.Map,G)}var dn=w(S.Set,function(e){var t=new e([]);t.add(42,42);return t instanceof e});var mn=Object.setPrototypeOf&&!dn;var On=function(){try{return!(S.Set()instanceof S.Set)}catch(e){return e instanceof TypeError}}();if(S.Set.length!==0||mn||!On){var wn=S.Set;S.Set=function Set(){if(!(this instanceof Set)){throw new TypeError('Constructor Set requires "new"')}var e=new wn;if(arguments.length>0){tn(Set,e,arguments[0])}delete e.constructor;Object.setPrototypeOf(e,Set.prototype);return e};S.Set.prototype=wn.prototype;h(S.Set.prototype,"constructor",S.Set,true);m.preserveToString(S.Set,wn)}var jn=new S.Map;var Sn=!a(function(){return jn.keys().next().done});if(typeof S.Map.prototype.clear!=="function"||(new S.Set).size!==0||jn.size!==0||typeof S.Map.prototype.keys!=="function"||typeof S.Set.prototype.keys!=="function"||typeof S.Map.prototype.forEach!=="function"||typeof S.Set.prototype.forEach!=="function"||u(S.Map)||u(S.Set)||typeof jn.keys().next!=="function"||Sn||!hn){b(S,{Map:rn.Map,Set:rn.Set},true)}if(S.Set.prototype.keys!==S.Set.prototype.values){h(S.Set.prototype,"keys",S.Set.prototype.values,true)}Me(Object.getPrototypeOf((new S.Map).keys()));Me(Object.getPrototypeOf((new S.Set).keys()));if(c&&S.Set.prototype.has.name!=="has"){var Tn=S.Set.prototype.has;ne(S.Set.prototype,"has",function has(e){return t(Tn,this,e)})}}b(S,rn);Ce(S.Map);Ce(S.Set)}var In=function throwUnlessTargetIsObject(e){if(!ce.TypeIsObject(e)){throw new TypeError("target must be an object")}};var En={apply:function apply(){return ce.Call(ce.Call,null,arguments)},construct:function construct(e,t){if(!ce.IsConstructor(e)){throw new TypeError("First argument must be a constructor.")}var r=arguments.length>2?arguments[2]:e;if(!ce.IsConstructor(r)){throw new TypeError("new.target must be a constructor.")}return ce.Construct(e,t,r,"internal")},deleteProperty:function deleteProperty(e,t){In(e);if(s){var r=Object.getOwnPropertyDescriptor(e,t);if(r&&!r.configurable){return false}}return delete e[t]},has:function has(e,t){In(e);return t in e}};if(Object.getOwnPropertyNames){Object.assign(En,{ownKeys:function ownKeys(e){In(e);var t=Object.getOwnPropertyNames(e);if(ce.IsCallable(Object.getOwnPropertySymbols)){x(t,Object.getOwnPropertySymbols(e))}return t}})}var Pn=function ConvertExceptionToBoolean(e){return!i(e)};if(Object.preventExtensions){Object.assign(En,{isExtensible:function isExtensible(e){In(e);return Object.isExtensible(e)},preventExtensions:function preventExtensions(e){In(e);return Pn(function(){return Object.preventExtensions(e)})}})}if(s){var Cn=function get(e,t,r){var n=Object.getOwnPropertyDescriptor(e,t);if(!n){var o=Object.getPrototypeOf(e);if(o===null){return void 0}return Cn(o,t,r)}if("value"in n){return n.value}if(n.get){return ce.Call(n.get,r)}return void 0};var Mn=function set(e,r,n,o){var i=Object.getOwnPropertyDescriptor(e,r);if(!i){var a=Object.getPrototypeOf(e);if(a!==null){return Mn(a,r,n,o)}i={value:void 0,writable:true,enumerable:true,configurable:true}}if("value"in i){if(!i.writable){return false}if(!ce.TypeIsObject(o)){return false}var u=Object.getOwnPropertyDescriptor(o,r);if(u){return ae.defineProperty(o,r,{value:n})}else{return ae.defineProperty(o,r,{value:n,writable:true,enumerable:true,configurable:true})}}if(i.set){t(i.set,o,n);return true}return false};Object.assign(En,{defineProperty:function defineProperty(e,t,r){In(e);return Pn(function(){return Object.defineProperty(e,t,r)})},getOwnPropertyDescriptor:function getOwnPropertyDescriptor(e,t){In(e);return Object.getOwnPropertyDescriptor(e,t)},get:function get(e,t){In(e);var r=arguments.length>2?arguments[2]:e;return Cn(e,t,r)},set:function set(e,t,r){In(e);var n=arguments.length>3?arguments[3]:e;return Mn(e,t,r,n)}})}if(Object.getPrototypeOf){var xn=Object.getPrototypeOf;En.getPrototypeOf=function getPrototypeOf(e){In(e);return xn(e)}}if(Object.setPrototypeOf&&En.getPrototypeOf){var Nn=function(e,t){var r=t;while(r){if(e===r){return true}r=En.getPrototypeOf(r)}return false};Object.assign(En,{setPrototypeOf:function setPrototypeOf(e,t){In(e);if(t!==null&&!ce.TypeIsObject(t)){throw new TypeError("proto must be an object or null")}if(t===ae.getPrototypeOf(e)){return true}if(ae.isExtensible&&!ae.isExtensible(e)){return false}if(Nn(e,t)){return false}Object.setPrototypeOf(e,t);return true}})}var An=function(e,t){if(!ce.IsCallable(S.Reflect[e])){h(S.Reflect,e,t)}else{var r=a(function(){S.Reflect[e](1);S.Reflect[e](NaN);S.Reflect[e](true);return true});if(r){ne(S.Reflect,e,t)}}};Object.keys(En).forEach(function(e){An(e,En[e])});var Rn=S.Reflect.getPrototypeOf;if(c&&Rn&&Rn.name!=="getPrototypeOf"){ne(S.Reflect,"getPrototypeOf",function getPrototypeOf(e){return t(Rn,S.Reflect,e)})}if(S.Reflect.setPrototypeOf){if(a(function(){S.Reflect.setPrototypeOf(1,{});return true})){ne(S.Reflect,"setPrototypeOf",En.setPrototypeOf)}}if(S.Reflect.defineProperty){if(!a(function(){var e=!S.Reflect.defineProperty(1,"test",{value:1});var t=typeof Object.preventExtensions!=="function"||!S.Reflect.defineProperty(Object.preventExtensions({}),"test",{});return e&&t})){ne(S.Reflect,"defineProperty",En.defineProperty)}}if(S.Reflect.construct){if(!a(function(){var e=function F(){};return S.Reflect.construct(function(){},[],e)instanceof e})){ne(S.Reflect,"construct",En.construct)}}if(String(new Date(NaN))!=="Invalid Date"){var _n=Date.prototype.toString;var kn=function toString(){var e=+this;if(e!==e){return"Invalid Date"}return ce.Call(_n,this)};ne(Date.prototype,"toString",kn)}var Ln={anchor:function anchor(e){return ce.CreateHTML(this,"a","name",e)},big:function big(){return ce.CreateHTML(this,"big","","")},blink:function blink(){return ce.CreateHTML(this,"blink","","")},bold:function bold(){return ce.CreateHTML(this,"b","","")},fixed:function fixed(){return ce.CreateHTML(this,"tt","","")},fontcolor:function fontcolor(e){return ce.CreateHTML(this,"font","color",e)},fontsize:function fontsize(e){return ce.CreateHTML(this,"font","size",e)},italics:function italics(){return ce.CreateHTML(this,"i","","")},link:function link(e){return ce.CreateHTML(this,"a","href",e)},small:function small(){return ce.CreateHTML(this,"small","","")},strike:function strike(){return ce.CreateHTML(this,"strike","","")},sub:function sub(){return ce.CreateHTML(this,"sub","","")},sup:function sub(){return ce.CreateHTML(this,"sup","","")}};l(Object.keys(Ln),function(e){var r=String.prototype[e];var n=false;if(ce.IsCallable(r)){var o=t(r,"",' " ');var i=P([],o.match(/"/g)).length;n=o!==o.toLowerCase()||i>2}else{n=true}if(n){ne(String.prototype,e,Ln[e])}});var Fn=function(){if(!oe){return false}var e=typeof JSON==="object"&&typeof JSON.stringify==="function"?JSON.stringify:null;if(!e){return false}if(typeof e($())!=="undefined"){return true}if(e([$()])!=="[null]"){return true}var t={a:$()};t[$()]=true;if(e(t)!=="{}"){return true}return false}();var Dn=a(function(){if(!oe){return true}return JSON.stringify(Object($()))==="{}"&&JSON.stringify([Object($())])==="[{}]"});if(Fn||!Dn){var zn=JSON.stringify;ne(JSON,"stringify",function stringify(e){if(typeof e==="symbol"){return}var n;if(arguments.length>1){n=arguments[1]}var o=[e];if(!r(n)){var i=ce.IsCallable(n)?n:null;var a=function(e,r){var n=i?t(i,this,e,r):r;if(typeof n!=="symbol"){if(re.symbol(n)){return Nt({})(n)}else{return n}}};o.push(a)}else{o.push(n)}if(arguments.length>2){o.push(arguments[2])}return zn.apply(this,o)})}return S});
//# sourceMappingURL=es6-shim.map
/*! jQuery v3.4.1 | (c) JS Foundation and other contributors | jquery.org/license */
!function(e,t){"use strict";"object"==typeof module&&"object"==typeof module.exports?module.exports=e.document?t(e,!0):function(e){if(!e.document)throw new Error("jQuery requires a window with a document");return t(e)}:t(e)}("undefined"!=typeof window?window:this,function(C,e){"use strict";var t=[],E=C.document,r=Object.getPrototypeOf,s=t.slice,g=t.concat,u=t.push,i=t.indexOf,n={},o=n.toString,v=n.hasOwnProperty,a=v.toString,l=a.call(Object),y={},m=function(e){return"function"==typeof e&&"number"!=typeof e.nodeType},x=function(e){return null!=e&&e===e.window},c={type:!0,src:!0,nonce:!0,noModule:!0};function b(e,t,n){var r,i,o=(n=n||E).createElement("script");if(o.text=e,t)for(r in c)(i=t[r]||t.getAttribute&&t.getAttribute(r))&&o.setAttribute(r,i);n.head.appendChild(o).parentNode.removeChild(o)}function w(e){return null==e?e+"":"object"==typeof e||"function"==typeof e?n[o.call(e)]||"object":typeof e}var f="3.4.1",k=function(e,t){return new k.fn.init(e,t)},p=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g;function d(e){var t=!!e&&"length"in e&&e.length,n=w(e);return!m(e)&&!x(e)&&("array"===n||0===t||"number"==typeof t&&0<t&&t-1 in e)}k.fn=k.prototype={jquery:f,constructor:k,length:0,toArray:function(){return s.call(this)},get:function(e){return null==e?s.call(this):e<0?this[e+this.length]:this[e]},pushStack:function(e){var t=k.merge(this.constructor(),e);return t.prevObject=this,t},each:function(e){return k.each(this,e)},map:function(n){return this.pushStack(k.map(this,function(e,t){return n.call(e,t,e)}))},slice:function(){return this.pushStack(s.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(e){var t=this.length,n=+e+(e<0?t:0);return this.pushStack(0<=n&&n<t?[this[n]]:[])},end:function(){return this.prevObject||this.constructor()},push:u,sort:t.sort,splice:t.splice},k.extend=k.fn.extend=function(){var e,t,n,r,i,o,a=arguments[0]||{},s=1,u=arguments.length,l=!1;for("boolean"==typeof a&&(l=a,a=arguments[s]||{},s++),"object"==typeof a||m(a)||(a={}),s===u&&(a=this,s--);s<u;s++)if(null!=(e=arguments[s]))for(t in e)r=e[t],"__proto__"!==t&&a!==r&&(l&&r&&(k.isPlainObject(r)||(i=Array.isArray(r)))?(n=a[t],o=i&&!Array.isArray(n)?[]:i||k.isPlainObject(n)?n:{},i=!1,a[t]=k.extend(l,o,r)):void 0!==r&&(a[t]=r));return a},k.extend({expando:"jQuery"+(f+Math.random()).replace(/\D/g,""),isReady:!0,error:function(e){throw new Error(e)},noop:function(){},isPlainObject:function(e){var t,n;return!(!e||"[object Object]"!==o.call(e))&&(!(t=r(e))||"function"==typeof(n=v.call(t,"constructor")&&t.constructor)&&a.call(n)===l)},isEmptyObject:function(e){var t;for(t in e)return!1;return!0},globalEval:function(e,t){b(e,{nonce:t&&t.nonce})},each:function(e,t){var n,r=0;if(d(e)){for(n=e.length;r<n;r++)if(!1===t.call(e[r],r,e[r]))break}else for(r in e)if(!1===t.call(e[r],r,e[r]))break;return e},trim:function(e){return null==e?"":(e+"").replace(p,"")},makeArray:function(e,t){var n=t||[];return null!=e&&(d(Object(e))?k.merge(n,"string"==typeof e?[e]:e):u.call(n,e)),n},inArray:function(e,t,n){return null==t?-1:i.call(t,e,n)},merge:function(e,t){for(var n=+t.length,r=0,i=e.length;r<n;r++)e[i++]=t[r];return e.length=i,e},grep:function(e,t,n){for(var r=[],i=0,o=e.length,a=!n;i<o;i++)!t(e[i],i)!==a&&r.push(e[i]);return r},map:function(e,t,n){var r,i,o=0,a=[];if(d(e))for(r=e.length;o<r;o++)null!=(i=t(e[o],o,n))&&a.push(i);else for(o in e)null!=(i=t(e[o],o,n))&&a.push(i);return g.apply([],a)},guid:1,support:y}),"function"==typeof Symbol&&(k.fn[Symbol.iterator]=t[Symbol.iterator]),k.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),function(e,t){n["[object "+t+"]"]=t.toLowerCase()});var h=function(n){var e,d,b,o,i,h,f,g,w,u,l,T,C,a,E,v,s,c,y,k="sizzle"+1*new Date,m=n.document,S=0,r=0,p=ue(),x=ue(),N=ue(),A=ue(),D=function(e,t){return e===t&&(l=!0),0},j={}.hasOwnProperty,t=[],q=t.pop,L=t.push,H=t.push,O=t.slice,P=function(e,t){for(var n=0,r=e.length;n<r;n++)if(e[n]===t)return n;return-1},R="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",M="[\\x20\\t\\r\\n\\f]",I="(?:\\\\.|[\\w-]|[^\0-\\xa0])+",W="\\["+M+"*("+I+")(?:"+M+"*([*^$|!~]?=)"+M+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+I+"))|)"+M+"*\\]",$=":("+I+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+W+")*)|.*)\\)|)",F=new RegExp(M+"+","g"),B=new RegExp("^"+M+"+|((?:^|[^\\\\])(?:\\\\.)*)"+M+"+$","g"),_=new RegExp("^"+M+"*,"+M+"*"),z=new RegExp("^"+M+"*([>+~]|"+M+")"+M+"*"),U=new RegExp(M+"|>"),X=new RegExp($),V=new RegExp("^"+I+"$"),G={ID:new RegExp("^#("+I+")"),CLASS:new RegExp("^\\.("+I+")"),TAG:new RegExp("^("+I+"|[*])"),ATTR:new RegExp("^"+W),PSEUDO:new RegExp("^"+$),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+M+"*(even|odd|(([+-]|)(\\d*)n|)"+M+"*(?:([+-]|)"+M+"*(\\d+)|))"+M+"*\\)|)","i"),bool:new RegExp("^(?:"+R+")$","i"),needsContext:new RegExp("^"+M+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+M+"*((?:-\\d)?\\d*)"+M+"*\\)|)(?=[^-]|$)","i")},Y=/HTML$/i,Q=/^(?:input|select|textarea|button)$/i,J=/^h\d$/i,K=/^[^{]+\{\s*\[native \w/,Z=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,ee=/[+~]/,te=new RegExp("\\\\([\\da-f]{1,6}"+M+"?|("+M+")|.)","ig"),ne=function(e,t,n){var r="0x"+t-65536;return r!=r||n?t:r<0?String.fromCharCode(r+65536):String.fromCharCode(r>>10|55296,1023&r|56320)},re=/([\0-\x1f\x7f]|^-?\d)|^-$|[^\0-\x1f\x7f-\uFFFF\w-]/g,ie=function(e,t){return t?"\0"===e?"\ufffd":e.slice(0,-1)+"\\"+e.charCodeAt(e.length-1).toString(16)+" ":"\\"+e},oe=function(){T()},ae=be(function(e){return!0===e.disabled&&"fieldset"===e.nodeName.toLowerCase()},{dir:"parentNode",next:"legend"});try{H.apply(t=O.call(m.childNodes),m.childNodes),t[m.childNodes.length].nodeType}catch(e){H={apply:t.length?function(e,t){L.apply(e,O.call(t))}:function(e,t){var n=e.length,r=0;while(e[n++]=t[r++]);e.length=n-1}}}function se(t,e,n,r){var i,o,a,s,u,l,c,f=e&&e.ownerDocument,p=e?e.nodeType:9;if(n=n||[],"string"!=typeof t||!t||1!==p&&9!==p&&11!==p)return n;if(!r&&((e?e.ownerDocument||e:m)!==C&&T(e),e=e||C,E)){if(11!==p&&(u=Z.exec(t)))if(i=u[1]){if(9===p){if(!(a=e.getElementById(i)))return n;if(a.id===i)return n.push(a),n}else if(f&&(a=f.getElementById(i))&&y(e,a)&&a.id===i)return n.push(a),n}else{if(u[2])return H.apply(n,e.getElementsByTagName(t)),n;if((i=u[3])&&d.getElementsByClassName&&e.getElementsByClassName)return H.apply(n,e.getElementsByClassName(i)),n}if(d.qsa&&!A[t+" "]&&(!v||!v.test(t))&&(1!==p||"object"!==e.nodeName.toLowerCase())){if(c=t,f=e,1===p&&U.test(t)){(s=e.getAttribute("id"))?s=s.replace(re,ie):e.setAttribute("id",s=k),o=(l=h(t)).length;while(o--)l[o]="#"+s+" "+xe(l[o]);c=l.join(","),f=ee.test(t)&&ye(e.parentNode)||e}try{return H.apply(n,f.querySelectorAll(c)),n}catch(e){A(t,!0)}finally{s===k&&e.removeAttribute("id")}}}return g(t.replace(B,"$1"),e,n,r)}function ue(){var r=[];return function e(t,n){return r.push(t+" ")>b.cacheLength&&delete e[r.shift()],e[t+" "]=n}}function le(e){return e[k]=!0,e}function ce(e){var t=C.createElement("fieldset");try{return!!e(t)}catch(e){return!1}finally{t.parentNode&&t.parentNode.removeChild(t),t=null}}function fe(e,t){var n=e.split("|"),r=n.length;while(r--)b.attrHandle[n[r]]=t}function pe(e,t){var n=t&&e,r=n&&1===e.nodeType&&1===t.nodeType&&e.sourceIndex-t.sourceIndex;if(r)return r;if(n)while(n=n.nextSibling)if(n===t)return-1;return e?1:-1}function de(t){return function(e){return"input"===e.nodeName.toLowerCase()&&e.type===t}}function he(n){return function(e){var t=e.nodeName.toLowerCase();return("input"===t||"button"===t)&&e.type===n}}function ge(t){return function(e){return"form"in e?e.parentNode&&!1===e.disabled?"label"in e?"label"in e.parentNode?e.parentNode.disabled===t:e.disabled===t:e.isDisabled===t||e.isDisabled!==!t&&ae(e)===t:e.disabled===t:"label"in e&&e.disabled===t}}function ve(a){return le(function(o){return o=+o,le(function(e,t){var n,r=a([],e.length,o),i=r.length;while(i--)e[n=r[i]]&&(e[n]=!(t[n]=e[n]))})})}function ye(e){return e&&"undefined"!=typeof e.getElementsByTagName&&e}for(e in d=se.support={},i=se.isXML=function(e){var t=e.namespaceURI,n=(e.ownerDocument||e).documentElement;return!Y.test(t||n&&n.nodeName||"HTML")},T=se.setDocument=function(e){var t,n,r=e?e.ownerDocument||e:m;return r!==C&&9===r.nodeType&&r.documentElement&&(a=(C=r).documentElement,E=!i(C),m!==C&&(n=C.defaultView)&&n.top!==n&&(n.addEventListener?n.addEventListener("unload",oe,!1):n.attachEvent&&n.attachEvent("onunload",oe)),d.attributes=ce(function(e){return e.className="i",!e.getAttribute("className")}),d.getElementsByTagName=ce(function(e){return e.appendChild(C.createComment("")),!e.getElementsByTagName("*").length}),d.getElementsByClassName=K.test(C.getElementsByClassName),d.getById=ce(function(e){return a.appendChild(e).id=k,!C.getElementsByName||!C.getElementsByName(k).length}),d.getById?(b.filter.ID=function(e){var t=e.replace(te,ne);return function(e){return e.getAttribute("id")===t}},b.find.ID=function(e,t){if("undefined"!=typeof t.getElementById&&E){var n=t.getElementById(e);return n?[n]:[]}}):(b.filter.ID=function(e){var n=e.replace(te,ne);return function(e){var t="undefined"!=typeof e.getAttributeNode&&e.getAttributeNode("id");return t&&t.value===n}},b.find.ID=function(e,t){if("undefined"!=typeof t.getElementById&&E){var n,r,i,o=t.getElementById(e);if(o){if((n=o.getAttributeNode("id"))&&n.value===e)return[o];i=t.getElementsByName(e),r=0;while(o=i[r++])if((n=o.getAttributeNode("id"))&&n.value===e)return[o]}return[]}}),b.find.TAG=d.getElementsByTagName?function(e,t){return"undefined"!=typeof t.getElementsByTagName?t.getElementsByTagName(e):d.qsa?t.querySelectorAll(e):void 0}:function(e,t){var n,r=[],i=0,o=t.getElementsByTagName(e);if("*"===e){while(n=o[i++])1===n.nodeType&&r.push(n);return r}return o},b.find.CLASS=d.getElementsByClassName&&function(e,t){if("undefined"!=typeof t.getElementsByClassName&&E)return t.getElementsByClassName(e)},s=[],v=[],(d.qsa=K.test(C.querySelectorAll))&&(ce(function(e){a.appendChild(e).innerHTML="<a id='"+k+"'></a><select id='"+k+"-\r\\' msallowcapture=''><option selected=''></option></select>",e.querySelectorAll("[msallowcapture^='']").length&&v.push("[*^$]="+M+"*(?:''|\"\")"),e.querySelectorAll("[selected]").length||v.push("\\["+M+"*(?:value|"+R+")"),e.querySelectorAll("[id~="+k+"-]").length||v.push("~="),e.querySelectorAll(":checked").length||v.push(":checked"),e.querySelectorAll("a#"+k+"+*").length||v.push(".#.+[+~]")}),ce(function(e){e.innerHTML="<a href='' disabled='disabled'></a><select disabled='disabled'><option/></select>";var t=C.createElement("input");t.setAttribute("type","hidden"),e.appendChild(t).setAttribute("name","D"),e.querySelectorAll("[name=d]").length&&v.push("name"+M+"*[*^$|!~]?="),2!==e.querySelectorAll(":enabled").length&&v.push(":enabled",":disabled"),a.appendChild(e).disabled=!0,2!==e.querySelectorAll(":disabled").length&&v.push(":enabled",":disabled"),e.querySelectorAll("*,:x"),v.push(",.*:")})),(d.matchesSelector=K.test(c=a.matches||a.webkitMatchesSelector||a.mozMatchesSelector||a.oMatchesSelector||a.msMatchesSelector))&&ce(function(e){d.disconnectedMatch=c.call(e,"*"),c.call(e,"[s!='']:x"),s.push("!=",$)}),v=v.length&&new RegExp(v.join("|")),s=s.length&&new RegExp(s.join("|")),t=K.test(a.compareDocumentPosition),y=t||K.test(a.contains)?function(e,t){var n=9===e.nodeType?e.documentElement:e,r=t&&t.parentNode;return e===r||!(!r||1!==r.nodeType||!(n.contains?n.contains(r):e.compareDocumentPosition&&16&e.compareDocumentPosition(r)))}:function(e,t){if(t)while(t=t.parentNode)if(t===e)return!0;return!1},D=t?function(e,t){if(e===t)return l=!0,0;var n=!e.compareDocumentPosition-!t.compareDocumentPosition;return n||(1&(n=(e.ownerDocument||e)===(t.ownerDocument||t)?e.compareDocumentPosition(t):1)||!d.sortDetached&&t.compareDocumentPosition(e)===n?e===C||e.ownerDocument===m&&y(m,e)?-1:t===C||t.ownerDocument===m&&y(m,t)?1:u?P(u,e)-P(u,t):0:4&n?-1:1)}:function(e,t){if(e===t)return l=!0,0;var n,r=0,i=e.parentNode,o=t.parentNode,a=[e],s=[t];if(!i||!o)return e===C?-1:t===C?1:i?-1:o?1:u?P(u,e)-P(u,t):0;if(i===o)return pe(e,t);n=e;while(n=n.parentNode)a.unshift(n);n=t;while(n=n.parentNode)s.unshift(n);while(a[r]===s[r])r++;return r?pe(a[r],s[r]):a[r]===m?-1:s[r]===m?1:0}),C},se.matches=function(e,t){return se(e,null,null,t)},se.matchesSelector=function(e,t){if((e.ownerDocument||e)!==C&&T(e),d.matchesSelector&&E&&!A[t+" "]&&(!s||!s.test(t))&&(!v||!v.test(t)))try{var n=c.call(e,t);if(n||d.disconnectedMatch||e.document&&11!==e.document.nodeType)return n}catch(e){A(t,!0)}return 0<se(t,C,null,[e]).length},se.contains=function(e,t){return(e.ownerDocument||e)!==C&&T(e),y(e,t)},se.attr=function(e,t){(e.ownerDocument||e)!==C&&T(e);var n=b.attrHandle[t.toLowerCase()],r=n&&j.call(b.attrHandle,t.toLowerCase())?n(e,t,!E):void 0;return void 0!==r?r:d.attributes||!E?e.getAttribute(t):(r=e.getAttributeNode(t))&&r.specified?r.value:null},se.escape=function(e){return(e+"").replace(re,ie)},se.error=function(e){throw new Error("Syntax error, unrecognized expression: "+e)},se.uniqueSort=function(e){var t,n=[],r=0,i=0;if(l=!d.detectDuplicates,u=!d.sortStable&&e.slice(0),e.sort(D),l){while(t=e[i++])t===e[i]&&(r=n.push(i));while(r--)e.splice(n[r],1)}return u=null,e},o=se.getText=function(e){var t,n="",r=0,i=e.nodeType;if(i){if(1===i||9===i||11===i){if("string"==typeof e.textContent)return e.textContent;for(e=e.firstChild;e;e=e.nextSibling)n+=o(e)}else if(3===i||4===i)return e.nodeValue}else while(t=e[r++])n+=o(t);return n},(b=se.selectors={cacheLength:50,createPseudo:le,match:G,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(e){return e[1]=e[1].replace(te,ne),e[3]=(e[3]||e[4]||e[5]||"").replace(te,ne),"~="===e[2]&&(e[3]=" "+e[3]+" "),e.slice(0,4)},CHILD:function(e){return e[1]=e[1].toLowerCase(),"nth"===e[1].slice(0,3)?(e[3]||se.error(e[0]),e[4]=+(e[4]?e[5]+(e[6]||1):2*("even"===e[3]||"odd"===e[3])),e[5]=+(e[7]+e[8]||"odd"===e[3])):e[3]&&se.error(e[0]),e},PSEUDO:function(e){var t,n=!e[6]&&e[2];return G.CHILD.test(e[0])?null:(e[3]?e[2]=e[4]||e[5]||"":n&&X.test(n)&&(t=h(n,!0))&&(t=n.indexOf(")",n.length-t)-n.length)&&(e[0]=e[0].slice(0,t),e[2]=n.slice(0,t)),e.slice(0,3))}},filter:{TAG:function(e){var t=e.replace(te,ne).toLowerCase();return"*"===e?function(){return!0}:function(e){return e.nodeName&&e.nodeName.toLowerCase()===t}},CLASS:function(e){var t=p[e+" "];return t||(t=new RegExp("(^|"+M+")"+e+"("+M+"|$)"))&&p(e,function(e){return t.test("string"==typeof e.className&&e.className||"undefined"!=typeof e.getAttribute&&e.getAttribute("class")||"")})},ATTR:function(n,r,i){return function(e){var t=se.attr(e,n);return null==t?"!="===r:!r||(t+="","="===r?t===i:"!="===r?t!==i:"^="===r?i&&0===t.indexOf(i):"*="===r?i&&-1<t.indexOf(i):"$="===r?i&&t.slice(-i.length)===i:"~="===r?-1<(" "+t.replace(F," ")+" ").indexOf(i):"|="===r&&(t===i||t.slice(0,i.length+1)===i+"-"))}},CHILD:function(h,e,t,g,v){var y="nth"!==h.slice(0,3),m="last"!==h.slice(-4),x="of-type"===e;return 1===g&&0===v?function(e){return!!e.parentNode}:function(e,t,n){var r,i,o,a,s,u,l=y!==m?"nextSibling":"previousSibling",c=e.parentNode,f=x&&e.nodeName.toLowerCase(),p=!n&&!x,d=!1;if(c){if(y){while(l){a=e;while(a=a[l])if(x?a.nodeName.toLowerCase()===f:1===a.nodeType)return!1;u=l="only"===h&&!u&&"nextSibling"}return!0}if(u=[m?c.firstChild:c.lastChild],m&&p){d=(s=(r=(i=(o=(a=c)[k]||(a[k]={}))[a.uniqueID]||(o[a.uniqueID]={}))[h]||[])[0]===S&&r[1])&&r[2],a=s&&c.childNodes[s];while(a=++s&&a&&a[l]||(d=s=0)||u.pop())if(1===a.nodeType&&++d&&a===e){i[h]=[S,s,d];break}}else if(p&&(d=s=(r=(i=(o=(a=e)[k]||(a[k]={}))[a.uniqueID]||(o[a.uniqueID]={}))[h]||[])[0]===S&&r[1]),!1===d)while(a=++s&&a&&a[l]||(d=s=0)||u.pop())if((x?a.nodeName.toLowerCase()===f:1===a.nodeType)&&++d&&(p&&((i=(o=a[k]||(a[k]={}))[a.uniqueID]||(o[a.uniqueID]={}))[h]=[S,d]),a===e))break;return(d-=v)===g||d%g==0&&0<=d/g}}},PSEUDO:function(e,o){var t,a=b.pseudos[e]||b.setFilters[e.toLowerCase()]||se.error("unsupported pseudo: "+e);return a[k]?a(o):1<a.length?(t=[e,e,"",o],b.setFilters.hasOwnProperty(e.toLowerCase())?le(function(e,t){var n,r=a(e,o),i=r.length;while(i--)e[n=P(e,r[i])]=!(t[n]=r[i])}):function(e){return a(e,0,t)}):a}},pseudos:{not:le(function(e){var r=[],i=[],s=f(e.replace(B,"$1"));return s[k]?le(function(e,t,n,r){var i,o=s(e,null,r,[]),a=e.length;while(a--)(i=o[a])&&(e[a]=!(t[a]=i))}):function(e,t,n){return r[0]=e,s(r,null,n,i),r[0]=null,!i.pop()}}),has:le(function(t){return function(e){return 0<se(t,e).length}}),contains:le(function(t){return t=t.replace(te,ne),function(e){return-1<(e.textContent||o(e)).indexOf(t)}}),lang:le(function(n){return V.test(n||"")||se.error("unsupported lang: "+n),n=n.replace(te,ne).toLowerCase(),function(e){var t;do{if(t=E?e.lang:e.getAttribute("xml:lang")||e.getAttribute("lang"))return(t=t.toLowerCase())===n||0===t.indexOf(n+"-")}while((e=e.parentNode)&&1===e.nodeType);return!1}}),target:function(e){var t=n.location&&n.location.hash;return t&&t.slice(1)===e.id},root:function(e){return e===a},focus:function(e){return e===C.activeElement&&(!C.hasFocus||C.hasFocus())&&!!(e.type||e.href||~e.tabIndex)},enabled:ge(!1),disabled:ge(!0),checked:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&!!e.checked||"option"===t&&!!e.selected},selected:function(e){return e.parentNode&&e.parentNode.selectedIndex,!0===e.selected},empty:function(e){for(e=e.firstChild;e;e=e.nextSibling)if(e.nodeType<6)return!1;return!0},parent:function(e){return!b.pseudos.empty(e)},header:function(e){return J.test(e.nodeName)},input:function(e){return Q.test(e.nodeName)},button:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&"button"===e.type||"button"===t},text:function(e){var t;return"input"===e.nodeName.toLowerCase()&&"text"===e.type&&(null==(t=e.getAttribute("type"))||"text"===t.toLowerCase())},first:ve(function(){return[0]}),last:ve(function(e,t){return[t-1]}),eq:ve(function(e,t,n){return[n<0?n+t:n]}),even:ve(function(e,t){for(var n=0;n<t;n+=2)e.push(n);return e}),odd:ve(function(e,t){for(var n=1;n<t;n+=2)e.push(n);return e}),lt:ve(function(e,t,n){for(var r=n<0?n+t:t<n?t:n;0<=--r;)e.push(r);return e}),gt:ve(function(e,t,n){for(var r=n<0?n+t:n;++r<t;)e.push(r);return e})}}).pseudos.nth=b.pseudos.eq,{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})b.pseudos[e]=de(e);for(e in{submit:!0,reset:!0})b.pseudos[e]=he(e);function me(){}function xe(e){for(var t=0,n=e.length,r="";t<n;t++)r+=e[t].value;return r}function be(s,e,t){var u=e.dir,l=e.next,c=l||u,f=t&&"parentNode"===c,p=r++;return e.first?function(e,t,n){while(e=e[u])if(1===e.nodeType||f)return s(e,t,n);return!1}:function(e,t,n){var r,i,o,a=[S,p];if(n){while(e=e[u])if((1===e.nodeType||f)&&s(e,t,n))return!0}else while(e=e[u])if(1===e.nodeType||f)if(i=(o=e[k]||(e[k]={}))[e.uniqueID]||(o[e.uniqueID]={}),l&&l===e.nodeName.toLowerCase())e=e[u]||e;else{if((r=i[c])&&r[0]===S&&r[1]===p)return a[2]=r[2];if((i[c]=a)[2]=s(e,t,n))return!0}return!1}}function we(i){return 1<i.length?function(e,t,n){var r=i.length;while(r--)if(!i[r](e,t,n))return!1;return!0}:i[0]}function Te(e,t,n,r,i){for(var o,a=[],s=0,u=e.length,l=null!=t;s<u;s++)(o=e[s])&&(n&&!n(o,r,i)||(a.push(o),l&&t.push(s)));return a}function Ce(d,h,g,v,y,e){return v&&!v[k]&&(v=Ce(v)),y&&!y[k]&&(y=Ce(y,e)),le(function(e,t,n,r){var i,o,a,s=[],u=[],l=t.length,c=e||function(e,t,n){for(var r=0,i=t.length;r<i;r++)se(e,t[r],n);return n}(h||"*",n.nodeType?[n]:n,[]),f=!d||!e&&h?c:Te(c,s,d,n,r),p=g?y||(e?d:l||v)?[]:t:f;if(g&&g(f,p,n,r),v){i=Te(p,u),v(i,[],n,r),o=i.length;while(o--)(a=i[o])&&(p[u[o]]=!(f[u[o]]=a))}if(e){if(y||d){if(y){i=[],o=p.length;while(o--)(a=p[o])&&i.push(f[o]=a);y(null,p=[],i,r)}o=p.length;while(o--)(a=p[o])&&-1<(i=y?P(e,a):s[o])&&(e[i]=!(t[i]=a))}}else p=Te(p===t?p.splice(l,p.length):p),y?y(null,t,p,r):H.apply(t,p)})}function Ee(e){for(var i,t,n,r=e.length,o=b.relative[e[0].type],a=o||b.relative[" "],s=o?1:0,u=be(function(e){return e===i},a,!0),l=be(function(e){return-1<P(i,e)},a,!0),c=[function(e,t,n){var r=!o&&(n||t!==w)||((i=t).nodeType?u(e,t,n):l(e,t,n));return i=null,r}];s<r;s++)if(t=b.relative[e[s].type])c=[be(we(c),t)];else{if((t=b.filter[e[s].type].apply(null,e[s].matches))[k]){for(n=++s;n<r;n++)if(b.relative[e[n].type])break;return Ce(1<s&&we(c),1<s&&xe(e.slice(0,s-1).concat({value:" "===e[s-2].type?"*":""})).replace(B,"$1"),t,s<n&&Ee(e.slice(s,n)),n<r&&Ee(e=e.slice(n)),n<r&&xe(e))}c.push(t)}return we(c)}return me.prototype=b.filters=b.pseudos,b.setFilters=new me,h=se.tokenize=function(e,t){var n,r,i,o,a,s,u,l=x[e+" "];if(l)return t?0:l.slice(0);a=e,s=[],u=b.preFilter;while(a){for(o in n&&!(r=_.exec(a))||(r&&(a=a.slice(r[0].length)||a),s.push(i=[])),n=!1,(r=z.exec(a))&&(n=r.shift(),i.push({value:n,type:r[0].replace(B," ")}),a=a.slice(n.length)),b.filter)!(r=G[o].exec(a))||u[o]&&!(r=u[o](r))||(n=r.shift(),i.push({value:n,type:o,matches:r}),a=a.slice(n.length));if(!n)break}return t?a.length:a?se.error(e):x(e,s).slice(0)},f=se.compile=function(e,t){var n,v,y,m,x,r,i=[],o=[],a=N[e+" "];if(!a){t||(t=h(e)),n=t.length;while(n--)(a=Ee(t[n]))[k]?i.push(a):o.push(a);(a=N(e,(v=o,m=0<(y=i).length,x=0<v.length,r=function(e,t,n,r,i){var o,a,s,u=0,l="0",c=e&&[],f=[],p=w,d=e||x&&b.find.TAG("*",i),h=S+=null==p?1:Math.random()||.1,g=d.length;for(i&&(w=t===C||t||i);l!==g&&null!=(o=d[l]);l++){if(x&&o){a=0,t||o.ownerDocument===C||(T(o),n=!E);while(s=v[a++])if(s(o,t||C,n)){r.push(o);break}i&&(S=h)}m&&((o=!s&&o)&&u--,e&&c.push(o))}if(u+=l,m&&l!==u){a=0;while(s=y[a++])s(c,f,t,n);if(e){if(0<u)while(l--)c[l]||f[l]||(f[l]=q.call(r));f=Te(f)}H.apply(r,f),i&&!e&&0<f.length&&1<u+y.length&&se.uniqueSort(r)}return i&&(S=h,w=p),c},m?le(r):r))).selector=e}return a},g=se.select=function(e,t,n,r){var i,o,a,s,u,l="function"==typeof e&&e,c=!r&&h(e=l.selector||e);if(n=n||[],1===c.length){if(2<(o=c[0]=c[0].slice(0)).length&&"ID"===(a=o[0]).type&&9===t.nodeType&&E&&b.relative[o[1].type]){if(!(t=(b.find.ID(a.matches[0].replace(te,ne),t)||[])[0]))return n;l&&(t=t.parentNode),e=e.slice(o.shift().value.length)}i=G.needsContext.test(e)?0:o.length;while(i--){if(a=o[i],b.relative[s=a.type])break;if((u=b.find[s])&&(r=u(a.matches[0].replace(te,ne),ee.test(o[0].type)&&ye(t.parentNode)||t))){if(o.splice(i,1),!(e=r.length&&xe(o)))return H.apply(n,r),n;break}}}return(l||f(e,c))(r,t,!E,n,!t||ee.test(e)&&ye(t.parentNode)||t),n},d.sortStable=k.split("").sort(D).join("")===k,d.detectDuplicates=!!l,T(),d.sortDetached=ce(function(e){return 1&e.compareDocumentPosition(C.createElement("fieldset"))}),ce(function(e){return e.innerHTML="<a href='#'></a>","#"===e.firstChild.getAttribute("href")})||fe("type|href|height|width",function(e,t,n){if(!n)return e.getAttribute(t,"type"===t.toLowerCase()?1:2)}),d.attributes&&ce(function(e){return e.innerHTML="<input/>",e.firstChild.setAttribute("value",""),""===e.firstChild.getAttribute("value")})||fe("value",function(e,t,n){if(!n&&"input"===e.nodeName.toLowerCase())return e.defaultValue}),ce(function(e){return null==e.getAttribute("disabled")})||fe(R,function(e,t,n){var r;if(!n)return!0===e[t]?t.toLowerCase():(r=e.getAttributeNode(t))&&r.specified?r.value:null}),se}(C);k.find=h,k.expr=h.selectors,k.expr[":"]=k.expr.pseudos,k.uniqueSort=k.unique=h.uniqueSort,k.text=h.getText,k.isXMLDoc=h.isXML,k.contains=h.contains,k.escapeSelector=h.escape;var T=function(e,t,n){var r=[],i=void 0!==n;while((e=e[t])&&9!==e.nodeType)if(1===e.nodeType){if(i&&k(e).is(n))break;r.push(e)}return r},S=function(e,t){for(var n=[];e;e=e.nextSibling)1===e.nodeType&&e!==t&&n.push(e);return n},N=k.expr.match.needsContext;function A(e,t){return e.nodeName&&e.nodeName.toLowerCase()===t.toLowerCase()}var D=/^<([a-z][^\/\0>:\x20\t\r\n\f]*)[\x20\t\r\n\f]*\/?>(?:<\/\1>|)$/i;function j(e,n,r){return m(n)?k.grep(e,function(e,t){return!!n.call(e,t,e)!==r}):n.nodeType?k.grep(e,function(e){return e===n!==r}):"string"!=typeof n?k.grep(e,function(e){return-1<i.call(n,e)!==r}):k.filter(n,e,r)}k.filter=function(e,t,n){var r=t[0];return n&&(e=":not("+e+")"),1===t.length&&1===r.nodeType?k.find.matchesSelector(r,e)?[r]:[]:k.find.matches(e,k.grep(t,function(e){return 1===e.nodeType}))},k.fn.extend({find:function(e){var t,n,r=this.length,i=this;if("string"!=typeof e)return this.pushStack(k(e).filter(function(){for(t=0;t<r;t++)if(k.contains(i[t],this))return!0}));for(n=this.pushStack([]),t=0;t<r;t++)k.find(e,i[t],n);return 1<r?k.uniqueSort(n):n},filter:function(e){return this.pushStack(j(this,e||[],!1))},not:function(e){return this.pushStack(j(this,e||[],!0))},is:function(e){return!!j(this,"string"==typeof e&&N.test(e)?k(e):e||[],!1).length}});var q,L=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]+))$/;(k.fn.init=function(e,t,n){var r,i;if(!e)return this;if(n=n||q,"string"==typeof e){if(!(r="<"===e[0]&&">"===e[e.length-1]&&3<=e.length?[null,e,null]:L.exec(e))||!r[1]&&t)return!t||t.jquery?(t||n).find(e):this.constructor(t).find(e);if(r[1]){if(t=t instanceof k?t[0]:t,k.merge(this,k.parseHTML(r[1],t&&t.nodeType?t.ownerDocument||t:E,!0)),D.test(r[1])&&k.isPlainObject(t))for(r in t)m(this[r])?this[r](t[r]):this.attr(r,t[r]);return this}return(i=E.getElementById(r[2]))&&(this[0]=i,this.length=1),this}return e.nodeType?(this[0]=e,this.length=1,this):m(e)?void 0!==n.ready?n.ready(e):e(k):k.makeArray(e,this)}).prototype=k.fn,q=k(E);var H=/^(?:parents|prev(?:Until|All))/,O={children:!0,contents:!0,next:!0,prev:!0};function P(e,t){while((e=e[t])&&1!==e.nodeType);return e}k.fn.extend({has:function(e){var t=k(e,this),n=t.length;return this.filter(function(){for(var e=0;e<n;e++)if(k.contains(this,t[e]))return!0})},closest:function(e,t){var n,r=0,i=this.length,o=[],a="string"!=typeof e&&k(e);if(!N.test(e))for(;r<i;r++)for(n=this[r];n&&n!==t;n=n.parentNode)if(n.nodeType<11&&(a?-1<a.index(n):1===n.nodeType&&k.find.matchesSelector(n,e))){o.push(n);break}return this.pushStack(1<o.length?k.uniqueSort(o):o)},index:function(e){return e?"string"==typeof e?i.call(k(e),this[0]):i.call(this,e.jquery?e[0]:e):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(e,t){return this.pushStack(k.uniqueSort(k.merge(this.get(),k(e,t))))},addBack:function(e){return this.add(null==e?this.prevObject:this.prevObject.filter(e))}}),k.each({parent:function(e){var t=e.parentNode;return t&&11!==t.nodeType?t:null},parents:function(e){return T(e,"parentNode")},parentsUntil:function(e,t,n){return T(e,"parentNode",n)},next:function(e){return P(e,"nextSibling")},prev:function(e){return P(e,"previousSibling")},nextAll:function(e){return T(e,"nextSibling")},prevAll:function(e){return T(e,"previousSibling")},nextUntil:function(e,t,n){return T(e,"nextSibling",n)},prevUntil:function(e,t,n){return T(e,"previousSibling",n)},siblings:function(e){return S((e.parentNode||{}).firstChild,e)},children:function(e){return S(e.firstChild)},contents:function(e){return"undefined"!=typeof e.contentDocument?e.contentDocument:(A(e,"template")&&(e=e.content||e),k.merge([],e.childNodes))}},function(r,i){k.fn[r]=function(e,t){var n=k.map(this,i,e);return"Until"!==r.slice(-5)&&(t=e),t&&"string"==typeof t&&(n=k.filter(t,n)),1<this.length&&(O[r]||k.uniqueSort(n),H.test(r)&&n.reverse()),this.pushStack(n)}});var R=/[^\x20\t\r\n\f]+/g;function M(e){return e}function I(e){throw e}function W(e,t,n,r){var i;try{e&&m(i=e.promise)?i.call(e).done(t).fail(n):e&&m(i=e.then)?i.call(e,t,n):t.apply(void 0,[e].slice(r))}catch(e){n.apply(void 0,[e])}}k.Callbacks=function(r){var e,n;r="string"==typeof r?(e=r,n={},k.each(e.match(R)||[],function(e,t){n[t]=!0}),n):k.extend({},r);var i,t,o,a,s=[],u=[],l=-1,c=function(){for(a=a||r.once,o=i=!0;u.length;l=-1){t=u.shift();while(++l<s.length)!1===s[l].apply(t[0],t[1])&&r.stopOnFalse&&(l=s.length,t=!1)}r.memory||(t=!1),i=!1,a&&(s=t?[]:"")},f={add:function(){return s&&(t&&!i&&(l=s.length-1,u.push(t)),function n(e){k.each(e,function(e,t){m(t)?r.unique&&f.has(t)||s.push(t):t&&t.length&&"string"!==w(t)&&n(t)})}(arguments),t&&!i&&c()),this},remove:function(){return k.each(arguments,function(e,t){var n;while(-1<(n=k.inArray(t,s,n)))s.splice(n,1),n<=l&&l--}),this},has:function(e){return e?-1<k.inArray(e,s):0<s.length},empty:function(){return s&&(s=[]),this},disable:function(){return a=u=[],s=t="",this},disabled:function(){return!s},lock:function(){return a=u=[],t||i||(s=t=""),this},locked:function(){return!!a},fireWith:function(e,t){return a||(t=[e,(t=t||[]).slice?t.slice():t],u.push(t),i||c()),this},fire:function(){return f.fireWith(this,arguments),this},fired:function(){return!!o}};return f},k.extend({Deferred:function(e){var o=[["notify","progress",k.Callbacks("memory"),k.Callbacks("memory"),2],["resolve","done",k.Callbacks("once memory"),k.Callbacks("once memory"),0,"resolved"],["reject","fail",k.Callbacks("once memory"),k.Callbacks("once memory"),1,"rejected"]],i="pending",a={state:function(){return i},always:function(){return s.done(arguments).fail(arguments),this},"catch":function(e){return a.then(null,e)},pipe:function(){var i=arguments;return k.Deferred(function(r){k.each(o,function(e,t){var n=m(i[t[4]])&&i[t[4]];s[t[1]](function(){var e=n&&n.apply(this,arguments);e&&m(e.promise)?e.promise().progress(r.notify).done(r.resolve).fail(r.reject):r[t[0]+"With"](this,n?[e]:arguments)})}),i=null}).promise()},then:function(t,n,r){var u=0;function l(i,o,a,s){return function(){var n=this,r=arguments,e=function(){var e,t;if(!(i<u)){if((e=a.apply(n,r))===o.promise())throw new TypeError("Thenable self-resolution");t=e&&("object"==typeof e||"function"==typeof e)&&e.then,m(t)?s?t.call(e,l(u,o,M,s),l(u,o,I,s)):(u++,t.call(e,l(u,o,M,s),l(u,o,I,s),l(u,o,M,o.notifyWith))):(a!==M&&(n=void 0,r=[e]),(s||o.resolveWith)(n,r))}},t=s?e:function(){try{e()}catch(e){k.Deferred.exceptionHook&&k.Deferred.exceptionHook(e,t.stackTrace),u<=i+1&&(a!==I&&(n=void 0,r=[e]),o.rejectWith(n,r))}};i?t():(k.Deferred.getStackHook&&(t.stackTrace=k.Deferred.getStackHook()),C.setTimeout(t))}}return k.Deferred(function(e){o[0][3].add(l(0,e,m(r)?r:M,e.notifyWith)),o[1][3].add(l(0,e,m(t)?t:M)),o[2][3].add(l(0,e,m(n)?n:I))}).promise()},promise:function(e){return null!=e?k.extend(e,a):a}},s={};return k.each(o,function(e,t){var n=t[2],r=t[5];a[t[1]]=n.add,r&&n.add(function(){i=r},o[3-e][2].disable,o[3-e][3].disable,o[0][2].lock,o[0][3].lock),n.add(t[3].fire),s[t[0]]=function(){return s[t[0]+"With"](this===s?void 0:this,arguments),this},s[t[0]+"With"]=n.fireWith}),a.promise(s),e&&e.call(s,s),s},when:function(e){var n=arguments.length,t=n,r=Array(t),i=s.call(arguments),o=k.Deferred(),a=function(t){return function(e){r[t]=this,i[t]=1<arguments.length?s.call(arguments):e,--n||o.resolveWith(r,i)}};if(n<=1&&(W(e,o.done(a(t)).resolve,o.reject,!n),"pending"===o.state()||m(i[t]&&i[t].then)))return o.then();while(t--)W(i[t],a(t),o.reject);return o.promise()}});var $=/^(Eval|Internal|Range|Reference|Syntax|Type|URI)Error$/;k.Deferred.exceptionHook=function(e,t){C.console&&C.console.warn&&e&&$.test(e.name)&&C.console.warn("jQuery.Deferred exception: "+e.message,e.stack,t)},k.readyException=function(e){C.setTimeout(function(){throw e})};var F=k.Deferred();function B(){E.removeEventListener("DOMContentLoaded",B),C.removeEventListener("load",B),k.ready()}k.fn.ready=function(e){return F.then(e)["catch"](function(e){k.readyException(e)}),this},k.extend({isReady:!1,readyWait:1,ready:function(e){(!0===e?--k.readyWait:k.isReady)||(k.isReady=!0)!==e&&0<--k.readyWait||F.resolveWith(E,[k])}}),k.ready.then=F.then,"complete"===E.readyState||"loading"!==E.readyState&&!E.documentElement.doScroll?C.setTimeout(k.ready):(E.addEventListener("DOMContentLoaded",B),C.addEventListener("load",B));var _=function(e,t,n,r,i,o,a){var s=0,u=e.length,l=null==n;if("object"===w(n))for(s in i=!0,n)_(e,t,s,n[s],!0,o,a);else if(void 0!==r&&(i=!0,m(r)||(a=!0),l&&(a?(t.call(e,r),t=null):(l=t,t=function(e,t,n){return l.call(k(e),n)})),t))for(;s<u;s++)t(e[s],n,a?r:r.call(e[s],s,t(e[s],n)));return i?e:l?t.call(e):u?t(e[0],n):o},z=/^-ms-/,U=/-([a-z])/g;function X(e,t){return t.toUpperCase()}function V(e){return e.replace(z,"ms-").replace(U,X)}var G=function(e){return 1===e.nodeType||9===e.nodeType||!+e.nodeType};function Y(){this.expando=k.expando+Y.uid++}Y.uid=1,Y.prototype={cache:function(e){var t=e[this.expando];return t||(t={},G(e)&&(e.nodeType?e[this.expando]=t:Object.defineProperty(e,this.expando,{value:t,configurable:!0}))),t},set:function(e,t,n){var r,i=this.cache(e);if("string"==typeof t)i[V(t)]=n;else for(r in t)i[V(r)]=t[r];return i},get:function(e,t){return void 0===t?this.cache(e):e[this.expando]&&e[this.expando][V(t)]},access:function(e,t,n){return void 0===t||t&&"string"==typeof t&&void 0===n?this.get(e,t):(this.set(e,t,n),void 0!==n?n:t)},remove:function(e,t){var n,r=e[this.expando];if(void 0!==r){if(void 0!==t){n=(t=Array.isArray(t)?t.map(V):(t=V(t))in r?[t]:t.match(R)||[]).length;while(n--)delete r[t[n]]}(void 0===t||k.isEmptyObject(r))&&(e.nodeType?e[this.expando]=void 0:delete e[this.expando])}},hasData:function(e){var t=e[this.expando];return void 0!==t&&!k.isEmptyObject(t)}};var Q=new Y,J=new Y,K=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,Z=/[A-Z]/g;function ee(e,t,n){var r,i;if(void 0===n&&1===e.nodeType)if(r="data-"+t.replace(Z,"-$&").toLowerCase(),"string"==typeof(n=e.getAttribute(r))){try{n="true"===(i=n)||"false"!==i&&("null"===i?null:i===+i+""?+i:K.test(i)?JSON.parse(i):i)}catch(e){}J.set(e,t,n)}else n=void 0;return n}k.extend({hasData:function(e){return J.hasData(e)||Q.hasData(e)},data:function(e,t,n){return J.access(e,t,n)},removeData:function(e,t){J.remove(e,t)},_data:function(e,t,n){return Q.access(e,t,n)},_removeData:function(e,t){Q.remove(e,t)}}),k.fn.extend({data:function(n,e){var t,r,i,o=this[0],a=o&&o.attributes;if(void 0===n){if(this.length&&(i=J.get(o),1===o.nodeType&&!Q.get(o,"hasDataAttrs"))){t=a.length;while(t--)a[t]&&0===(r=a[t].name).indexOf("data-")&&(r=V(r.slice(5)),ee(o,r,i[r]));Q.set(o,"hasDataAttrs",!0)}return i}return"object"==typeof n?this.each(function(){J.set(this,n)}):_(this,function(e){var t;if(o&&void 0===e)return void 0!==(t=J.get(o,n))?t:void 0!==(t=ee(o,n))?t:void 0;this.each(function(){J.set(this,n,e)})},null,e,1<arguments.length,null,!0)},removeData:function(e){return this.each(function(){J.remove(this,e)})}}),k.extend({queue:function(e,t,n){var r;if(e)return t=(t||"fx")+"queue",r=Q.get(e,t),n&&(!r||Array.isArray(n)?r=Q.access(e,t,k.makeArray(n)):r.push(n)),r||[]},dequeue:function(e,t){t=t||"fx";var n=k.queue(e,t),r=n.length,i=n.shift(),o=k._queueHooks(e,t);"inprogress"===i&&(i=n.shift(),r--),i&&("fx"===t&&n.unshift("inprogress"),delete o.stop,i.call(e,function(){k.dequeue(e,t)},o)),!r&&o&&o.empty.fire()},_queueHooks:function(e,t){var n=t+"queueHooks";return Q.get(e,n)||Q.access(e,n,{empty:k.Callbacks("once memory").add(function(){Q.remove(e,[t+"queue",n])})})}}),k.fn.extend({queue:function(t,n){var e=2;return"string"!=typeof t&&(n=t,t="fx",e--),arguments.length<e?k.queue(this[0],t):void 0===n?this:this.each(function(){var e=k.queue(this,t,n);k._queueHooks(this,t),"fx"===t&&"inprogress"!==e[0]&&k.dequeue(this,t)})},dequeue:function(e){return this.each(function(){k.dequeue(this,e)})},clearQueue:function(e){return this.queue(e||"fx",[])},promise:function(e,t){var n,r=1,i=k.Deferred(),o=this,a=this.length,s=function(){--r||i.resolveWith(o,[o])};"string"!=typeof e&&(t=e,e=void 0),e=e||"fx";while(a--)(n=Q.get(o[a],e+"queueHooks"))&&n.empty&&(r++,n.empty.add(s));return s(),i.promise(t)}});var te=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,ne=new RegExp("^(?:([+-])=|)("+te+")([a-z%]*)$","i"),re=["Top","Right","Bottom","Left"],ie=E.documentElement,oe=function(e){return k.contains(e.ownerDocument,e)},ae={composed:!0};ie.getRootNode&&(oe=function(e){return k.contains(e.ownerDocument,e)||e.getRootNode(ae)===e.ownerDocument});var se=function(e,t){return"none"===(e=t||e).style.display||""===e.style.display&&oe(e)&&"none"===k.css(e,"display")},ue=function(e,t,n,r){var i,o,a={};for(o in t)a[o]=e.style[o],e.style[o]=t[o];for(o in i=n.apply(e,r||[]),t)e.style[o]=a[o];return i};function le(e,t,n,r){var i,o,a=20,s=r?function(){return r.cur()}:function(){return k.css(e,t,"")},u=s(),l=n&&n[3]||(k.cssNumber[t]?"":"px"),c=e.nodeType&&(k.cssNumber[t]||"px"!==l&&+u)&&ne.exec(k.css(e,t));if(c&&c[3]!==l){u/=2,l=l||c[3],c=+u||1;while(a--)k.style(e,t,c+l),(1-o)*(1-(o=s()/u||.5))<=0&&(a=0),c/=o;c*=2,k.style(e,t,c+l),n=n||[]}return n&&(c=+c||+u||0,i=n[1]?c+(n[1]+1)*n[2]:+n[2],r&&(r.unit=l,r.start=c,r.end=i)),i}var ce={};function fe(e,t){for(var n,r,i,o,a,s,u,l=[],c=0,f=e.length;c<f;c++)(r=e[c]).style&&(n=r.style.display,t?("none"===n&&(l[c]=Q.get(r,"display")||null,l[c]||(r.style.display="")),""===r.style.display&&se(r)&&(l[c]=(u=a=o=void 0,a=(i=r).ownerDocument,s=i.nodeName,(u=ce[s])||(o=a.body.appendChild(a.createElement(s)),u=k.css(o,"display"),o.parentNode.removeChild(o),"none"===u&&(u="block"),ce[s]=u)))):"none"!==n&&(l[c]="none",Q.set(r,"display",n)));for(c=0;c<f;c++)null!=l[c]&&(e[c].style.display=l[c]);return e}k.fn.extend({show:function(){return fe(this,!0)},hide:function(){return fe(this)},toggle:function(e){return"boolean"==typeof e?e?this.show():this.hide():this.each(function(){se(this)?k(this).show():k(this).hide()})}});var pe=/^(?:checkbox|radio)$/i,de=/<([a-z][^\/\0>\x20\t\r\n\f]*)/i,he=/^$|^module$|\/(?:java|ecma)script/i,ge={option:[1,"<select multiple='multiple'>","</select>"],thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};function ve(e,t){var n;return n="undefined"!=typeof e.getElementsByTagName?e.getElementsByTagName(t||"*"):"undefined"!=typeof e.querySelectorAll?e.querySelectorAll(t||"*"):[],void 0===t||t&&A(e,t)?k.merge([e],n):n}function ye(e,t){for(var n=0,r=e.length;n<r;n++)Q.set(e[n],"globalEval",!t||Q.get(t[n],"globalEval"))}ge.optgroup=ge.option,ge.tbody=ge.tfoot=ge.colgroup=ge.caption=ge.thead,ge.th=ge.td;var me,xe,be=/<|&#?\w+;/;function we(e,t,n,r,i){for(var o,a,s,u,l,c,f=t.createDocumentFragment(),p=[],d=0,h=e.length;d<h;d++)if((o=e[d])||0===o)if("object"===w(o))k.merge(p,o.nodeType?[o]:o);else if(be.test(o)){a=a||f.appendChild(t.createElement("div")),s=(de.exec(o)||["",""])[1].toLowerCase(),u=ge[s]||ge._default,a.innerHTML=u[1]+k.htmlPrefilter(o)+u[2],c=u[0];while(c--)a=a.lastChild;k.merge(p,a.childNodes),(a=f.firstChild).textContent=""}else p.push(t.createTextNode(o));f.textContent="",d=0;while(o=p[d++])if(r&&-1<k.inArray(o,r))i&&i.push(o);else if(l=oe(o),a=ve(f.appendChild(o),"script"),l&&ye(a),n){c=0;while(o=a[c++])he.test(o.type||"")&&n.push(o)}return f}me=E.createDocumentFragment().appendChild(E.createElement("div")),(xe=E.createElement("input")).setAttribute("type","radio"),xe.setAttribute("checked","checked"),xe.setAttribute("name","t"),me.appendChild(xe),y.checkClone=me.cloneNode(!0).cloneNode(!0).lastChild.checked,me.innerHTML="<textarea>x</textarea>",y.noCloneChecked=!!me.cloneNode(!0).lastChild.defaultValue;var Te=/^key/,Ce=/^(?:mouse|pointer|contextmenu|drag|drop)|click/,Ee=/^([^.]*)(?:\.(.+)|)/;function ke(){return!0}function Se(){return!1}function Ne(e,t){return e===function(){try{return E.activeElement}catch(e){}}()==("focus"===t)}function Ae(e,t,n,r,i,o){var a,s;if("object"==typeof t){for(s in"string"!=typeof n&&(r=r||n,n=void 0),t)Ae(e,s,n,r,t[s],o);return e}if(null==r&&null==i?(i=n,r=n=void 0):null==i&&("string"==typeof n?(i=r,r=void 0):(i=r,r=n,n=void 0)),!1===i)i=Se;else if(!i)return e;return 1===o&&(a=i,(i=function(e){return k().off(e),a.apply(this,arguments)}).guid=a.guid||(a.guid=k.guid++)),e.each(function(){k.event.add(this,t,i,r,n)})}function De(e,i,o){o?(Q.set(e,i,!1),k.event.add(e,i,{namespace:!1,handler:function(e){var t,n,r=Q.get(this,i);if(1&e.isTrigger&&this[i]){if(r.length)(k.event.special[i]||{}).delegateType&&e.stopPropagation();else if(r=s.call(arguments),Q.set(this,i,r),t=o(this,i),this[i](),r!==(n=Q.get(this,i))||t?Q.set(this,i,!1):n={},r!==n)return e.stopImmediatePropagation(),e.preventDefault(),n.value}else r.length&&(Q.set(this,i,{value:k.event.trigger(k.extend(r[0],k.Event.prototype),r.slice(1),this)}),e.stopImmediatePropagation())}})):void 0===Q.get(e,i)&&k.event.add(e,i,ke)}k.event={global:{},add:function(t,e,n,r,i){var o,a,s,u,l,c,f,p,d,h,g,v=Q.get(t);if(v){n.handler&&(n=(o=n).handler,i=o.selector),i&&k.find.matchesSelector(ie,i),n.guid||(n.guid=k.guid++),(u=v.events)||(u=v.events={}),(a=v.handle)||(a=v.handle=function(e){return"undefined"!=typeof k&&k.event.triggered!==e.type?k.event.dispatch.apply(t,arguments):void 0}),l=(e=(e||"").match(R)||[""]).length;while(l--)d=g=(s=Ee.exec(e[l])||[])[1],h=(s[2]||"").split(".").sort(),d&&(f=k.event.special[d]||{},d=(i?f.delegateType:f.bindType)||d,f=k.event.special[d]||{},c=k.extend({type:d,origType:g,data:r,handler:n,guid:n.guid,selector:i,needsContext:i&&k.expr.match.needsContext.test(i),namespace:h.join(".")},o),(p=u[d])||((p=u[d]=[]).delegateCount=0,f.setup&&!1!==f.setup.call(t,r,h,a)||t.addEventListener&&t.addEventListener(d,a)),f.add&&(f.add.call(t,c),c.handler.guid||(c.handler.guid=n.guid)),i?p.splice(p.delegateCount++,0,c):p.push(c),k.event.global[d]=!0)}},remove:function(e,t,n,r,i){var o,a,s,u,l,c,f,p,d,h,g,v=Q.hasData(e)&&Q.get(e);if(v&&(u=v.events)){l=(t=(t||"").match(R)||[""]).length;while(l--)if(d=g=(s=Ee.exec(t[l])||[])[1],h=(s[2]||"").split(".").sort(),d){f=k.event.special[d]||{},p=u[d=(r?f.delegateType:f.bindType)||d]||[],s=s[2]&&new RegExp("(^|\\.)"+h.join("\\.(?:.*\\.|)")+"(\\.|$)"),a=o=p.length;while(o--)c=p[o],!i&&g!==c.origType||n&&n.guid!==c.guid||s&&!s.test(c.namespace)||r&&r!==c.selector&&("**"!==r||!c.selector)||(p.splice(o,1),c.selector&&p.delegateCount--,f.remove&&f.remove.call(e,c));a&&!p.length&&(f.teardown&&!1!==f.teardown.call(e,h,v.handle)||k.removeEvent(e,d,v.handle),delete u[d])}else for(d in u)k.event.remove(e,d+t[l],n,r,!0);k.isEmptyObject(u)&&Q.remove(e,"handle events")}},dispatch:function(e){var t,n,r,i,o,a,s=k.event.fix(e),u=new Array(arguments.length),l=(Q.get(this,"events")||{})[s.type]||[],c=k.event.special[s.type]||{};for(u[0]=s,t=1;t<arguments.length;t++)u[t]=arguments[t];if(s.delegateTarget=this,!c.preDispatch||!1!==c.preDispatch.call(this,s)){a=k.event.handlers.call(this,s,l),t=0;while((i=a[t++])&&!s.isPropagationStopped()){s.currentTarget=i.elem,n=0;while((o=i.handlers[n++])&&!s.isImmediatePropagationStopped())s.rnamespace&&!1!==o.namespace&&!s.rnamespace.test(o.namespace)||(s.handleObj=o,s.data=o.data,void 0!==(r=((k.event.special[o.origType]||{}).handle||o.handler).apply(i.elem,u))&&!1===(s.result=r)&&(s.preventDefault(),s.stopPropagation()))}return c.postDispatch&&c.postDispatch.call(this,s),s.result}},handlers:function(e,t){var n,r,i,o,a,s=[],u=t.delegateCount,l=e.target;if(u&&l.nodeType&&!("click"===e.type&&1<=e.button))for(;l!==this;l=l.parentNode||this)if(1===l.nodeType&&("click"!==e.type||!0!==l.disabled)){for(o=[],a={},n=0;n<u;n++)void 0===a[i=(r=t[n]).selector+" "]&&(a[i]=r.needsContext?-1<k(i,this).index(l):k.find(i,this,null,[l]).length),a[i]&&o.push(r);o.length&&s.push({elem:l,handlers:o})}return l=this,u<t.length&&s.push({elem:l,handlers:t.slice(u)}),s},addProp:function(t,e){Object.defineProperty(k.Event.prototype,t,{enumerable:!0,configurable:!0,get:m(e)?function(){if(this.originalEvent)return e(this.originalEvent)}:function(){if(this.originalEvent)return this.originalEvent[t]},set:function(e){Object.defineProperty(this,t,{enumerable:!0,configurable:!0,writable:!0,value:e})}})},fix:function(e){return e[k.expando]?e:new k.Event(e)},special:{load:{noBubble:!0},click:{setup:function(e){var t=this||e;return pe.test(t.type)&&t.click&&A(t,"input")&&De(t,"click",ke),!1},trigger:function(e){var t=this||e;return pe.test(t.type)&&t.click&&A(t,"input")&&De(t,"click"),!0},_default:function(e){var t=e.target;return pe.test(t.type)&&t.click&&A(t,"input")&&Q.get(t,"click")||A(t,"a")}},beforeunload:{postDispatch:function(e){void 0!==e.result&&e.originalEvent&&(e.originalEvent.returnValue=e.result)}}}},k.removeEvent=function(e,t,n){e.removeEventListener&&e.removeEventListener(t,n)},k.Event=function(e,t){if(!(this instanceof k.Event))return new k.Event(e,t);e&&e.type?(this.originalEvent=e,this.type=e.type,this.isDefaultPrevented=e.defaultPrevented||void 0===e.defaultPrevented&&!1===e.returnValue?ke:Se,this.target=e.target&&3===e.target.nodeType?e.target.parentNode:e.target,this.currentTarget=e.currentTarget,this.relatedTarget=e.relatedTarget):this.type=e,t&&k.extend(this,t),this.timeStamp=e&&e.timeStamp||Date.now(),this[k.expando]=!0},k.Event.prototype={constructor:k.Event,isDefaultPrevented:Se,isPropagationStopped:Se,isImmediatePropagationStopped:Se,isSimulated:!1,preventDefault:function(){var e=this.originalEvent;this.isDefaultPrevented=ke,e&&!this.isSimulated&&e.preventDefault()},stopPropagation:function(){var e=this.originalEvent;this.isPropagationStopped=ke,e&&!this.isSimulated&&e.stopPropagation()},stopImmediatePropagation:function(){var e=this.originalEvent;this.isImmediatePropagationStopped=ke,e&&!this.isSimulated&&e.stopImmediatePropagation(),this.stopPropagation()}},k.each({altKey:!0,bubbles:!0,cancelable:!0,changedTouches:!0,ctrlKey:!0,detail:!0,eventPhase:!0,metaKey:!0,pageX:!0,pageY:!0,shiftKey:!0,view:!0,"char":!0,code:!0,charCode:!0,key:!0,keyCode:!0,button:!0,buttons:!0,clientX:!0,clientY:!0,offsetX:!0,offsetY:!0,pointerId:!0,pointerType:!0,screenX:!0,screenY:!0,targetTouches:!0,toElement:!0,touches:!0,which:function(e){var t=e.button;return null==e.which&&Te.test(e.type)?null!=e.charCode?e.charCode:e.keyCode:!e.which&&void 0!==t&&Ce.test(e.type)?1&t?1:2&t?3:4&t?2:0:e.which}},k.event.addProp),k.each({focus:"focusin",blur:"focusout"},function(e,t){k.event.special[e]={setup:function(){return De(this,e,Ne),!1},trigger:function(){return De(this,e),!0},delegateType:t}}),k.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(e,i){k.event.special[e]={delegateType:i,bindType:i,handle:function(e){var t,n=e.relatedTarget,r=e.handleObj;return n&&(n===this||k.contains(this,n))||(e.type=r.origType,t=r.handler.apply(this,arguments),e.type=i),t}}}),k.fn.extend({on:function(e,t,n,r){return Ae(this,e,t,n,r)},one:function(e,t,n,r){return Ae(this,e,t,n,r,1)},off:function(e,t,n){var r,i;if(e&&e.preventDefault&&e.handleObj)return r=e.handleObj,k(e.delegateTarget).off(r.namespace?r.origType+"."+r.namespace:r.origType,r.selector,r.handler),this;if("object"==typeof e){for(i in e)this.off(i,t,e[i]);return this}return!1!==t&&"function"!=typeof t||(n=t,t=void 0),!1===n&&(n=Se),this.each(function(){k.event.remove(this,e,n,t)})}});var je=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([a-z][^\/\0>\x20\t\r\n\f]*)[^>]*)\/>/gi,qe=/<script|<style|<link/i,Le=/checked\s*(?:[^=]|=\s*.checked.)/i,He=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g;function Oe(e,t){return A(e,"table")&&A(11!==t.nodeType?t:t.firstChild,"tr")&&k(e).children("tbody")[0]||e}function Pe(e){return e.type=(null!==e.getAttribute("type"))+"/"+e.type,e}function Re(e){return"true/"===(e.type||"").slice(0,5)?e.type=e.type.slice(5):e.removeAttribute("type"),e}function Me(e,t){var n,r,i,o,a,s,u,l;if(1===t.nodeType){if(Q.hasData(e)&&(o=Q.access(e),a=Q.set(t,o),l=o.events))for(i in delete a.handle,a.events={},l)for(n=0,r=l[i].length;n<r;n++)k.event.add(t,i,l[i][n]);J.hasData(e)&&(s=J.access(e),u=k.extend({},s),J.set(t,u))}}function Ie(n,r,i,o){r=g.apply([],r);var e,t,a,s,u,l,c=0,f=n.length,p=f-1,d=r[0],h=m(d);if(h||1<f&&"string"==typeof d&&!y.checkClone&&Le.test(d))return n.each(function(e){var t=n.eq(e);h&&(r[0]=d.call(this,e,t.html())),Ie(t,r,i,o)});if(f&&(t=(e=we(r,n[0].ownerDocument,!1,n,o)).firstChild,1===e.childNodes.length&&(e=t),t||o)){for(s=(a=k.map(ve(e,"script"),Pe)).length;c<f;c++)u=e,c!==p&&(u=k.clone(u,!0,!0),s&&k.merge(a,ve(u,"script"))),i.call(n[c],u,c);if(s)for(l=a[a.length-1].ownerDocument,k.map(a,Re),c=0;c<s;c++)u=a[c],he.test(u.type||"")&&!Q.access(u,"globalEval")&&k.contains(l,u)&&(u.src&&"module"!==(u.type||"").toLowerCase()?k._evalUrl&&!u.noModule&&k._evalUrl(u.src,{nonce:u.nonce||u.getAttribute("nonce")}):b(u.textContent.replace(He,""),u,l))}return n}function We(e,t,n){for(var r,i=t?k.filter(t,e):e,o=0;null!=(r=i[o]);o++)n||1!==r.nodeType||k.cleanData(ve(r)),r.parentNode&&(n&&oe(r)&&ye(ve(r,"script")),r.parentNode.removeChild(r));return e}k.extend({htmlPrefilter:function(e){return e.replace(je,"<$1></$2>")},clone:function(e,t,n){var r,i,o,a,s,u,l,c=e.cloneNode(!0),f=oe(e);if(!(y.noCloneChecked||1!==e.nodeType&&11!==e.nodeType||k.isXMLDoc(e)))for(a=ve(c),r=0,i=(o=ve(e)).length;r<i;r++)s=o[r],u=a[r],void 0,"input"===(l=u.nodeName.toLowerCase())&&pe.test(s.type)?u.checked=s.checked:"input"!==l&&"textarea"!==l||(u.defaultValue=s.defaultValue);if(t)if(n)for(o=o||ve(e),a=a||ve(c),r=0,i=o.length;r<i;r++)Me(o[r],a[r]);else Me(e,c);return 0<(a=ve(c,"script")).length&&ye(a,!f&&ve(e,"script")),c},cleanData:function(e){for(var t,n,r,i=k.event.special,o=0;void 0!==(n=e[o]);o++)if(G(n)){if(t=n[Q.expando]){if(t.events)for(r in t.events)i[r]?k.event.remove(n,r):k.removeEvent(n,r,t.handle);n[Q.expando]=void 0}n[J.expando]&&(n[J.expando]=void 0)}}}),k.fn.extend({detach:function(e){return We(this,e,!0)},remove:function(e){return We(this,e)},text:function(e){return _(this,function(e){return void 0===e?k.text(this):this.empty().each(function(){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||(this.textContent=e)})},null,e,arguments.length)},append:function(){return Ie(this,arguments,function(e){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||Oe(this,e).appendChild(e)})},prepend:function(){return Ie(this,arguments,function(e){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var t=Oe(this,e);t.insertBefore(e,t.firstChild)}})},before:function(){return Ie(this,arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this)})},after:function(){return Ie(this,arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this.nextSibling)})},empty:function(){for(var e,t=0;null!=(e=this[t]);t++)1===e.nodeType&&(k.cleanData(ve(e,!1)),e.textContent="");return this},clone:function(e,t){return e=null!=e&&e,t=null==t?e:t,this.map(function(){return k.clone(this,e,t)})},html:function(e){return _(this,function(e){var t=this[0]||{},n=0,r=this.length;if(void 0===e&&1===t.nodeType)return t.innerHTML;if("string"==typeof e&&!qe.test(e)&&!ge[(de.exec(e)||["",""])[1].toLowerCase()]){e=k.htmlPrefilter(e);try{for(;n<r;n++)1===(t=this[n]||{}).nodeType&&(k.cleanData(ve(t,!1)),t.innerHTML=e);t=0}catch(e){}}t&&this.empty().append(e)},null,e,arguments.length)},replaceWith:function(){var n=[];return Ie(this,arguments,function(e){var t=this.parentNode;k.inArray(this,n)<0&&(k.cleanData(ve(this)),t&&t.replaceChild(e,this))},n)}}),k.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(e,a){k.fn[e]=function(e){for(var t,n=[],r=k(e),i=r.length-1,o=0;o<=i;o++)t=o===i?this:this.clone(!0),k(r[o])[a](t),u.apply(n,t.get());return this.pushStack(n)}});var $e=new RegExp("^("+te+")(?!px)[a-z%]+$","i"),Fe=function(e){var t=e.ownerDocument.defaultView;return t&&t.opener||(t=C),t.getComputedStyle(e)},Be=new RegExp(re.join("|"),"i");function _e(e,t,n){var r,i,o,a,s=e.style;return(n=n||Fe(e))&&(""!==(a=n.getPropertyValue(t)||n[t])||oe(e)||(a=k.style(e,t)),!y.pixelBoxStyles()&&$e.test(a)&&Be.test(t)&&(r=s.width,i=s.minWidth,o=s.maxWidth,s.minWidth=s.maxWidth=s.width=a,a=n.width,s.width=r,s.minWidth=i,s.maxWidth=o)),void 0!==a?a+"":a}function ze(e,t){return{get:function(){if(!e())return(this.get=t).apply(this,arguments);delete this.get}}}!function(){function e(){if(u){s.style.cssText="position:absolute;left:-11111px;width:60px;margin-top:1px;padding:0;border:0",u.style.cssText="position:relative;display:block;box-sizing:border-box;overflow:scroll;margin:auto;border:1px;padding:1px;width:60%;top:1%",ie.appendChild(s).appendChild(u);var e=C.getComputedStyle(u);n="1%"!==e.top,a=12===t(e.marginLeft),u.style.right="60%",o=36===t(e.right),r=36===t(e.width),u.style.position="absolute",i=12===t(u.offsetWidth/3),ie.removeChild(s),u=null}}function t(e){return Math.round(parseFloat(e))}var n,r,i,o,a,s=E.createElement("div"),u=E.createElement("div");u.style&&(u.style.backgroundClip="content-box",u.cloneNode(!0).style.backgroundClip="",y.clearCloneStyle="content-box"===u.style.backgroundClip,k.extend(y,{boxSizingReliable:function(){return e(),r},pixelBoxStyles:function(){return e(),o},pixelPosition:function(){return e(),n},reliableMarginLeft:function(){return e(),a},scrollboxSize:function(){return e(),i}}))}();var Ue=["Webkit","Moz","ms"],Xe=E.createElement("div").style,Ve={};function Ge(e){var t=k.cssProps[e]||Ve[e];return t||(e in Xe?e:Ve[e]=function(e){var t=e[0].toUpperCase()+e.slice(1),n=Ue.length;while(n--)if((e=Ue[n]+t)in Xe)return e}(e)||e)}var Ye=/^(none|table(?!-c[ea]).+)/,Qe=/^--/,Je={position:"absolute",visibility:"hidden",display:"block"},Ke={letterSpacing:"0",fontWeight:"400"};function Ze(e,t,n){var r=ne.exec(t);return r?Math.max(0,r[2]-(n||0))+(r[3]||"px"):t}function et(e,t,n,r,i,o){var a="width"===t?1:0,s=0,u=0;if(n===(r?"border":"content"))return 0;for(;a<4;a+=2)"margin"===n&&(u+=k.css(e,n+re[a],!0,i)),r?("content"===n&&(u-=k.css(e,"padding"+re[a],!0,i)),"margin"!==n&&(u-=k.css(e,"border"+re[a]+"Width",!0,i))):(u+=k.css(e,"padding"+re[a],!0,i),"padding"!==n?u+=k.css(e,"border"+re[a]+"Width",!0,i):s+=k.css(e,"border"+re[a]+"Width",!0,i));return!r&&0<=o&&(u+=Math.max(0,Math.ceil(e["offset"+t[0].toUpperCase()+t.slice(1)]-o-u-s-.5))||0),u}function tt(e,t,n){var r=Fe(e),i=(!y.boxSizingReliable()||n)&&"border-box"===k.css(e,"boxSizing",!1,r),o=i,a=_e(e,t,r),s="offset"+t[0].toUpperCase()+t.slice(1);if($e.test(a)){if(!n)return a;a="auto"}return(!y.boxSizingReliable()&&i||"auto"===a||!parseFloat(a)&&"inline"===k.css(e,"display",!1,r))&&e.getClientRects().length&&(i="border-box"===k.css(e,"boxSizing",!1,r),(o=s in e)&&(a=e[s])),(a=parseFloat(a)||0)+et(e,t,n||(i?"border":"content"),o,r,a)+"px"}function nt(e,t,n,r,i){return new nt.prototype.init(e,t,n,r,i)}k.extend({cssHooks:{opacity:{get:function(e,t){if(t){var n=_e(e,"opacity");return""===n?"1":n}}}},cssNumber:{animationIterationCount:!0,columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,gridArea:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnStart:!0,gridRow:!0,gridRowEnd:!0,gridRowStart:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{},style:function(e,t,n,r){if(e&&3!==e.nodeType&&8!==e.nodeType&&e.style){var i,o,a,s=V(t),u=Qe.test(t),l=e.style;if(u||(t=Ge(s)),a=k.cssHooks[t]||k.cssHooks[s],void 0===n)return a&&"get"in a&&void 0!==(i=a.get(e,!1,r))?i:l[t];"string"===(o=typeof n)&&(i=ne.exec(n))&&i[1]&&(n=le(e,t,i),o="number"),null!=n&&n==n&&("number"!==o||u||(n+=i&&i[3]||(k.cssNumber[s]?"":"px")),y.clearCloneStyle||""!==n||0!==t.indexOf("background")||(l[t]="inherit"),a&&"set"in a&&void 0===(n=a.set(e,n,r))||(u?l.setProperty(t,n):l[t]=n))}},css:function(e,t,n,r){var i,o,a,s=V(t);return Qe.test(t)||(t=Ge(s)),(a=k.cssHooks[t]||k.cssHooks[s])&&"get"in a&&(i=a.get(e,!0,n)),void 0===i&&(i=_e(e,t,r)),"normal"===i&&t in Ke&&(i=Ke[t]),""===n||n?(o=parseFloat(i),!0===n||isFinite(o)?o||0:i):i}}),k.each(["height","width"],function(e,u){k.cssHooks[u]={get:function(e,t,n){if(t)return!Ye.test(k.css(e,"display"))||e.getClientRects().length&&e.getBoundingClientRect().width?tt(e,u,n):ue(e,Je,function(){return tt(e,u,n)})},set:function(e,t,n){var r,i=Fe(e),o=!y.scrollboxSize()&&"absolute"===i.position,a=(o||n)&&"border-box"===k.css(e,"boxSizing",!1,i),s=n?et(e,u,n,a,i):0;return a&&o&&(s-=Math.ceil(e["offset"+u[0].toUpperCase()+u.slice(1)]-parseFloat(i[u])-et(e,u,"border",!1,i)-.5)),s&&(r=ne.exec(t))&&"px"!==(r[3]||"px")&&(e.style[u]=t,t=k.css(e,u)),Ze(0,t,s)}}}),k.cssHooks.marginLeft=ze(y.reliableMarginLeft,function(e,t){if(t)return(parseFloat(_e(e,"marginLeft"))||e.getBoundingClientRect().left-ue(e,{marginLeft:0},function(){return e.getBoundingClientRect().left}))+"px"}),k.each({margin:"",padding:"",border:"Width"},function(i,o){k.cssHooks[i+o]={expand:function(e){for(var t=0,n={},r="string"==typeof e?e.split(" "):[e];t<4;t++)n[i+re[t]+o]=r[t]||r[t-2]||r[0];return n}},"margin"!==i&&(k.cssHooks[i+o].set=Ze)}),k.fn.extend({css:function(e,t){return _(this,function(e,t,n){var r,i,o={},a=0;if(Array.isArray(t)){for(r=Fe(e),i=t.length;a<i;a++)o[t[a]]=k.css(e,t[a],!1,r);return o}return void 0!==n?k.style(e,t,n):k.css(e,t)},e,t,1<arguments.length)}}),((k.Tween=nt).prototype={constructor:nt,init:function(e,t,n,r,i,o){this.elem=e,this.prop=n,this.easing=i||k.easing._default,this.options=t,this.start=this.now=this.cur(),this.end=r,this.unit=o||(k.cssNumber[n]?"":"px")},cur:function(){var e=nt.propHooks[this.prop];return e&&e.get?e.get(this):nt.propHooks._default.get(this)},run:function(e){var t,n=nt.propHooks[this.prop];return this.options.duration?this.pos=t=k.easing[this.easing](e,this.options.duration*e,0,1,this.options.duration):this.pos=t=e,this.now=(this.end-this.start)*t+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),n&&n.set?n.set(this):nt.propHooks._default.set(this),this}}).init.prototype=nt.prototype,(nt.propHooks={_default:{get:function(e){var t;return 1!==e.elem.nodeType||null!=e.elem[e.prop]&&null==e.elem.style[e.prop]?e.elem[e.prop]:(t=k.css(e.elem,e.prop,""))&&"auto"!==t?t:0},set:function(e){k.fx.step[e.prop]?k.fx.step[e.prop](e):1!==e.elem.nodeType||!k.cssHooks[e.prop]&&null==e.elem.style[Ge(e.prop)]?e.elem[e.prop]=e.now:k.style(e.elem,e.prop,e.now+e.unit)}}}).scrollTop=nt.propHooks.scrollLeft={set:function(e){e.elem.nodeType&&e.elem.parentNode&&(e.elem[e.prop]=e.now)}},k.easing={linear:function(e){return e},swing:function(e){return.5-Math.cos(e*Math.PI)/2},_default:"swing"},k.fx=nt.prototype.init,k.fx.step={};var rt,it,ot,at,st=/^(?:toggle|show|hide)$/,ut=/queueHooks$/;function lt(){it&&(!1===E.hidden&&C.requestAnimationFrame?C.requestAnimationFrame(lt):C.setTimeout(lt,k.fx.interval),k.fx.tick())}function ct(){return C.setTimeout(function(){rt=void 0}),rt=Date.now()}function ft(e,t){var n,r=0,i={height:e};for(t=t?1:0;r<4;r+=2-t)i["margin"+(n=re[r])]=i["padding"+n]=e;return t&&(i.opacity=i.width=e),i}function pt(e,t,n){for(var r,i=(dt.tweeners[t]||[]).concat(dt.tweeners["*"]),o=0,a=i.length;o<a;o++)if(r=i[o].call(n,t,e))return r}function dt(o,e,t){var n,a,r=0,i=dt.prefilters.length,s=k.Deferred().always(function(){delete u.elem}),u=function(){if(a)return!1;for(var e=rt||ct(),t=Math.max(0,l.startTime+l.duration-e),n=1-(t/l.duration||0),r=0,i=l.tweens.length;r<i;r++)l.tweens[r].run(n);return s.notifyWith(o,[l,n,t]),n<1&&i?t:(i||s.notifyWith(o,[l,1,0]),s.resolveWith(o,[l]),!1)},l=s.promise({elem:o,props:k.extend({},e),opts:k.extend(!0,{specialEasing:{},easing:k.easing._default},t),originalProperties:e,originalOptions:t,startTime:rt||ct(),duration:t.duration,tweens:[],createTween:function(e,t){var n=k.Tween(o,l.opts,e,t,l.opts.specialEasing[e]||l.opts.easing);return l.tweens.push(n),n},stop:function(e){var t=0,n=e?l.tweens.length:0;if(a)return this;for(a=!0;t<n;t++)l.tweens[t].run(1);return e?(s.notifyWith(o,[l,1,0]),s.resolveWith(o,[l,e])):s.rejectWith(o,[l,e]),this}}),c=l.props;for(!function(e,t){var n,r,i,o,a;for(n in e)if(i=t[r=V(n)],o=e[n],Array.isArray(o)&&(i=o[1],o=e[n]=o[0]),n!==r&&(e[r]=o,delete e[n]),(a=k.cssHooks[r])&&"expand"in a)for(n in o=a.expand(o),delete e[r],o)n in e||(e[n]=o[n],t[n]=i);else t[r]=i}(c,l.opts.specialEasing);r<i;r++)if(n=dt.prefilters[r].call(l,o,c,l.opts))return m(n.stop)&&(k._queueHooks(l.elem,l.opts.queue).stop=n.stop.bind(n)),n;return k.map(c,pt,l),m(l.opts.start)&&l.opts.start.call(o,l),l.progress(l.opts.progress).done(l.opts.done,l.opts.complete).fail(l.opts.fail).always(l.opts.always),k.fx.timer(k.extend(u,{elem:o,anim:l,queue:l.opts.queue})),l}k.Animation=k.extend(dt,{tweeners:{"*":[function(e,t){var n=this.createTween(e,t);return le(n.elem,e,ne.exec(t),n),n}]},tweener:function(e,t){m(e)?(t=e,e=["*"]):e=e.match(R);for(var n,r=0,i=e.length;r<i;r++)n=e[r],dt.tweeners[n]=dt.tweeners[n]||[],dt.tweeners[n].unshift(t)},prefilters:[function(e,t,n){var r,i,o,a,s,u,l,c,f="width"in t||"height"in t,p=this,d={},h=e.style,g=e.nodeType&&se(e),v=Q.get(e,"fxshow");for(r in n.queue||(null==(a=k._queueHooks(e,"fx")).unqueued&&(a.unqueued=0,s=a.empty.fire,a.empty.fire=function(){a.unqueued||s()}),a.unqueued++,p.always(function(){p.always(function(){a.unqueued--,k.queue(e,"fx").length||a.empty.fire()})})),t)if(i=t[r],st.test(i)){if(delete t[r],o=o||"toggle"===i,i===(g?"hide":"show")){if("show"!==i||!v||void 0===v[r])continue;g=!0}d[r]=v&&v[r]||k.style(e,r)}if((u=!k.isEmptyObject(t))||!k.isEmptyObject(d))for(r in f&&1===e.nodeType&&(n.overflow=[h.overflow,h.overflowX,h.overflowY],null==(l=v&&v.display)&&(l=Q.get(e,"display")),"none"===(c=k.css(e,"display"))&&(l?c=l:(fe([e],!0),l=e.style.display||l,c=k.css(e,"display"),fe([e]))),("inline"===c||"inline-block"===c&&null!=l)&&"none"===k.css(e,"float")&&(u||(p.done(function(){h.display=l}),null==l&&(c=h.display,l="none"===c?"":c)),h.display="inline-block")),n.overflow&&(h.overflow="hidden",p.always(function(){h.overflow=n.overflow[0],h.overflowX=n.overflow[1],h.overflowY=n.overflow[2]})),u=!1,d)u||(v?"hidden"in v&&(g=v.hidden):v=Q.access(e,"fxshow",{display:l}),o&&(v.hidden=!g),g&&fe([e],!0),p.done(function(){for(r in g||fe([e]),Q.remove(e,"fxshow"),d)k.style(e,r,d[r])})),u=pt(g?v[r]:0,r,p),r in v||(v[r]=u.start,g&&(u.end=u.start,u.start=0))}],prefilter:function(e,t){t?dt.prefilters.unshift(e):dt.prefilters.push(e)}}),k.speed=function(e,t,n){var r=e&&"object"==typeof e?k.extend({},e):{complete:n||!n&&t||m(e)&&e,duration:e,easing:n&&t||t&&!m(t)&&t};return k.fx.off?r.duration=0:"number"!=typeof r.duration&&(r.duration in k.fx.speeds?r.duration=k.fx.speeds[r.duration]:r.duration=k.fx.speeds._default),null!=r.queue&&!0!==r.queue||(r.queue="fx"),r.old=r.complete,r.complete=function(){m(r.old)&&r.old.call(this),r.queue&&k.dequeue(this,r.queue)},r},k.fn.extend({fadeTo:function(e,t,n,r){return this.filter(se).css("opacity",0).show().end().animate({opacity:t},e,n,r)},animate:function(t,e,n,r){var i=k.isEmptyObject(t),o=k.speed(e,n,r),a=function(){var e=dt(this,k.extend({},t),o);(i||Q.get(this,"finish"))&&e.stop(!0)};return a.finish=a,i||!1===o.queue?this.each(a):this.queue(o.queue,a)},stop:function(i,e,o){var a=function(e){var t=e.stop;delete e.stop,t(o)};return"string"!=typeof i&&(o=e,e=i,i=void 0),e&&!1!==i&&this.queue(i||"fx",[]),this.each(function(){var e=!0,t=null!=i&&i+"queueHooks",n=k.timers,r=Q.get(this);if(t)r[t]&&r[t].stop&&a(r[t]);else for(t in r)r[t]&&r[t].stop&&ut.test(t)&&a(r[t]);for(t=n.length;t--;)n[t].elem!==this||null!=i&&n[t].queue!==i||(n[t].anim.stop(o),e=!1,n.splice(t,1));!e&&o||k.dequeue(this,i)})},finish:function(a){return!1!==a&&(a=a||"fx"),this.each(function(){var e,t=Q.get(this),n=t[a+"queue"],r=t[a+"queueHooks"],i=k.timers,o=n?n.length:0;for(t.finish=!0,k.queue(this,a,[]),r&&r.stop&&r.stop.call(this,!0),e=i.length;e--;)i[e].elem===this&&i[e].queue===a&&(i[e].anim.stop(!0),i.splice(e,1));for(e=0;e<o;e++)n[e]&&n[e].finish&&n[e].finish.call(this);delete t.finish})}}),k.each(["toggle","show","hide"],function(e,r){var i=k.fn[r];k.fn[r]=function(e,t,n){return null==e||"boolean"==typeof e?i.apply(this,arguments):this.animate(ft(r,!0),e,t,n)}}),k.each({slideDown:ft("show"),slideUp:ft("hide"),slideToggle:ft("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(e,r){k.fn[e]=function(e,t,n){return this.animate(r,e,t,n)}}),k.timers=[],k.fx.tick=function(){var e,t=0,n=k.timers;for(rt=Date.now();t<n.length;t++)(e=n[t])()||n[t]!==e||n.splice(t--,1);n.length||k.fx.stop(),rt=void 0},k.fx.timer=function(e){k.timers.push(e),k.fx.start()},k.fx.interval=13,k.fx.start=function(){it||(it=!0,lt())},k.fx.stop=function(){it=null},k.fx.speeds={slow:600,fast:200,_default:400},k.fn.delay=function(r,e){return r=k.fx&&k.fx.speeds[r]||r,e=e||"fx",this.queue(e,function(e,t){var n=C.setTimeout(e,r);t.stop=function(){C.clearTimeout(n)}})},ot=E.createElement("input"),at=E.createElement("select").appendChild(E.createElement("option")),ot.type="checkbox",y.checkOn=""!==ot.value,y.optSelected=at.selected,(ot=E.createElement("input")).value="t",ot.type="radio",y.radioValue="t"===ot.value;var ht,gt=k.expr.attrHandle;k.fn.extend({attr:function(e,t){return _(this,k.attr,e,t,1<arguments.length)},removeAttr:function(e){return this.each(function(){k.removeAttr(this,e)})}}),k.extend({attr:function(e,t,n){var r,i,o=e.nodeType;if(3!==o&&8!==o&&2!==o)return"undefined"==typeof e.getAttribute?k.prop(e,t,n):(1===o&&k.isXMLDoc(e)||(i=k.attrHooks[t.toLowerCase()]||(k.expr.match.bool.test(t)?ht:void 0)),void 0!==n?null===n?void k.removeAttr(e,t):i&&"set"in i&&void 0!==(r=i.set(e,n,t))?r:(e.setAttribute(t,n+""),n):i&&"get"in i&&null!==(r=i.get(e,t))?r:null==(r=k.find.attr(e,t))?void 0:r)},attrHooks:{type:{set:function(e,t){if(!y.radioValue&&"radio"===t&&A(e,"input")){var n=e.value;return e.setAttribute("type",t),n&&(e.value=n),t}}}},removeAttr:function(e,t){var n,r=0,i=t&&t.match(R);if(i&&1===e.nodeType)while(n=i[r++])e.removeAttribute(n)}}),ht={set:function(e,t,n){return!1===t?k.removeAttr(e,n):e.setAttribute(n,n),n}},k.each(k.expr.match.bool.source.match(/\w+/g),function(e,t){var a=gt[t]||k.find.attr;gt[t]=function(e,t,n){var r,i,o=t.toLowerCase();return n||(i=gt[o],gt[o]=r,r=null!=a(e,t,n)?o:null,gt[o]=i),r}});var vt=/^(?:input|select|textarea|button)$/i,yt=/^(?:a|area)$/i;function mt(e){return(e.match(R)||[]).join(" ")}function xt(e){return e.getAttribute&&e.getAttribute("class")||""}function bt(e){return Array.isArray(e)?e:"string"==typeof e&&e.match(R)||[]}k.fn.extend({prop:function(e,t){return _(this,k.prop,e,t,1<arguments.length)},removeProp:function(e){return this.each(function(){delete this[k.propFix[e]||e]})}}),k.extend({prop:function(e,t,n){var r,i,o=e.nodeType;if(3!==o&&8!==o&&2!==o)return 1===o&&k.isXMLDoc(e)||(t=k.propFix[t]||t,i=k.propHooks[t]),void 0!==n?i&&"set"in i&&void 0!==(r=i.set(e,n,t))?r:e[t]=n:i&&"get"in i&&null!==(r=i.get(e,t))?r:e[t]},propHooks:{tabIndex:{get:function(e){var t=k.find.attr(e,"tabindex");return t?parseInt(t,10):vt.test(e.nodeName)||yt.test(e.nodeName)&&e.href?0:-1}}},propFix:{"for":"htmlFor","class":"className"}}),y.optSelected||(k.propHooks.selected={get:function(e){var t=e.parentNode;return t&&t.parentNode&&t.parentNode.selectedIndex,null},set:function(e){var t=e.parentNode;t&&(t.selectedIndex,t.parentNode&&t.parentNode.selectedIndex)}}),k.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){k.propFix[this.toLowerCase()]=this}),k.fn.extend({addClass:function(t){var e,n,r,i,o,a,s,u=0;if(m(t))return this.each(function(e){k(this).addClass(t.call(this,e,xt(this)))});if((e=bt(t)).length)while(n=this[u++])if(i=xt(n),r=1===n.nodeType&&" "+mt(i)+" "){a=0;while(o=e[a++])r.indexOf(" "+o+" ")<0&&(r+=o+" ");i!==(s=mt(r))&&n.setAttribute("class",s)}return this},removeClass:function(t){var e,n,r,i,o,a,s,u=0;if(m(t))return this.each(function(e){k(this).removeClass(t.call(this,e,xt(this)))});if(!arguments.length)return this.attr("class","");if((e=bt(t)).length)while(n=this[u++])if(i=xt(n),r=1===n.nodeType&&" "+mt(i)+" "){a=0;while(o=e[a++])while(-1<r.indexOf(" "+o+" "))r=r.replace(" "+o+" "," ");i!==(s=mt(r))&&n.setAttribute("class",s)}return this},toggleClass:function(i,t){var o=typeof i,a="string"===o||Array.isArray(i);return"boolean"==typeof t&&a?t?this.addClass(i):this.removeClass(i):m(i)?this.each(function(e){k(this).toggleClass(i.call(this,e,xt(this),t),t)}):this.each(function(){var e,t,n,r;if(a){t=0,n=k(this),r=bt(i);while(e=r[t++])n.hasClass(e)?n.removeClass(e):n.addClass(e)}else void 0!==i&&"boolean"!==o||((e=xt(this))&&Q.set(this,"__className__",e),this.setAttribute&&this.setAttribute("class",e||!1===i?"":Q.get(this,"__className__")||""))})},hasClass:function(e){var t,n,r=0;t=" "+e+" ";while(n=this[r++])if(1===n.nodeType&&-1<(" "+mt(xt(n))+" ").indexOf(t))return!0;return!1}});var wt=/\r/g;k.fn.extend({val:function(n){var r,e,i,t=this[0];return arguments.length?(i=m(n),this.each(function(e){var t;1===this.nodeType&&(null==(t=i?n.call(this,e,k(this).val()):n)?t="":"number"==typeof t?t+="":Array.isArray(t)&&(t=k.map(t,function(e){return null==e?"":e+""})),(r=k.valHooks[this.type]||k.valHooks[this.nodeName.toLowerCase()])&&"set"in r&&void 0!==r.set(this,t,"value")||(this.value=t))})):t?(r=k.valHooks[t.type]||k.valHooks[t.nodeName.toLowerCase()])&&"get"in r&&void 0!==(e=r.get(t,"value"))?e:"string"==typeof(e=t.value)?e.replace(wt,""):null==e?"":e:void 0}}),k.extend({valHooks:{option:{get:function(e){var t=k.find.attr(e,"value");return null!=t?t:mt(k.text(e))}},select:{get:function(e){var t,n,r,i=e.options,o=e.selectedIndex,a="select-one"===e.type,s=a?null:[],u=a?o+1:i.length;for(r=o<0?u:a?o:0;r<u;r++)if(((n=i[r]).selected||r===o)&&!n.disabled&&(!n.parentNode.disabled||!A(n.parentNode,"optgroup"))){if(t=k(n).val(),a)return t;s.push(t)}return s},set:function(e,t){var n,r,i=e.options,o=k.makeArray(t),a=i.length;while(a--)((r=i[a]).selected=-1<k.inArray(k.valHooks.option.get(r),o))&&(n=!0);return n||(e.selectedIndex=-1),o}}}}),k.each(["radio","checkbox"],function(){k.valHooks[this]={set:function(e,t){if(Array.isArray(t))return e.checked=-1<k.inArray(k(e).val(),t)}},y.checkOn||(k.valHooks[this].get=function(e){return null===e.getAttribute("value")?"on":e.value})}),y.focusin="onfocusin"in C;var Tt=/^(?:focusinfocus|focusoutblur)$/,Ct=function(e){e.stopPropagation()};k.extend(k.event,{trigger:function(e,t,n,r){var i,o,a,s,u,l,c,f,p=[n||E],d=v.call(e,"type")?e.type:e,h=v.call(e,"namespace")?e.namespace.split("."):[];if(o=f=a=n=n||E,3!==n.nodeType&&8!==n.nodeType&&!Tt.test(d+k.event.triggered)&&(-1<d.indexOf(".")&&(d=(h=d.split(".")).shift(),h.sort()),u=d.indexOf(":")<0&&"on"+d,(e=e[k.expando]?e:new k.Event(d,"object"==typeof e&&e)).isTrigger=r?2:3,e.namespace=h.join("."),e.rnamespace=e.namespace?new RegExp("(^|\\.)"+h.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,e.result=void 0,e.target||(e.target=n),t=null==t?[e]:k.makeArray(t,[e]),c=k.event.special[d]||{},r||!c.trigger||!1!==c.trigger.apply(n,t))){if(!r&&!c.noBubble&&!x(n)){for(s=c.delegateType||d,Tt.test(s+d)||(o=o.parentNode);o;o=o.parentNode)p.push(o),a=o;a===(n.ownerDocument||E)&&p.push(a.defaultView||a.parentWindow||C)}i=0;while((o=p[i++])&&!e.isPropagationStopped())f=o,e.type=1<i?s:c.bindType||d,(l=(Q.get(o,"events")||{})[e.type]&&Q.get(o,"handle"))&&l.apply(o,t),(l=u&&o[u])&&l.apply&&G(o)&&(e.result=l.apply(o,t),!1===e.result&&e.preventDefault());return e.type=d,r||e.isDefaultPrevented()||c._default&&!1!==c._default.apply(p.pop(),t)||!G(n)||u&&m(n[d])&&!x(n)&&((a=n[u])&&(n[u]=null),k.event.triggered=d,e.isPropagationStopped()&&f.addEventListener(d,Ct),n[d](),e.isPropagationStopped()&&f.removeEventListener(d,Ct),k.event.triggered=void 0,a&&(n[u]=a)),e.result}},simulate:function(e,t,n){var r=k.extend(new k.Event,n,{type:e,isSimulated:!0});k.event.trigger(r,null,t)}}),k.fn.extend({trigger:function(e,t){return this.each(function(){k.event.trigger(e,t,this)})},triggerHandler:function(e,t){var n=this[0];if(n)return k.event.trigger(e,t,n,!0)}}),y.focusin||k.each({focus:"focusin",blur:"focusout"},function(n,r){var i=function(e){k.event.simulate(r,e.target,k.event.fix(e))};k.event.special[r]={setup:function(){var e=this.ownerDocument||this,t=Q.access(e,r);t||e.addEventListener(n,i,!0),Q.access(e,r,(t||0)+1)},teardown:function(){var e=this.ownerDocument||this,t=Q.access(e,r)-1;t?Q.access(e,r,t):(e.removeEventListener(n,i,!0),Q.remove(e,r))}}});var Et=C.location,kt=Date.now(),St=/\?/;k.parseXML=function(e){var t;if(!e||"string"!=typeof e)return null;try{t=(new C.DOMParser).parseFromString(e,"text/xml")}catch(e){t=void 0}return t&&!t.getElementsByTagName("parsererror").length||k.error("Invalid XML: "+e),t};var Nt=/\[\]$/,At=/\r?\n/g,Dt=/^(?:submit|button|image|reset|file)$/i,jt=/^(?:input|select|textarea|keygen)/i;function qt(n,e,r,i){var t;if(Array.isArray(e))k.each(e,function(e,t){r||Nt.test(n)?i(n,t):qt(n+"["+("object"==typeof t&&null!=t?e:"")+"]",t,r,i)});else if(r||"object"!==w(e))i(n,e);else for(t in e)qt(n+"["+t+"]",e[t],r,i)}k.param=function(e,t){var n,r=[],i=function(e,t){var n=m(t)?t():t;r[r.length]=encodeURIComponent(e)+"="+encodeURIComponent(null==n?"":n)};if(null==e)return"";if(Array.isArray(e)||e.jquery&&!k.isPlainObject(e))k.each(e,function(){i(this.name,this.value)});else for(n in e)qt(n,e[n],t,i);return r.join("&")},k.fn.extend({serialize:function(){return k.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var e=k.prop(this,"elements");return e?k.makeArray(e):this}).filter(function(){var e=this.type;return this.name&&!k(this).is(":disabled")&&jt.test(this.nodeName)&&!Dt.test(e)&&(this.checked||!pe.test(e))}).map(function(e,t){var n=k(this).val();return null==n?null:Array.isArray(n)?k.map(n,function(e){return{name:t.name,value:e.replace(At,"\r\n")}}):{name:t.name,value:n.replace(At,"\r\n")}}).get()}});var Lt=/%20/g,Ht=/#.*$/,Ot=/([?&])_=[^&]*/,Pt=/^(.*?):[ \t]*([^\r\n]*)$/gm,Rt=/^(?:GET|HEAD)$/,Mt=/^\/\//,It={},Wt={},$t="*/".concat("*"),Ft=E.createElement("a");function Bt(o){return function(e,t){"string"!=typeof e&&(t=e,e="*");var n,r=0,i=e.toLowerCase().match(R)||[];if(m(t))while(n=i[r++])"+"===n[0]?(n=n.slice(1)||"*",(o[n]=o[n]||[]).unshift(t)):(o[n]=o[n]||[]).push(t)}}function _t(t,i,o,a){var s={},u=t===Wt;function l(e){var r;return s[e]=!0,k.each(t[e]||[],function(e,t){var n=t(i,o,a);return"string"!=typeof n||u||s[n]?u?!(r=n):void 0:(i.dataTypes.unshift(n),l(n),!1)}),r}return l(i.dataTypes[0])||!s["*"]&&l("*")}function zt(e,t){var n,r,i=k.ajaxSettings.flatOptions||{};for(n in t)void 0!==t[n]&&((i[n]?e:r||(r={}))[n]=t[n]);return r&&k.extend(!0,e,r),e}Ft.href=Et.href,k.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:Et.href,type:"GET",isLocal:/^(?:about|app|app-storage|.+-extension|file|res|widget):$/.test(Et.protocol),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":$t,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/\bxml\b/,html:/\bhtml/,json:/\bjson\b/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":JSON.parse,"text xml":k.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(e,t){return t?zt(zt(e,k.ajaxSettings),t):zt(k.ajaxSettings,e)},ajaxPrefilter:Bt(It),ajaxTransport:Bt(Wt),ajax:function(e,t){"object"==typeof e&&(t=e,e=void 0),t=t||{};var c,f,p,n,d,r,h,g,i,o,v=k.ajaxSetup({},t),y=v.context||v,m=v.context&&(y.nodeType||y.jquery)?k(y):k.event,x=k.Deferred(),b=k.Callbacks("once memory"),w=v.statusCode||{},a={},s={},u="canceled",T={readyState:0,getResponseHeader:function(e){var t;if(h){if(!n){n={};while(t=Pt.exec(p))n[t[1].toLowerCase()+" "]=(n[t[1].toLowerCase()+" "]||[]).concat(t[2])}t=n[e.toLowerCase()+" "]}return null==t?null:t.join(", ")},getAllResponseHeaders:function(){return h?p:null},setRequestHeader:function(e,t){return null==h&&(e=s[e.toLowerCase()]=s[e.toLowerCase()]||e,a[e]=t),this},overrideMimeType:function(e){return null==h&&(v.mimeType=e),this},statusCode:function(e){var t;if(e)if(h)T.always(e[T.status]);else for(t in e)w[t]=[w[t],e[t]];return this},abort:function(e){var t=e||u;return c&&c.abort(t),l(0,t),this}};if(x.promise(T),v.url=((e||v.url||Et.href)+"").replace(Mt,Et.protocol+"//"),v.type=t.method||t.type||v.method||v.type,v.dataTypes=(v.dataType||"*").toLowerCase().match(R)||[""],null==v.crossDomain){r=E.createElement("a");try{r.href=v.url,r.href=r.href,v.crossDomain=Ft.protocol+"//"+Ft.host!=r.protocol+"//"+r.host}catch(e){v.crossDomain=!0}}if(v.data&&v.processData&&"string"!=typeof v.data&&(v.data=k.param(v.data,v.traditional)),_t(It,v,t,T),h)return T;for(i in(g=k.event&&v.global)&&0==k.active++&&k.event.trigger("ajaxStart"),v.type=v.type.toUpperCase(),v.hasContent=!Rt.test(v.type),f=v.url.replace(Ht,""),v.hasContent?v.data&&v.processData&&0===(v.contentType||"").indexOf("application/x-www-form-urlencoded")&&(v.data=v.data.replace(Lt,"+")):(o=v.url.slice(f.length),v.data&&(v.processData||"string"==typeof v.data)&&(f+=(St.test(f)?"&":"?")+v.data,delete v.data),!1===v.cache&&(f=f.replace(Ot,"$1"),o=(St.test(f)?"&":"?")+"_="+kt+++o),v.url=f+o),v.ifModified&&(k.lastModified[f]&&T.setRequestHeader("If-Modified-Since",k.lastModified[f]),k.etag[f]&&T.setRequestHeader("If-None-Match",k.etag[f])),(v.data&&v.hasContent&&!1!==v.contentType||t.contentType)&&T.setRequestHeader("Content-Type",v.contentType),T.setRequestHeader("Accept",v.dataTypes[0]&&v.accepts[v.dataTypes[0]]?v.accepts[v.dataTypes[0]]+("*"!==v.dataTypes[0]?", "+$t+"; q=0.01":""):v.accepts["*"]),v.headers)T.setRequestHeader(i,v.headers[i]);if(v.beforeSend&&(!1===v.beforeSend.call(y,T,v)||h))return T.abort();if(u="abort",b.add(v.complete),T.done(v.success),T.fail(v.error),c=_t(Wt,v,t,T)){if(T.readyState=1,g&&m.trigger("ajaxSend",[T,v]),h)return T;v.async&&0<v.timeout&&(d=C.setTimeout(function(){T.abort("timeout")},v.timeout));try{h=!1,c.send(a,l)}catch(e){if(h)throw e;l(-1,e)}}else l(-1,"No Transport");function l(e,t,n,r){var i,o,a,s,u,l=t;h||(h=!0,d&&C.clearTimeout(d),c=void 0,p=r||"",T.readyState=0<e?4:0,i=200<=e&&e<300||304===e,n&&(s=function(e,t,n){var r,i,o,a,s=e.contents,u=e.dataTypes;while("*"===u[0])u.shift(),void 0===r&&(r=e.mimeType||t.getResponseHeader("Content-Type"));if(r)for(i in s)if(s[i]&&s[i].test(r)){u.unshift(i);break}if(u[0]in n)o=u[0];else{for(i in n){if(!u[0]||e.converters[i+" "+u[0]]){o=i;break}a||(a=i)}o=o||a}if(o)return o!==u[0]&&u.unshift(o),n[o]}(v,T,n)),s=function(e,t,n,r){var i,o,a,s,u,l={},c=e.dataTypes.slice();if(c[1])for(a in e.converters)l[a.toLowerCase()]=e.converters[a];o=c.shift();while(o)if(e.responseFields[o]&&(n[e.responseFields[o]]=t),!u&&r&&e.dataFilter&&(t=e.dataFilter(t,e.dataType)),u=o,o=c.shift())if("*"===o)o=u;else if("*"!==u&&u!==o){if(!(a=l[u+" "+o]||l["* "+o]))for(i in l)if((s=i.split(" "))[1]===o&&(a=l[u+" "+s[0]]||l["* "+s[0]])){!0===a?a=l[i]:!0!==l[i]&&(o=s[0],c.unshift(s[1]));break}if(!0!==a)if(a&&e["throws"])t=a(t);else try{t=a(t)}catch(e){return{state:"parsererror",error:a?e:"No conversion from "+u+" to "+o}}}return{state:"success",data:t}}(v,s,T,i),i?(v.ifModified&&((u=T.getResponseHeader("Last-Modified"))&&(k.lastModified[f]=u),(u=T.getResponseHeader("etag"))&&(k.etag[f]=u)),204===e||"HEAD"===v.type?l="nocontent":304===e?l="notmodified":(l=s.state,o=s.data,i=!(a=s.error))):(a=l,!e&&l||(l="error",e<0&&(e=0))),T.status=e,T.statusText=(t||l)+"",i?x.resolveWith(y,[o,l,T]):x.rejectWith(y,[T,l,a]),T.statusCode(w),w=void 0,g&&m.trigger(i?"ajaxSuccess":"ajaxError",[T,v,i?o:a]),b.fireWith(y,[T,l]),g&&(m.trigger("ajaxComplete",[T,v]),--k.active||k.event.trigger("ajaxStop")))}return T},getJSON:function(e,t,n){return k.get(e,t,n,"json")},getScript:function(e,t){return k.get(e,void 0,t,"script")}}),k.each(["get","post"],function(e,i){k[i]=function(e,t,n,r){return m(t)&&(r=r||n,n=t,t=void 0),k.ajax(k.extend({url:e,type:i,dataType:r,data:t,success:n},k.isPlainObject(e)&&e))}}),k._evalUrl=function(e,t){return k.ajax({url:e,type:"GET",dataType:"script",cache:!0,async:!1,global:!1,converters:{"text script":function(){}},dataFilter:function(e){k.globalEval(e,t)}})},k.fn.extend({wrapAll:function(e){var t;return this[0]&&(m(e)&&(e=e.call(this[0])),t=k(e,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&t.insertBefore(this[0]),t.map(function(){var e=this;while(e.firstElementChild)e=e.firstElementChild;return e}).append(this)),this},wrapInner:function(n){return m(n)?this.each(function(e){k(this).wrapInner(n.call(this,e))}):this.each(function(){var e=k(this),t=e.contents();t.length?t.wrapAll(n):e.append(n)})},wrap:function(t){var n=m(t);return this.each(function(e){k(this).wrapAll(n?t.call(this,e):t)})},unwrap:function(e){return this.parent(e).not("body").each(function(){k(this).replaceWith(this.childNodes)}),this}}),k.expr.pseudos.hidden=function(e){return!k.expr.pseudos.visible(e)},k.expr.pseudos.visible=function(e){return!!(e.offsetWidth||e.offsetHeight||e.getClientRects().length)},k.ajaxSettings.xhr=function(){try{return new C.XMLHttpRequest}catch(e){}};var Ut={0:200,1223:204},Xt=k.ajaxSettings.xhr();y.cors=!!Xt&&"withCredentials"in Xt,y.ajax=Xt=!!Xt,k.ajaxTransport(function(i){var o,a;if(y.cors||Xt&&!i.crossDomain)return{send:function(e,t){var n,r=i.xhr();if(r.open(i.type,i.url,i.async,i.username,i.password),i.xhrFields)for(n in i.xhrFields)r[n]=i.xhrFields[n];for(n in i.mimeType&&r.overrideMimeType&&r.overrideMimeType(i.mimeType),i.crossDomain||e["X-Requested-With"]||(e["X-Requested-With"]="XMLHttpRequest"),e)r.setRequestHeader(n,e[n]);o=function(e){return function(){o&&(o=a=r.onload=r.onerror=r.onabort=r.ontimeout=r.onreadystatechange=null,"abort"===e?r.abort():"error"===e?"number"!=typeof r.status?t(0,"error"):t(r.status,r.statusText):t(Ut[r.status]||r.status,r.statusText,"text"!==(r.responseType||"text")||"string"!=typeof r.responseText?{binary:r.response}:{text:r.responseText},r.getAllResponseHeaders()))}},r.onload=o(),a=r.onerror=r.ontimeout=o("error"),void 0!==r.onabort?r.onabort=a:r.onreadystatechange=function(){4===r.readyState&&C.setTimeout(function(){o&&a()})},o=o("abort");try{r.send(i.hasContent&&i.data||null)}catch(e){if(o)throw e}},abort:function(){o&&o()}}}),k.ajaxPrefilter(function(e){e.crossDomain&&(e.contents.script=!1)}),k.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/\b(?:java|ecma)script\b/},converters:{"text script":function(e){return k.globalEval(e),e}}}),k.ajaxPrefilter("script",function(e){void 0===e.cache&&(e.cache=!1),e.crossDomain&&(e.type="GET")}),k.ajaxTransport("script",function(n){var r,i;if(n.crossDomain||n.scriptAttrs)return{send:function(e,t){r=k("<script>").attr(n.scriptAttrs||{}).prop({charset:n.scriptCharset,src:n.url}).on("load error",i=function(e){r.remove(),i=null,e&&t("error"===e.type?404:200,e.type)}),E.head.appendChild(r[0])},abort:function(){i&&i()}}});var Vt,Gt=[],Yt=/(=)\?(?=&|$)|\?\?/;k.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var e=Gt.pop()||k.expando+"_"+kt++;return this[e]=!0,e}}),k.ajaxPrefilter("json jsonp",function(e,t,n){var r,i,o,a=!1!==e.jsonp&&(Yt.test(e.url)?"url":"string"==typeof e.data&&0===(e.contentType||"").indexOf("application/x-www-form-urlencoded")&&Yt.test(e.data)&&"data");if(a||"jsonp"===e.dataTypes[0])return r=e.jsonpCallback=m(e.jsonpCallback)?e.jsonpCallback():e.jsonpCallback,a?e[a]=e[a].replace(Yt,"$1"+r):!1!==e.jsonp&&(e.url+=(St.test(e.url)?"&":"?")+e.jsonp+"="+r),e.converters["script json"]=function(){return o||k.error(r+" was not called"),o[0]},e.dataTypes[0]="json",i=C[r],C[r]=function(){o=arguments},n.always(function(){void 0===i?k(C).removeProp(r):C[r]=i,e[r]&&(e.jsonpCallback=t.jsonpCallback,Gt.push(r)),o&&m(i)&&i(o[0]),o=i=void 0}),"script"}),y.createHTMLDocument=((Vt=E.implementation.createHTMLDocument("").body).innerHTML="<form></form><form></form>",2===Vt.childNodes.length),k.parseHTML=function(e,t,n){return"string"!=typeof e?[]:("boolean"==typeof t&&(n=t,t=!1),t||(y.createHTMLDocument?((r=(t=E.implementation.createHTMLDocument("")).createElement("base")).href=E.location.href,t.head.appendChild(r)):t=E),o=!n&&[],(i=D.exec(e))?[t.createElement(i[1])]:(i=we([e],t,o),o&&o.length&&k(o).remove(),k.merge([],i.childNodes)));var r,i,o},k.fn.load=function(e,t,n){var r,i,o,a=this,s=e.indexOf(" ");return-1<s&&(r=mt(e.slice(s)),e=e.slice(0,s)),m(t)?(n=t,t=void 0):t&&"object"==typeof t&&(i="POST"),0<a.length&&k.ajax({url:e,type:i||"GET",dataType:"html",data:t}).done(function(e){o=arguments,a.html(r?k("<div>").append(k.parseHTML(e)).find(r):e)}).always(n&&function(e,t){a.each(function(){n.apply(this,o||[e.responseText,t,e])})}),this},k.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(e,t){k.fn[t]=function(e){return this.on(t,e)}}),k.expr.pseudos.animated=function(t){return k.grep(k.timers,function(e){return t===e.elem}).length},k.offset={setOffset:function(e,t,n){var r,i,o,a,s,u,l=k.css(e,"position"),c=k(e),f={};"static"===l&&(e.style.position="relative"),s=c.offset(),o=k.css(e,"top"),u=k.css(e,"left"),("absolute"===l||"fixed"===l)&&-1<(o+u).indexOf("auto")?(a=(r=c.position()).top,i=r.left):(a=parseFloat(o)||0,i=parseFloat(u)||0),m(t)&&(t=t.call(e,n,k.extend({},s))),null!=t.top&&(f.top=t.top-s.top+a),null!=t.left&&(f.left=t.left-s.left+i),"using"in t?t.using.call(e,f):c.css(f)}},k.fn.extend({offset:function(t){if(arguments.length)return void 0===t?this:this.each(function(e){k.offset.setOffset(this,t,e)});var e,n,r=this[0];return r?r.getClientRects().length?(e=r.getBoundingClientRect(),n=r.ownerDocument.defaultView,{top:e.top+n.pageYOffset,left:e.left+n.pageXOffset}):{top:0,left:0}:void 0},position:function(){if(this[0]){var e,t,n,r=this[0],i={top:0,left:0};if("fixed"===k.css(r,"position"))t=r.getBoundingClientRect();else{t=this.offset(),n=r.ownerDocument,e=r.offsetParent||n.documentElement;while(e&&(e===n.body||e===n.documentElement)&&"static"===k.css(e,"position"))e=e.parentNode;e&&e!==r&&1===e.nodeType&&((i=k(e).offset()).top+=k.css(e,"borderTopWidth",!0),i.left+=k.css(e,"borderLeftWidth",!0))}return{top:t.top-i.top-k.css(r,"marginTop",!0),left:t.left-i.left-k.css(r,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){var e=this.offsetParent;while(e&&"static"===k.css(e,"position"))e=e.offsetParent;return e||ie})}}),k.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(t,i){var o="pageYOffset"===i;k.fn[t]=function(e){return _(this,function(e,t,n){var r;if(x(e)?r=e:9===e.nodeType&&(r=e.defaultView),void 0===n)return r?r[i]:e[t];r?r.scrollTo(o?r.pageXOffset:n,o?n:r.pageYOffset):e[t]=n},t,e,arguments.length)}}),k.each(["top","left"],function(e,n){k.cssHooks[n]=ze(y.pixelPosition,function(e,t){if(t)return t=_e(e,n),$e.test(t)?k(e).position()[n]+"px":t})}),k.each({Height:"height",Width:"width"},function(a,s){k.each({padding:"inner"+a,content:s,"":"outer"+a},function(r,o){k.fn[o]=function(e,t){var n=arguments.length&&(r||"boolean"!=typeof e),i=r||(!0===e||!0===t?"margin":"border");return _(this,function(e,t,n){var r;return x(e)?0===o.indexOf("outer")?e["inner"+a]:e.document.documentElement["client"+a]:9===e.nodeType?(r=e.documentElement,Math.max(e.body["scroll"+a],r["scroll"+a],e.body["offset"+a],r["offset"+a],r["client"+a])):void 0===n?k.css(e,t,i):k.style(e,t,n,i)},s,n?e:void 0,n)}})}),k.each("blur focus focusin focusout resize scroll click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup contextmenu".split(" "),function(e,n){k.fn[n]=function(e,t){return 0<arguments.length?this.on(n,null,e,t):this.trigger(n)}}),k.fn.extend({hover:function(e,t){return this.mouseenter(e).mouseleave(t||e)}}),k.fn.extend({bind:function(e,t,n){return this.on(e,null,t,n)},unbind:function(e,t){return this.off(e,null,t)},delegate:function(e,t,n,r){return this.on(t,e,n,r)},undelegate:function(e,t,n){return 1===arguments.length?this.off(e,"**"):this.off(t,e||"**",n)}}),k.proxy=function(e,t){var n,r,i;if("string"==typeof t&&(n=e[t],t=e,e=n),m(e))return r=s.call(arguments,2),(i=function(){return e.apply(t||this,r.concat(s.call(arguments)))}).guid=e.guid=e.guid||k.guid++,i},k.holdReady=function(e){e?k.readyWait++:k.ready(!0)},k.isArray=Array.isArray,k.parseJSON=JSON.parse,k.nodeName=A,k.isFunction=m,k.isWindow=x,k.camelCase=V,k.type=w,k.now=Date.now,k.isNumeric=function(e){var t=k.type(e);return("number"===t||"string"===t)&&!isNaN(e-parseFloat(e))},"function"==typeof define&&define.amd&&define("jquery",[],function(){return k});var Qt=C.jQuery,Jt=C.$;return k.noConflict=function(e){return C.$===k&&(C.$=Jt),e&&C.jQuery===k&&(C.jQuery=Qt),k},e||(C.jQuery=C.$=k),k});
/*
 * jQuery throttle / debounce - v1.1 - 3/7/2010
 * http://benalman.com/projects/jquery-throttle-debounce-plugin/
 * 
 * Copyright (c) 2010 "Cowboy" Ben Alman
 * Dual licensed under the MIT and GPL licenses.
 * http://benalman.com/about/license/
 */
(function(b,c){var $=b.jQuery||b.Cowboy||(b.Cowboy={}),a;$.throttle=a=function(e,f,j,i){var h,d=0;if(typeof f!=="boolean"){i=j;j=f;f=c}function g(){var o=this,m=+new Date()-d,n=arguments;function l(){d=+new Date();j.apply(o,n)}function k(){h=c}if(i&&!h){l()}h&&clearTimeout(h);if(i===c&&m>e){l()}else{if(f!==true){h=setTimeout(i?k:l,i===c?e-m:e)}}}if($.guid){g.guid=j.guid=j.guid||$.guid++}return g};$.debounce=function(d,e,f){return f===c?a(d,e,false):a(d,f,e!==false)}})(this);
/*!
 * imagesLoaded PACKAGED v4.1.0
 * JavaScript is all like "You images are done yet or what?"
 * MIT License
 */
!function(t,e){"function"==typeof define&&define.amd?define("ev-emitter/ev-emitter",e):"object"==typeof module&&module.exports?module.exports=e():t.EvEmitter=e()}(this,function(){function t(){}var e=t.prototype;return e.on=function(t,e){if(t&&e){var i=this._events=this._events||{},n=i[t]=i[t]||[];return-1==n.indexOf(e)&&n.push(e),this}},e.once=function(t,e){if(t&&e){this.on(t,e);var i=this._onceEvents=this._onceEvents||{},n=i[t]=i[t]||[];return n[e]=!0,this}},e.off=function(t,e){var i=this._events&&this._events[t];if(i&&i.length){var n=i.indexOf(e);return-1!=n&&i.splice(n,1),this}},e.emitEvent=function(t,e){var i=this._events&&this._events[t];if(i&&i.length){var n=0,o=i[n];e=e||[];for(var r=this._onceEvents&&this._onceEvents[t];o;){var s=r&&r[o];s&&(this.off(t,o),delete r[o]),o.apply(this,e),n+=s?0:1,o=i[n]}return this}},t}),function(t,e){"use strict";"function"==typeof define&&define.amd?define(["ev-emitter/ev-emitter"],function(i){return e(t,i)}):"object"==typeof module&&module.exports?module.exports=e(t,require("ev-emitter")):t.imagesLoaded=e(t,t.EvEmitter)}(window,function(t,e){function i(t,e){for(var i in e)t[i]=e[i];return t}function n(t){var e=[];if(Array.isArray(t))e=t;else if("number"==typeof t.length)for(var i=0;i<t.length;i++)e.push(t[i]);else e.push(t);return e}function o(t,e,r){return this instanceof o?("string"==typeof t&&(t=document.querySelectorAll(t)),this.elements=n(t),this.options=i({},this.options),"function"==typeof e?r=e:i(this.options,e),r&&this.on("always",r),this.getImages(),h&&(this.jqDeferred=new h.Deferred),void setTimeout(function(){this.check()}.bind(this))):new o(t,e,r)}function r(t){this.img=t}function s(t,e){this.url=t,this.element=e,this.img=new Image}var h=t.jQuery,a=t.console;o.prototype=Object.create(e.prototype),o.prototype.options={},o.prototype.getImages=function(){this.images=[],this.elements.forEach(this.addElementImages,this)},o.prototype.addElementImages=function(t){"IMG"==t.nodeName&&this.addImage(t),this.options.background===!0&&this.addElementBackgroundImages(t);var e=t.nodeType;if(e&&d[e]){for(var i=t.querySelectorAll("img"),n=0;n<i.length;n++){var o=i[n];this.addImage(o)}if("string"==typeof this.options.background){var r=t.querySelectorAll(this.options.background);for(n=0;n<r.length;n++){var s=r[n];this.addElementBackgroundImages(s)}}}};var d={1:!0,9:!0,11:!0};return o.prototype.addElementBackgroundImages=function(t){var e=getComputedStyle(t);if(e)for(var i=/url\((['"])?(.*?)\1\)/gi,n=i.exec(e.backgroundImage);null!==n;){var o=n&&n[2];o&&this.addBackground(o,t),n=i.exec(e.backgroundImage)}},o.prototype.addImage=function(t){var e=new r(t);this.images.push(e)},o.prototype.addBackground=function(t,e){var i=new s(t,e);this.images.push(i)},o.prototype.check=function(){function t(t,i,n){setTimeout(function(){e.progress(t,i,n)})}var e=this;return this.progressedCount=0,this.hasAnyBroken=!1,this.images.length?void this.images.forEach(function(e){e.once("progress",t),e.check()}):void this.complete()},o.prototype.progress=function(t,e,i){this.progressedCount++,this.hasAnyBroken=this.hasAnyBroken||!t.isLoaded,this.emitEvent("progress",[this,t,e]),this.jqDeferred&&this.jqDeferred.notify&&this.jqDeferred.notify(this,t),this.progressedCount==this.images.length&&this.complete(),this.options.debug&&a&&a.log("progress: "+i,t,e)},o.prototype.complete=function(){var t=this.hasAnyBroken?"fail":"done";if(this.isComplete=!0,this.emitEvent(t,[this]),this.emitEvent("always",[this]),this.jqDeferred){var e=this.hasAnyBroken?"reject":"resolve";this.jqDeferred[e](this)}},r.prototype=Object.create(e.prototype),r.prototype.check=function(){var t=this.getIsImageComplete();return t?void this.confirm(0!==this.img.naturalWidth,"naturalWidth"):(this.proxyImage=new Image,this.proxyImage.addEventListener("load",this),this.proxyImage.addEventListener("error",this),this.img.addEventListener("load",this),this.img.addEventListener("error",this),void(this.proxyImage.src=this.img.src))},r.prototype.getIsImageComplete=function(){return this.img.complete&&void 0!==this.img.naturalWidth},r.prototype.confirm=function(t,e){this.isLoaded=t,this.emitEvent("progress",[this,this.img,e])},r.prototype.handleEvent=function(t){var e="on"+t.type;this[e]&&this[e](t)},r.prototype.onload=function(){this.confirm(!0,"onload"),this.unbindEvents()},r.prototype.onerror=function(){this.confirm(!1,"onerror"),this.unbindEvents()},r.prototype.unbindEvents=function(){this.proxyImage.removeEventListener("load",this),this.proxyImage.removeEventListener("error",this),this.img.removeEventListener("load",this),this.img.removeEventListener("error",this)},s.prototype=Object.create(r.prototype),s.prototype.check=function(){this.img.addEventListener("load",this),this.img.addEventListener("error",this),this.img.src=this.url;var t=this.getIsImageComplete();t&&(this.confirm(0!==this.img.naturalWidth,"naturalWidth"),this.unbindEvents())},s.prototype.unbindEvents=function(){this.img.removeEventListener("load",this),this.img.removeEventListener("error",this)},s.prototype.confirm=function(t,e){this.isLoaded=t,this.emitEvent("progress",[this,this.element,e])},o.makeJQueryPlugin=function(e){e=e||t.jQuery,e&&(h=e,h.fn.imagesLoaded=function(t,e){var i=new o(this,t,e);return i.jqDeferred.promise(h(this))})},o.makeJQueryPlugin(),o});
/*! lz-string-1.3.3-min.js | (c) 2013 Pieroxy | Licensed under a WTFPL license */
var LZString={_keyStr:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",_f:String.fromCharCode,compressToBase64:function(e){if(e==null)return"";var t="";var n,r,i,s,o,u,a;var f=0;e=LZString.compress(e);while(f<e.length*2){if(f%2==0){n=e.charCodeAt(f/2)>>8;r=e.charCodeAt(f/2)&255;if(f/2+1<e.length)i=e.charCodeAt(f/2+1)>>8;else i=NaN}else{n=e.charCodeAt((f-1)/2)&255;if((f+1)/2<e.length){r=e.charCodeAt((f+1)/2)>>8;i=e.charCodeAt((f+1)/2)&255}else r=i=NaN}f+=3;s=n>>2;o=(n&3)<<4|r>>4;u=(r&15)<<2|i>>6;a=i&63;if(isNaN(r)){u=a=64}else if(isNaN(i)){a=64}t=t+LZString._keyStr.charAt(s)+LZString._keyStr.charAt(o)+LZString._keyStr.charAt(u)+LZString._keyStr.charAt(a)}return t},decompressFromBase64:function(e){if(e==null)return"";var t="",n=0,r,i,s,o,u,a,f,l,c=0,h=LZString._f;e=e.replace(/[^A-Za-z0-9\+\/\=]/g,"");while(c<e.length){u=LZString._keyStr.indexOf(e.charAt(c++));a=LZString._keyStr.indexOf(e.charAt(c++));f=LZString._keyStr.indexOf(e.charAt(c++));l=LZString._keyStr.indexOf(e.charAt(c++));i=u<<2|a>>4;s=(a&15)<<4|f>>2;o=(f&3)<<6|l;if(n%2==0){r=i<<8;if(f!=64){t+=h(r|s)}if(l!=64){r=o<<8}}else{t=t+h(r|i);if(f!=64){r=s<<8}if(l!=64){t+=h(r|o)}}n+=3}return LZString.decompress(t)},compressToUTF16:function(e){if(e==null)return"";var t="",n,r,i,s=0,o=LZString._f;e=LZString.compress(e);for(n=0;n<e.length;n++){r=e.charCodeAt(n);switch(s++){case 0:t+=o((r>>1)+32);i=(r&1)<<14;break;case 1:t+=o(i+(r>>2)+32);i=(r&3)<<13;break;case 2:t+=o(i+(r>>3)+32);i=(r&7)<<12;break;case 3:t+=o(i+(r>>4)+32);i=(r&15)<<11;break;case 4:t+=o(i+(r>>5)+32);i=(r&31)<<10;break;case 5:t+=o(i+(r>>6)+32);i=(r&63)<<9;break;case 6:t+=o(i+(r>>7)+32);i=(r&127)<<8;break;case 7:t+=o(i+(r>>8)+32);i=(r&255)<<7;break;case 8:t+=o(i+(r>>9)+32);i=(r&511)<<6;break;case 9:t+=o(i+(r>>10)+32);i=(r&1023)<<5;break;case 10:t+=o(i+(r>>11)+32);i=(r&2047)<<4;break;case 11:t+=o(i+(r>>12)+32);i=(r&4095)<<3;break;case 12:t+=o(i+(r>>13)+32);i=(r&8191)<<2;break;case 13:t+=o(i+(r>>14)+32);i=(r&16383)<<1;break;case 14:t+=o(i+(r>>15)+32,(r&32767)+32);s=0;break}}return t+o(i+32)},decompressFromUTF16:function(e){if(e==null)return"";var t="",n,r,i=0,s=0,o=LZString._f;while(s<e.length){r=e.charCodeAt(s)-32;switch(i++){case 0:n=r<<1;break;case 1:t+=o(n|r>>14);n=(r&16383)<<2;break;case 2:t+=o(n|r>>13);n=(r&8191)<<3;break;case 3:t+=o(n|r>>12);n=(r&4095)<<4;break;case 4:t+=o(n|r>>11);n=(r&2047)<<5;break;case 5:t+=o(n|r>>10);n=(r&1023)<<6;break;case 6:t+=o(n|r>>9);n=(r&511)<<7;break;case 7:t+=o(n|r>>8);n=(r&255)<<8;break;case 8:t+=o(n|r>>7);n=(r&127)<<9;break;case 9:t+=o(n|r>>6);n=(r&63)<<10;break;case 10:t+=o(n|r>>5);n=(r&31)<<11;break;case 11:t+=o(n|r>>4);n=(r&15)<<12;break;case 12:t+=o(n|r>>3);n=(r&7)<<13;break;case 13:t+=o(n|r>>2);n=(r&3)<<14;break;case 14:t+=o(n|r>>1);n=(r&1)<<15;break;case 15:t+=o(n|r);i=0;break}s++}return LZString.decompress(t)},compress:function(e){if(e==null)return"";var t,n,r={},i={},s="",o="",u="",a=2,f=3,l=2,c="",h=0,p=0,d,v=LZString._f;for(d=0;d<e.length;d+=1){s=e.charAt(d);if(!Object.prototype.hasOwnProperty.call(r,s)){r[s]=f++;i[s]=true}o=u+s;if(Object.prototype.hasOwnProperty.call(r,o)){u=o}else{if(Object.prototype.hasOwnProperty.call(i,u)){if(u.charCodeAt(0)<256){for(t=0;t<l;t++){h=h<<1;if(p==15){p=0;c+=v(h);h=0}else{p++}}n=u.charCodeAt(0);for(t=0;t<8;t++){h=h<<1|n&1;if(p==15){p=0;c+=v(h);h=0}else{p++}n=n>>1}}else{n=1;for(t=0;t<l;t++){h=h<<1|n;if(p==15){p=0;c+=v(h);h=0}else{p++}n=0}n=u.charCodeAt(0);for(t=0;t<16;t++){h=h<<1|n&1;if(p==15){p=0;c+=v(h);h=0}else{p++}n=n>>1}}a--;if(a==0){a=Math.pow(2,l);l++}delete i[u]}else{n=r[u];for(t=0;t<l;t++){h=h<<1|n&1;if(p==15){p=0;c+=v(h);h=0}else{p++}n=n>>1}}a--;if(a==0){a=Math.pow(2,l);l++}r[o]=f++;u=String(s)}}if(u!==""){if(Object.prototype.hasOwnProperty.call(i,u)){if(u.charCodeAt(0)<256){for(t=0;t<l;t++){h=h<<1;if(p==15){p=0;c+=v(h);h=0}else{p++}}n=u.charCodeAt(0);for(t=0;t<8;t++){h=h<<1|n&1;if(p==15){p=0;c+=v(h);h=0}else{p++}n=n>>1}}else{n=1;for(t=0;t<l;t++){h=h<<1|n;if(p==15){p=0;c+=v(h);h=0}else{p++}n=0}n=u.charCodeAt(0);for(t=0;t<16;t++){h=h<<1|n&1;if(p==15){p=0;c+=v(h);h=0}else{p++}n=n>>1}}a--;if(a==0){a=Math.pow(2,l);l++}delete i[u]}else{n=r[u];for(t=0;t<l;t++){h=h<<1|n&1;if(p==15){p=0;c+=v(h);h=0}else{p++}n=n>>1}}a--;if(a==0){a=Math.pow(2,l);l++}}n=2;for(t=0;t<l;t++){h=h<<1|n&1;if(p==15){p=0;c+=v(h);h=0}else{p++}n=n>>1}while(true){h=h<<1;if(p==15){c+=v(h);break}else p++}return c},decompress:function(e){if(e==null)return"";if(e=="")return null;var t=[],n,r=4,i=4,s=3,o="",u="",a,f,l,c,h,p,d,v=LZString._f,m={string:e,val:e.charCodeAt(0),position:32768,index:1};for(a=0;a<3;a+=1){t[a]=a}l=0;h=Math.pow(2,2);p=1;while(p!=h){c=m.val&m.position;m.position>>=1;if(m.position==0){m.position=32768;m.val=m.string.charCodeAt(m.index++)}l|=(c>0?1:0)*p;p<<=1}switch(n=l){case 0:l=0;h=Math.pow(2,8);p=1;while(p!=h){c=m.val&m.position;m.position>>=1;if(m.position==0){m.position=32768;m.val=m.string.charCodeAt(m.index++)}l|=(c>0?1:0)*p;p<<=1}d=v(l);break;case 1:l=0;h=Math.pow(2,16);p=1;while(p!=h){c=m.val&m.position;m.position>>=1;if(m.position==0){m.position=32768;m.val=m.string.charCodeAt(m.index++)}l|=(c>0?1:0)*p;p<<=1}d=v(l);break;case 2:return""}t[3]=d;f=u=d;while(true){if(m.index>m.string.length){return""}l=0;h=Math.pow(2,s);p=1;while(p!=h){c=m.val&m.position;m.position>>=1;if(m.position==0){m.position=32768;m.val=m.string.charCodeAt(m.index++)}l|=(c>0?1:0)*p;p<<=1}switch(d=l){case 0:l=0;h=Math.pow(2,8);p=1;while(p!=h){c=m.val&m.position;m.position>>=1;if(m.position==0){m.position=32768;m.val=m.string.charCodeAt(m.index++)}l|=(c>0?1:0)*p;p<<=1}t[i++]=v(l);d=i-1;r--;break;case 1:l=0;h=Math.pow(2,16);p=1;while(p!=h){c=m.val&m.position;m.position>>=1;if(m.position==0){m.position=32768;m.val=m.string.charCodeAt(m.index++)}l|=(c>0?1:0)*p;p<<=1}t[i++]=v(l);d=i-1;r--;break;case 2:return u}if(r==0){r=Math.pow(2,s);s++}if(t[d]){o=t[d]}else{if(d===i){o=f+f.charAt(0)}else{return null}}u+=o;t[i++]=f+o.charAt(0);r--;f=o;if(r==0){r=Math.pow(2,s);s++}}}};if(typeof module!=="undefined"&&module!=null){module.exports=LZString}
/*! @source http://purl.eligrey.com/github/FileSaver.js/blob/master/FileSaver.js */
var saveAs=saveAs||navigator.msSaveBlob&&navigator.msSaveBlob.bind(navigator)||function(e){"use strict";var t=e.document,n=function(){return e.URL||e.webkitURL||e},r=e.URL||e.webkitURL||e,i=t.createElementNS("http://www.w3.org/1999/xhtml","a"),s="download"in i,o=function(n){var r=t.createEvent("MouseEvents");r.initMouseEvent("click",true,false,e,0,0,0,0,0,false,false,false,false,0,null);n.dispatchEvent(r)},u=e.webkitRequestFileSystem,a=e.requestFileSystem||u||e.mozRequestFileSystem,f=function(t){(e.setImmediate||e.setTimeout)(function(){throw t},0)},l="application/octet-stream",c=0,h=[],p=function(){var e=h.length;while(e--){var t=h[e];if(typeof t==="string"){r.revokeObjectURL(t)}else{t.remove()}}h.length=0},d=function(e,t,n){t=[].concat(t);var r=t.length;while(r--){var i=e["on"+t[r]];if(typeof i==="function"){try{i.call(e,n||e)}catch(s){f(s)}}}},v=function(t,r){var f=this,p=t.type,v=false,m,g,y=function(){var e=n().createObjectURL(t);h.push(e);return e},b=function(){d(f,"writestart progress write writeend".split(" "))},w=function(){if(v||!m){m=y(t)}if(g){g.location.href=m}else{window.open(m,"_blank")}f.readyState=f.DONE;b()},E=function(e){return function(){if(f.readyState!==f.DONE){return e.apply(this,arguments)}}},S={create:true,exclusive:false},x;f.readyState=f.INIT;if(!r){r="download"}if(s){m=y(t);i.href=m;i.download=r;o(i);f.readyState=f.DONE;b();return}if(e.chrome&&p&&p!==l){x=t.slice||t.webkitSlice;t=x.call(t,0,t.size,l);v=true}if(u&&r!=="download"){r+=".download"}if(p===l||u){g=e}if(!a){w();return}c+=t.size;a(e.TEMPORARY,c,E(function(e){e.root.getDirectory("saved",S,E(function(e){var n=function(){e.getFile(r,S,E(function(e){e.createWriter(E(function(n){n.onwriteend=function(t){g.location.href=e.toURL();h.push(e);f.readyState=f.DONE;d(f,"writeend",t)};n.onerror=function(){var e=n.error;if(e.code!==e.ABORT_ERR){w()}};"writestart progress write abort".split(" ").forEach(function(e){n["on"+e]=f["on"+e]});n.write(t);f.abort=function(){n.abort();f.readyState=f.DONE};f.readyState=f.WRITING}),w)}),w)};e.getFile(r,{create:false},E(function(e){e.remove();n()}),E(function(e){if(e.code===e.NOT_FOUND_ERR){n()}else{w()}}))}),w)}),w)},m=v.prototype,g=function(e,t){return new v(e,t)};m.abort=function(){var e=this;e.readyState=e.DONE;d(e,"abort")};m.readyState=m.INIT=0;m.WRITING=1;m.DONE=2;m.error=m.onwritestart=m.onprogress=m.onwrite=m.onabort=m.onerror=m.onwriteend=null;e.addEventListener("unload",p,false);return g}(self)
/*! seedrandom.js v2.3.3 | (c) 2013 David Bau, all rights reserved. | Licensed under a BSD-style license */
!function(a,b,c,d,e,f,g,h,i){function j(a){var b,c=a.length,e=this,f=0,g=e.i=e.j=0,h=e.S=[];for(c||(a=[c++]);d>f;)h[f]=f++;for(f=0;d>f;f++)h[f]=h[g=r&g+a[f%c]+(b=h[f])],h[g]=b;(e.g=function(a){for(var b,c=0,f=e.i,g=e.j,h=e.S;a--;)b=h[f=r&f+1],c=c*d+h[r&(h[f]=h[g=r&g+b])+(h[g]=b)];return e.i=f,e.j=g,c})(d)}function k(a,b){var c,d=[],e=typeof a;if(b&&"object"==e)for(c in a)try{d.push(k(a[c],b-1))}catch(f){}return d.length?d:"string"==e?a:a+"\0"}function l(a,b){for(var c,d=a+"",e=0;e<d.length;)b[r&e]=r&(c^=19*b[r&e])+d.charCodeAt(e++);return n(b)}function m(c){try{return a.crypto.getRandomValues(c=new Uint8Array(d)),n(c)}catch(e){return[+new Date,a,(c=a.navigator)&&c.plugins,a.screen,n(b)]}}function n(a){return String.fromCharCode.apply(0,a)}var o=c.pow(d,e),p=c.pow(2,f),q=2*p,r=d-1,s=c["seed"+i]=function(a,f,g){var h=[],r=l(k(f?[a,n(b)]:null==a?m():a,3),h),s=new j(h);return l(n(s.S),b),(g||function(a,b,d){return d?(c[i]=a,b):a})(function(){for(var a=s.g(e),b=o,c=0;p>a;)a=(a+c)*d,b*=d,c=s.g(1);for(;a>=q;)a/=2,b/=2,c>>>=1;return(a+c)/b},r,this==c)};l(c[i](),b),g&&g.exports?g.exports=s:h&&h.amd&&h(function(){return s})}(this,[],Math,256,6,52,"object"==typeof module&&module,"function"==typeof define&&define,"random");
/*! console_hack.js | (c) 2015 Thomas Michael Edwards | Licensed under SugarCube's Simple BSD license */
!function(){for(var methods=["assert","clear","count","debug","dir","dirxml","error","exception","group","groupCollapsed","groupEnd","info","log","markTimeline","profile","profileEnd","table","time","timeEnd","timeline","timelineEnd","timeStamp","trace","warn"],length=methods.length,noop=function(){},console=window.console=window.console||{};length--;){var method=methods[length];console[method]||(console[method]=noop)}}();
}else{document.documentElement.setAttribute("data-init", "lacking");}
</script>
<style id="style-normalize" type="text/css">/*! normalize.css v3.0.3 | MIT License | github.com/necolas/normalize.css */html{font-family:sans-serif;-ms-text-size-adjust:100%;-webkit-text-size-adjust:100%}body{margin:0}article,aside,details,figcaption,figure,footer,header,hgroup,main,menu,nav,section,summary{display:block}audio,canvas,progress,video{display:inline-block;vertical-align:baseline}audio:not([controls]){display:none;height:0}[hidden],template{display:none}a{background-color:transparent}a:active,a:hover{outline:0}abbr[title]{border-bottom:1px dotted}b,strong{font-weight:700}dfn{font-style:italic}h1{font-size:2em;margin:.67em 0}mark{background:#ff0;color:#000}small{font-size:80%}sub,sup{font-size:75%;line-height:0;position:relative;vertical-align:baseline}sup{top:-.5em}sub{bottom:-.25em}img{border:0}svg:not(:root){overflow:hidden}figure{margin:1em 40px}hr{box-sizing:content-box;height:0}pre{overflow:auto}code,kbd,pre,samp{font-family:monospace,monospace;font-size:1em}button,input,optgroup,select,textarea{color:inherit;font:inherit;margin:0}button{overflow:visible}button,select{text-transform:none}button,html input[type=button],input[type=reset],input[type=submit]{-webkit-appearance:button;cursor:pointer}button[disabled],html input[disabled]{cursor:default}button::-moz-focus-inner,input::-moz-focus-inner{border:0;padding:0}input{line-height:normal}input[type=checkbox],input[type=radio]{box-sizing:border-box;padding:0}input[type=number]::-webkit-inner-spin-button,input[type=number]::-webkit-outer-spin-button{height:auto}input[type=search]{-webkit-appearance:textfield;box-sizing:content-box}input[type=search]::-webkit-search-cancel-button,input[type=search]::-webkit-search-decoration{-webkit-appearance:none}fieldset{border:1px solid silver;margin:0 2px;padding:.35em .625em .75em}legend{border:0;padding:0}textarea{overflow:auto}optgroup{font-weight:700}table{border-collapse:collapse;border-spacing:0}td,th{padding:0}</style>
<style id="style-init-screen" type="text/css">@-webkit-keyframes init-loading-spin{0%{-webkit-transform:rotate(0);transform:rotate(0)}100%{-webkit-transform:rotate(360deg);transform:rotate(360deg)}}@-o-keyframes init-loading-spin{0%{-o-transform:rotate(0);transform:rotate(0)}100%{-o-transform:rotate(360deg);transform:rotate(360deg)}}@keyframes init-loading-spin{0%{-webkit-transform:rotate(0);-o-transform:rotate(0);transform:rotate(0)}100%{-webkit-transform:rotate(360deg);-o-transform:rotate(360deg);transform:rotate(360deg)}}#init-screen{display:none;z-index:500000;position:fixed;top:0;left:0;height:100%;width:100%;font:28px/1 Helmet,Freesans,sans-serif;font-weight:700;color:#eee;background-color:#111;text-align:center}#init-screen>div{display:none;position:relative;margin:0 auto;max-width:1136px;top:25%}html[data-init=lacking] #init-screen,html[data-init=loading] #init-screen,html[data-init=no-js] #init-screen{display:block}html[data-init=lacking] #init-lacking,html[data-init=no-js] #init-no-js{display:block;padding:0 1em}html[data-init=no-js] #init-no-js{color:red}html[data-init=loading] #init-loading{display:block;border:24px solid transparent;border-radius:50%;border-top-color:#7f7f7f;border-bottom-color:#7f7f7f;width:100px;height:100px;-webkit-animation:init-loading-spin 2s linear infinite;-o-animation:init-loading-spin 2s linear infinite;animation:init-loading-spin 2s linear infinite}html[data-init=loading] #init-loading>div{text-indent:9999em;overflow:hidden;white-space:nowrap}html[data-init=loading] #passages,html[data-init=loading] #ui-bar{display:none}</style>
<style id="style-font" type="text/css">@font-face{font-family:tme-fa-icons;src:url(data:application/octet-stream;base64,d09GRgABAAAAADLAAA8AAAAAWHgAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAABHU1VCAAABWAAAADsAAABUIIslek9TLzIAAAGUAAAAQwAAAFY+IEkIY21hcAAAAdgAAAG8AAAF3rob9jFjdnQgAAADlAAAABMAAAAgBtX/BGZwZ20AAAOoAAAFkAAAC3CKkZBZZ2FzcAAACTgAAAAIAAAACAAAABBnbHlmAAAJQAAAI6gAADv+gJOpzGhlYWQAACzoAAAAMwAAADYY1IZaaGhlYQAALRwAAAAgAAAAJAfCBClobXR4AAAtPAAAAJEAAAFMBfb/0WxvY2EAAC3QAAAAqAAAAKhjiHI5bWF4cAAALngAAAAgAAAAIAFjDA9uYW1lAAAumAAAAY0AAAL94+zEpHBvc3QAADAoAAACHAAAA11cG/YjcHJlcAAAMkQAAAB6AAAAhuVBK7x4nGNgZGBg4GIwYLBjYHJx8wlh4MtJLMljkGJgYYAAkDwymzEnMz2RgQPGA8qxgGkOIGaDiAIAJjsFSAB4nGNgZNZgnMDAysDAVMW0h4GBoQdCMz5gMGRkAooysDIzYAUBaa4pDA4vGF4EMgf9z2KIYg5imAYUZgTJAQDSIQumAHic7dTVbltRAETR7dpNCikzQ8rMzMxt/M39mHnsU1/TfZz5jFpaV7pXJunMDLAZmOqaZjD5y4Tx+uPTyeL5lG2L5zN+L94zG8+ztr7ulXH1fra4bvK9M79xiWW2sNXPbWeFHexkF7vZw172sZ8DHOQQhznCUY5xnBOc5BSnOcNZVjnHeS5wkUtc5gpX/f3r3OAmt7jNHe5yj/s84CGPeMwTnvKM57zgJa94zRve8o73fOAjn/jMF77yje/84Ce/WGPun1zi/2tlXKbp3Xyc44bFyZanSWokJDXOOjXSk/LUSXn+pEwCKTNBaqQqZU5IjX+XMjukTBEp80TKZJEyY6RMGylzR8oEkjKLpEwlKfNJyqSSMrOkTC8pc0zKRJMy26RMOSnzTsrkk7IDpGwDKXtByoaQsiukbA0p+0PKJpGyU6RsFyl7RmosQcrukbKFpOwjKZtJyo6Ssq2k7C0pG0zKLpOy1aTsNymbTsrOk7L9pNwBUi4CKbeBlCtByr0g5XKQckNIuSak3BVSLgwpt4aUq0PK/SHlEpFyk0i5TqTcKVIuFim3i5QrRso9I+WykXLjXOYNzP8BuAPUwHicY2BAAxIQyBz0PwuEARJsA90AeJytVml300YUHXlJnIQsJQstamHExGmwRiZswYAJQbJjIF2crZWgixQ76b7xid/gX/Nk2nPoN35a7xsvJJC053Cak6N3583VzNtlElqS2AvrkZSbL8XU1iaN7DwJ6YZNy1F8KDt7IWWKyd8FURCtltq3HYdERCJQta6wRBD7HlmaZHzoUUbLtqRXTcotPekuW+NBvVXffho6yrE7oaRmM3RoPbIlVRhVokimPVLSpmWo+itJK7y/wsxXzVDCiE4iabwZxtBI3htntMpoNbbjKIpsstwoUiSa4UEUeZTVEufkigkMygfNkPLKpxHlw/yIrNijnFawS7bT/L4vead3OT+xX29RtuRAH8iO7ODsdCVfhFtbYdy0k+0oVBF213dCbNnsVP9mj/KaRgO3KzK90IxgqXyFECs/ocz+IVktnE/5kkejWrKRE0HrZU7sSz6B1uOIKXHNGFnQ3dEJEdT9kjMM9pg+Hvzx3imWCxMCeBzLekclnAgTKWFzNEnaMHJgJWWLKqn1rpg45XVaxFvCfu3a0ZfOaONQd2I8Ww8dWzlRyfFoUqeZTJ3aSc2jKQ2ilHQmeMyvAyg/oklebWM1iZVH0zhmxoREIgIt3EtTQSw7saQpBM2jGb25G6a5di1apMkD9dyj9/TmVri501PaDvSzRn9Wp2I62AvT6WnkL/Fp2uUiRen66Rl+TOJB1gIykS02w5SDB2/9DtLL15YchdcG2O7t8yuofdZE8KQB+xvQHk/VKQlMhZhViFZAYq1rWZbJ1awWqcjUd0OaVr6s0wSKchwXx76Mcf1fMzOWmBK+34nTsyMuPXPtSwjTHHybdT2a16nFcgFxZnlOp1mW7+s0x/IDneZZntfpCEtbp6MsP9RpgeVHOh1jeUELmnTfwZCLMOQCDpAwhKUDQ1hegiEsFQxhuQhDWBZhCMslGMLyYxjCchmGsLysZdXUU0nj2plYBmxCYGKOHrnMReVqKrlUQrtoVGpDnhJulVQUz6p/ZaBePPKGObAWSJfIml8xzpWPRuX41hUtbxo7V8Cx6m8fjvY58VLWi4U/Bf/V1lQlvWLNw5Or8BuGnmwnqjapeHRNl89VPbr+X1RUWAv0G0iFWCjKsmxwZyKEjzqdhmqglUPMbMw8tOt1y5qfw/03MUIWUP34NxQaC9yDTllJWe3grNXX27LcO4NyOBMsSTE38/pW+CIjs9J+kVnKno98HnAFjEpl2GoDrRW82ScxD5neJM8EcVtRNkja2M4EiQ0c84B5850EJmHqqg3kTuGGDfgFYW7BeSdconqjLIfuRezzKKT8W6fiRPaoaIzAs9kbYa/vQspvcQwkNPmlfgxUFaGpGDUV0DRSbqgGX8bZum1Cxg70Iyp2w7Ks4sPHFveVkm0ZhHykiNWjo5/WXqJOqtx+ZhSX752+BcEgNTF/e990cZDKu1rJMkdtA1O3GpVT15pD41WH6uZR9b3j7BM5a5puuiceel/TqtvBxVwssPZtDtJSJhfU9WGFDaLLxaVQ6mU0Se+4BxgWGNDvUIqN/6v62HyeK1WF0XEk307Ut9HnYAz8D9h/R/UD0Pdj6HINLs/3mhOfbvThbJmuohfrp+g3MGutuVm6BtzQdAPiIUetjrjKDXynBnF6pLkc6SHgY90V4gHAJoDF4BPdtYzmUwCj+Yw5PsDnzGHQZA6DLeYw2GbOGsAOcxjsMofBHnMYfMGcdYAvmcMgZA6DiDkMnjAnAHjKHAZfMYfB18xh8A1z7gN8yxwGMXMYJMxhsK/p1jDMLV7QXaC2QVWgA1NPWNzD4lBTZcj+jheG/b1BzP7BIKb+qOn2kPoTLwz1Z4OY+otBTP1V050h9TdeGOrvBjH1D4OY+ky/GMtlBr+MfJcKB5RdbD7n74n3D9vFQLkAAQAB//8AD3icrXsLcFzlleZ//v+++nb37dfte/VotVrdrW5JltuKpO6WJVluPyXbsmOEbGRjO4KVjWPZlsM4QIU4IYGlgCE2yxqKIQkJg2GreKQCTCZb1CZkiswjzOwOmSTATNVWTZLdDUwSMrVDsomD23vOf69assFAqgbk+773P4//nPOdc/5mwNjFl8WjosbaWblmxiOmIlTGYXzb11M7Z2ohAMbZCcZ5iG9prZl4whfwGju05xtttitUdwXYEUgkbQtWga5lC+XBaqJI285qpb8dVEc8Gnm5L5QM/f58yAlB399a7dD0mWAmdAqaMvBmKPKX9TdDwSjod9yhx03FAPcvI6Gk2lV33XoXUtKgL8C6Wa0WSzXbVjhg6JoqIPShCK0FOvOuE48K1V4B1VUQAVevugmP7Fz2CmTzW5/8+ZGP/+Kp7h/8oI4MuOZ7M5B9IvujH2Wf+PnCAjzn8ZK6AieMKRcvXnxWWSWCzGARlPcqtqs21WZzEBFgYIVDAYWzVJIrXBlH+hXGlWNM00GAJmYZ8sKBzTJFVZVppijqDFMVdTIWLa0o5JrdaHusPZGIG1IjFhQGK2mAZEe56kJnR1bTY7ZT7eivFGODBTdma3pHtlCNDVbwmgMHx/aO4R8ffeet5/ZCG6TfuV03IaSJU3oIzKsGO9+5PV+BwU5xqnOQx1aO8fW71yvD9fPn55/fA22PmsaFvfSgwZ8wzPiFvZ2DUMnzJ2hHVDMmHucPsSRrq7UQo4DMAV/AW7CANw/Zru3NIx20bBEpXwukArlxxOPReibaG63/SyQyiftzcBy3k1HuOHgjEgFHnkYfh4VodDJC4138Ff8hv5PlWbrWmm2O6grNEgGNCWGnbFtRm1Z04gzQPPWvkqMWF4eWU8DB267Df+gNe84bBvfRpfNI5Ny5yAmHDh5/PPLuByMlekDS9DsRR73nWHetwBShSO5PqCBQONO4E2wGlSvYZG6gMzeQ09SWFZC0tWION3oOVVXGTbGM+hrAzQj0O25yoN8R8YzzRsaZdzLwhpsGPEm783hAJ9+kq286eDX5pn/VydDjvk7i8EuchU21JJ3DNOqFzeABmywPcNXxhu/wB+3whrqwVw7Cn1j8vPfdDH6O7PR3fDV/Cb85wua/waSit309grZJHHOhHEQ9CA7zTGVCUb0ZvXzc1lrRe5Af+4An0aSL9op0IU9y6vRFtAYGKy7KJGFbQrdg2dXqGAwWilld0zUy9xLqd6A/zeFuy7gzYFmBOwOhZ6NNhZakm8YTI7S1pyM1mM032V26qevXGlzZ8+TKvROlB/BBkO9ACDalB7OZuBnuC5tRcAItpalENNOfhajVH1A2a1HjbHZ4N4r54oWLz4qPoe4jrMo2sonapm5QRQBQ3XycKVxwRRxjQuVCnWc6mrzOZ5FvBiraOmia5FubYRpok8n0ioRTKOQMNbWiszxYWAFZrQ1sB+dDJTFYghzyiBN3oB857ndIAha4Se/+YGUtjAkXXUO2xPE2eoe3TWPeMOXmzNi+j9w1HghvVbSAmu4c6nFac6MgbzXFU2baDr1241+98TfHtU/9t7df+MzU4msmfPYj06Wbw8Gqohda0/FkSyiyvtPGG/FsMKq1pLqmPvndkye/+y+08eYIHEJZpFmJra2Nop/VWuKcCwPvgRhnGlOFps6iIdAEmFVAKh53jblZyBU6nAFdbfX03tGwioZ9oGnEyDSWTQCyFzhoR+s/jdjgWLmc3L2K21zEmXCsM5aDm4g9Ny5v0PZVb+dY9Rcd/sl5eTiPj0nTaeiU+BhhW2qbuzJcUy2Nc2gCrjBkxWCqZiArGgOuwSzjAlDb5L91XfpvfYbpij6ZRIUWYoVcLqC2+UqNLddsMrekY3GZztVl2uQjpl4xjedIM+Uybc/r5viShuHgcgXuwQtpuoMHz8utCe/s8S+Y/7xMaYu2DX1yDrez3lp3cyyKdop+HLcLi878Uh9SKOSlj73cOIUFRVKVKHhaSS9JP452RCcYoJ3w85bz8Ckp9VN4xeZj9atpH4FnPCV4OtiDNIVYCrWwsbauK81VxUlaQnA+riFBisoUsiU0LbQpASCmmRAwg1MNJoH19uQ6WpriUV1jIQjphA5QjosiTfiy1tF+kPJKMTFYpAu6lkx40odnTv7VjYtC/QtTJyGH9HmMnKamGrcaqmaagRsMUwR9WeLmwsQREvIRevSvYa8uVFXo9Sc0w5A8/Rp5+jcxhXLuYAOIx/pbY+ggFp0FV8lNoLNAEQvyDkwBZR9T1ZC6xR0qFgsybix3DJcR7iIGwCsCHHQM0nYKVSBXQZPnqG7KDZiqrn8K524gpN9ghAx42k4GsvF3nohnA0kbnglkC9mrl7h4Db2TommKcVE1QOPRd97K5WJxsKO5nIjHbHtx/og3kK8iWys1he/EkKlqCbFOB6iKQp5Q5Yp6DB0AsjmPvHEFSGsoFraPaVpI2zLc2lmudErjJ/eeQwbKPoRBZulcwhwXYc6i1SdiEpiCF+KrFOIrAzKaHdhQ79tw4MAGuJv4rt8sQQu80jloGnnDfNVJBa+vn1WjSg1d8NHrg44FbTgdJ5+T77yy/gDI5wY7633yTbI7+CdyMDyEL2paDd0BvZjyfIYXH2/H+aqjDfXUisgnk3rFYMePoyZBegWanQpM5hKdlUSU1JnoQH2iG1d90IYADi0JPV2/oxMEeB7apm+aBngFw/ObMjzHzv7dgzyOh48fHZnmO9c8Wv+2RAGwHiP20UNnzx46mvYxyaMixDpZX22lQqQgRDqG4kYcMo92cpypAOo0Ti+iSYXJRGc5l8wvQhPfqpE0SYa7nDwkeQyh26OOlbecqVumoCwJ8+mDm+9/5T4eOyOt+4wk8WjavYTIG+7nD5Li2cWv8zGkMYoz51q2u3Y1JQSwfcumSn9JUxW0CZIWQ5isqKCo8zoGFPybx/lyHD2w4AaCBw7Ap1HIxAaHyZlr1tXG1owMt7h5Ox5QmxF4Iv6vDhaQoTFAYADuYIlnLa7b7RwtiOBDtVK1dbyCMXXxn5azOIIKfLFKaQP9K3HKIMYEQosvhkIWH23TQ9wIpCq9M4WxycnJsQIUYrEJ/bPGuOZohfHVzdmMaAmHm418c7DU3xdoyYPebFktPJtpHu7fefjw4R0VHiNTa06ZUTPe09a1sdTUVNrYtbo3nth11VW7tBa1d/U1a1t71rdG2u1IJNkWDYdbUs0pnnFT+OloWzISsdsjqVpvy9prqrNjed41POfPx2+J7TIXaWP5Wgf5bvToBEvpppQYOXPOJoda4gTQE6TsNK8sAvUSSHBFygfnfM9wL+8aK/Bddv0tZ8SufyKZ7ml7s20iCWdsPpPu4YVaXuur/2M6WX8riReTE21vtPUAnn4iyTxdf0vJ+/QM0pwsUL4D5BmUBQEeXpaU4W6RtExzN1In7eT9qHPpIoUdqAzSrdyHIPo1JNRps1uioCWJyIm2U/JG8oO4aZMXozF8b4RupRd5JJv7Nn8ZeUyxjlrakhJHcwO2gHMUDgGLR0MmS0GrIoMRWos0K81LUnPZYgmkw6sM8HtCoQTaT9y0Wu3f/MZuCYfijhMPhUVQNdL2hY8kMroS/8UvEqqeSfC/xzPV07k3vsqyrL+2ykYnhJjEz45OLIdbu4ncrbrWhImzltU7oqqaXAEdMWiHxPsSdvuF70K6/xf6FejjL13YBvFVP+UXrkwnyelZjBcltoLypQIoEmsoiDUw4C2QFS/I/J6yx5ybWOOqaMad0kJlKo+ElAdLqvRTMqOsgucuM64j3hgHU1H1mIkQ084Oje3eXT1lZwL1nwaD0BZMNfFTcHpv+sf7v6LEo4oZMlRbFNqH9tb60nEN0UkQ0mYawZNpR878eFuD1lWsl/Jb9J5iMbPlDKnkh3raBmS66U1M9Jm5rKUmMel1dKLOcxrVSgf5dJqU4o0g0pJyTlV37x4bytpCATOG8VUT4+m9cPoURiakE34ZMes/wbB0Roun+2p7h9oLSlwzQqZq2eIr+xe2/Rhp5QF8hHn5Hh/FfM9ibs32UrNG+l22ZbrnJ8N+fERAcD6YCp6nuPc2Aq/vWXiMfzKaye/BDfzTLPwe33MT8ns4P/y0uiLBdyZw3qRvNvGZegjF6H+escXvreOnkD7zm7IkADTbJEkU4sdw1jmwzpTj42smHLB82ijenjfx9YsXkccR+B5+I1azGtQk+4maTpnLlsBL75E7O1IPea+mzfPmUwQt00FJoG+nPxN/zruZzZprTljyx2GpXiHdYWBZtcINeB+2xVP16/GT9euDwf00TbqgK5gK7QvCmfp/wPn15WDa3BcM1l/Hy8F9wZQ31nf4Q2IjjrXyG+BnzXnMmqXiTuB5CLa01gINjvb8mesSTwHuSAEtzm8anp+uvwbdprkfhUs0wCNIxH6TP1l/vf6aPDThK0TXI5I+tjj+SX/8wIcaPxWX4y+CqsCiEIiAIzhsKrgfh+6qv+4L4RETPl6/zqMKukki9AA96OseZb3Zk7UKVKxZKt65tpR1J9p1sTGgP5Z4ah+KEzl73R/xEfr+I8H5fchlN/Jr0n0c3fSGkrz+vbhd5m2ZWltThDeKUaKh3WTZXWauS+WomBdMkjGvOCRuT9YfcIZxk0x24/5cT3q8redxe8TpTsLn03b9LIaFo/I0eQ7uxtjQm6rffI4elnTcJfbwX/qRFyG+Vw+SaJdyFIpugk0WXCcnaZFo1323viNAWHZPvk1+ugfjTf2sbcPR5LDT442bhwPj6Z5z9qi9wr8B85Ji51yXb3tISxlpSUtaZEYnFX8ZbHI6C8vk4ll2h5/YdRQbM0CUbSmXHsd5rH5zWz7fBnc/5iA1NLANwyQZ2+5JjiYfQ4mle+BxJA1prT9g+770dv4zTz9RnTPp+JlY4DJKoroOucmyT4fnsGIeFC3H9EtmB+qnGyP6413tPvs4BhIwipskDKakeIg+KKTgbl92JBkkHn1J3c8t+9ia2vBKhMFkGBJtEjrGDIzKE1SeAgTJiDAVRYpKmSGwMlksJor5gUWgjKlXYS0gurS4neaYflXJnaWBUjDKNAVhkWoF1WhHz7uJ2PapE8NHJkulySPD62/qVmLapMq10a997JqvnphQarc8dO3UQ2smYr38pfOWszK6fTs+eBKfHy4j8t2uWNrWnbDx5CNfe+TkxrHVE/EEW4ynxM9H2FhtpAeE2tnGFUH1J4xXChxD5hACLNXbLgOA3WU353rI37Y44SipbwdxwED/mEC0rOmuIzmlGkw7SBzNxZ6NN3519+zXRhV1Uosp3TdtGD68s4eXJo8uzHVtjyXc85gC9MYmRh+euuaRk+vhAG43Tm3RLGW7Clp52Oesq3N7dKVjnW9KxCdWjyFvi/nUs+Ja5CnPxtn+2t4NnVwLrELw76JqDMz1MacMGJoR0I5RVsA1lR/DLEdonLJLQWnOMcSamKlrszLnWWZ3mzcVOjsrnYWynTfVNmQ6aQFxrWtL9SQtgjqsojbxf5lp+qquSF1rVGyk02qZZEEKRkPdlv9ff3LVQ6MTFMas8xSft3fNVbd+vqg1KaF5w7RwBsirUye24UVXDS3oIcj/nz+56mF6qQlUAQ++gGoNytcxFG7P98DWMXMoHIL/6l/Z7p1riv8ko2oiyiru129WsSrmUjO1XdtWc0Pr7miOoWOV9YUQ07WQPmsCisWYDge5puAUAI3NIk6EQACmaQ+BGRaAwOSemV1TH90+vnlDrZBNFOi/nEUlLL96lYx5VZLqB5zDQLFQzGm6KuUX89L6YqxRuaPsCwXYTlJE1EVJt9ycWTo8bereoW7Wv38ewfOzmgI/N42Kn53LatjTxUCv85zbEyg+Y5hTcDddq99M2ysc8/51lABfjZ++8KvSxvUlnpCj7U+mIG3vR8yhXSbXEbaB3cDmatdds4lrhi9Z8hskNo2hkI+RQHWN6fMIUwKGFZiNhDmCNq6BoR1gejCoTzNdD86woB6cPDh33YFr91w99dHJLePr1tp525NylKZkzJtthLplN+ADzhOxjpiN1trRPwb/vhKfqIcMg8Mr3DDqd38o4cM36y9KWa+Tsn7v4/ocj134Vcg2TZsf/ABFKH4tYwrtObZYYxoF3QiQC+PjATwUho5+W8MkQlOOqUDxnlMNjZpsfB8zjJCxZe2afKeTjXeuboqT2XcOlsACB6XROFhWch7AeNy/VsZfx4fO5Aj8EjTVRPjLdtrmTS1NX7Azce6kmjZnnHf+1iuBiG0duzsmQTiZPzfjEoTGAqZ7xqt/nmmai8gXOWb0/sG9z8vyyPNOZjKDf9DlRgmQR93keVlHOU/9RTkfH8W8ieTQzWpsc21DGRM0Xw4soAUWDEDPtMB0oS9I5qeXC0PhMySPyTWjuYFctn9JEgWLp6FSXdz71TeSgzuQBmnXVHPXGqWhIhXkF+H2lQXxVqiSO5OthN9CQQSazmBOhdycwSgoZRJvQ28Yz8SVltDiwd3PUxMLN9De1dWehinH5783RvA9xhpyoHgnWAfGvE3sqtqOFT25rGIoMB4GBa0NAaepg2KYyiwVijQqFKGtopEeUFFYgQCboj0jZ8cCk7U1Q2W3MBBLjMRi0SCKxO0od6gD6Muon6Q35JGLDZS9DEpfLNZTA4aqrmrD0rwHCAO8Cs/Ur4a3J0Lql9WU4RfBJiYySfg+cviqaczLvipt59LuhbjXflPdSuRLUUd/9VV422jRv6SF/NbehYrcQ1p2AZ6jd80L5+kSRwE3WV+OVGTs9GvnU6yLDbJsrZ2aE+iijskqPtuHgTAktgz0r+xtaUaslZRRH6FKlRJrBwO9bK+lef8YXipg7j8GSJjM+GRPmSApRv6n//T4VrH3qqbRaNxoqoxSNMfwD6MV18yPulftrX+xZ7gXeka7vMCPgf2aQ8+N4bPuaKz7lg2LIGjjTT3x4T4jvubPYKL+cFtPTxscwm0DA+yVNaMjbFNt/cE9k+sUpoxgas8Gu1qjhG7GqUu+oAFel8B2gTDcgt+54If2XXv1VVsmVvRkM4m4TnnrYCGLtt5foc4F2rWO/NrIbxENvBHUy0WJBYqEg8hbyklAxoATvupfHMCZ3wAHaASEAFz/Y7pUPh+ZumWK7z65G1KGftgMJro0NbIzrOvbm1sCuhL9tBGKtrof1aLaZkdRjS4zYhzSDTDVw4bldnrPGtubWgKGiH0adR1JuR9VI/qErSgB72HMk0emp2+anr6F7kfTydZ+zdKSO0EdDRuTqaip3xAIjapaLa1aWqg/kmqNQEiXzza3ZFbqId3euezR4Iiqbkj5j7ZEIeTX7X4n9vLvLmKL2mAXILVUp0WPoyLCVJVGQ+/yNlGhjP8PNLq4y9vNy9rPrn+eW36OaPmdX0nTF7EIpu9XPlvW1XMgOiHbSHIL1ji1nsbpBdbAyXtlTRwjSHuCqyJvkjfAVEiMe317oeLEURlNKa/CI7tfVLxLp5qb4tFwUFVYJ3R6/STHqy1Xi1R9RLvvd6lSPIba14rZoo6zwa3w/7L18OGzRwC+N7B52+HD2zYPfA8OP3iIH9kyjkd4Fdwj9x85skUPzfXhQd9cSN96mB+97yjgoYUXvZ7kxYu/UW7mL7Eo+rwKK9byTKWsSWWz6N8VBaZxB5ShgDJZHerscm0J6L1at2fNGPH4CqQNZ+gAGTeaPZVNBB52IJ7nt/uI3N/B0707Do+8vmEH37rpdTLX8eEDd47Xr564Y3aIj+67azM8Q4dwYHjpHbJoOu1/8OkH++lk4s59Y2Lo+tsevG1ukA/N3uHb9f9TbkFebNRET61I/GEuOEtdCkxKcdfISpPptmSn01kdVNF4Y4NjHF1rWnh0cxWZKImsJdKcKPPIkZR5RIoYkcJ7dh665dDOHqV/4jgc2ILXkYz77zgwypGsH1zKst/L+ir6nJVsPdtR2zaC4aQTZC9CR4p0jigDQ6gmexJcUeeXdbS0xY7WslzDdpPF8uryAPX0L+tqoVNFD5QrFi7rbKGXwYnkJGCpwra4XMZe1th6JZcOCL0VgV445HepqL+l5jVdKMHP1VeH89a/WtYaK2/9Z/g4noyFYduzjf6WpSS0FIKDRovrC4aaQ9ZArQ9b1r/K58P0Yhi/4Msl4WPhFbUuzCTBb1OitsjmCVsAn+Qs3eokTJ1FeEQlI1nGXNlfnbS8tcc/sYz4wU8vsbd+lr/UII5u7mncOYBJ+WKc+5jsETe/L03AXCfmN4IlTVnCOYiVSxyWr5h45up7d/Lpu568c7ey4zRcu6yjzk9P3Xvu3im5qb9yaf98ab2AwZIsy0Zrq6nXxkG22zi121ScGiC71IoiZwcZqlAmzUCmvaU5GgkkzaQfoNCjlKimWnxvGhtR5b4r0roYFX59BZLFsvVB5NMRIVAGQ65bJoBsRuaFbLJM/0n3nZCLlZaWYKj+efWy88WezKv+yiG5dKnN23mX2uUJbi5bY+Rc4XgxBrHXGnlYb637gwLPEuXVBmD1ViiIyzgRfl5f9NddvfoB9NDxw0clWD9KV0FbdhMMjzfc+H7uJXEG8fo6Ns4O1q5fU+KCCq16PhXG3JuJcczFw6GwEaLSBXkQwNwF4DgLs1AgHDqA2FToAXEgCDpj+jTudDaDgUmnGsaG9bWx1UOVctJGzBlDf2HJWgZyh1HHkeV53RK5WC6Gc8fr45AzKSByxwlWHShTsxydSgfVLhALUZsXOiS8w0TlVOdJ006bC4ZayA43j7cN9WCqeCgYDTvGJzKnKG0Jn7ou6KSC18Frs8FUk2Jch1frv65/kWLdMMbf2fWfDKac4HFdaYpb8HY9ZDXZhnEylEgHP7t2L6YMcO46M22b111HA113zoFBDJQUpy/WLx6B36K+MxQdmlHBKerm0BIJKqUu68GgoLY0VSpexdChJiDC1WpC9qwK1cQYpS7U0BW0JAzeMrX6P+hRI2Dy4z/hqqmb4gS3jG8GLT77P1Ue5E4wfOFTFoioAS8NYVYZhv9umJapaPV6hct6wHdkHiowcqVYnvUivt5Qa+3vK/X2dBXy2Uy6pclBE4pR4XkwxWHTtq93vH+tv0l2U6pFvbNRePWrv51uBFbBWmgHbw/upXv+0LnRc1AxL/RjLrVgmvx/yP0Fq1KJxarV2A+PHct2HDvWwbvxJIYX60/THfzHrcdGH7shQm/iC2l6E/fXRumtaPU/ybeyx+p34UkVL0LJv9PAUHOomzL1w8q9uZaYoV3SIOoujHBKKii60eKMxhJHXUMgTQW0InVqqErq22AbYN6BHOMkFCMtlpWLDDc/0NM23tYLZ1uGMX5ZrWfPtkQj+chQ61lZiH+gZSiai0Sbz4JhDbeswXd2PSVr8E/twqtr8KXdu690Q2KpI6jHMMuhBjdRdbG9iQslEae6YVhDV7gBdOiHgK4iKtSERkv4yOpAP8ZMpimmNqtSRuUFG50FDD2AeaYRNrasGS0P2LTwuGDncpRJNtZ5Fpev85SVhMY6T3ewBJrtjAFIs8XZi95eSXOXLJkW75wKaXmE7afkst1TsjBDJxP3v3I//kG6Z9R+ce7WnfcfrvHRo6fPnT46CpteTMJZ7yXKMb2XTlHieMpspgUYLz+k3UsJV/LFTWNH7vvT08eHlfWHHtx+69yLSbZMRhHWhDn2SG0oYCC3qE/B0qAKuZqPg+b5XkErlwWmYkKlMkNY2eLmUAqF3OJinmKjrPIhuK1/W/IJ6z8kh5K1D2aK+/UTWqOzkz1fC4xVOgKKKqgjZqKV9nhTGGOgUGnZjiK4Mq8jJFKOMwJ0UxSLdlO/Ymvrtq8H3/UG+nBNcG0e7Vh79xt/yOf37KklDMPYaeyc3LZ1y8hwT671KoP8BApooL9agOqYUm2FATeRptTcdeQGxexmC3pWyw2u5ZSr4l9xsLCKW+DaaeqxVskXZql+XdTggY9NDrcHk331MoTzqZSj3fGlCe3GxJQT6IsGjeBkQOGQO53v+VKSb9E1EVMQ5vKs2/R7axiimWAmiVCh4/MZ1eYrecvvMWx9oa71KppmNkVhBs6G6m+veHkw8amOFi0QFY4pTI7RrikRxSd1jgBaCeytDEHmYSsUN/HTEEyqQVQ6ppY4937ER/nPmMXaWK6W8TvQy1cj+s28wcIlS70LHqQsSoS5rB18abP70ubwv0VMqrRhJALnb2SJXZ76vg7pAPc9++oF2+s8XzLyZUMt/3ajhy35encPGy4n+lIy4Xvvou1JERMJFmTa8zqHldSwlaBa9k6VC63heDzM/3cYttfndDMiKlbIwCN7eV2F8FS61toUNZhCzHltUoKChwg/yah6WVnr8jIXJer+ultoizj14CWn/GfvvEU5uIjTdtnx8nw86K1TlzWF5QsXBhYXGlw+3rLk/5IB/G8+gzZuYUagPa8ByoUaWfiRIuA35I4CrJOMVariLtOCaKD+Ryq3gvWTwSDci1AAfVtQi7zzsmWE4F5Vq/+RPKDe8714vX5SVSVGuXjxa2K/iCyN42qyOkbLkXwt6FIjmt5sRsHC11VB2yANZQl1HL+GWjFC9Em4Vx7Q2oKTeB2+oKkeL3xEkBU015zWlri4VEBrpICIlwZ7Eso2mgSVKs8GLeJN5YsLnmn7Lh7/45KS6ncSg5I/Por8NcaWi7UW27Te2JeyTGPqPg3VS9j2CzJyeznjn1qaGXCrpsq8ro655n7+1zi3WwkBRkGuRl5e3eMyi6L0TvDJcnYwTnM14fWG5Xyh5nXVLya56BmNJRUi25oYoiGRJBGXdaO+Rb1Y9R861mlZYzodsf21K8/wZ1mC8I75Hr9viTsF+fsW5BzxTSO1IFQNz6DJvnC/lPv9L6Ab4KcvfJU6gC94y9NfMP31s7i5XY5RIn6LJqKRxjAKDuOVppiQA65ycUhaEvVeQya8dVuF6uCYKClVFADVGd5FyGt9RTWAAgg50ahiNFm2YkcCarHv3QTW/6Jna0TY0VA0FEpnMkbciKJ0RGSrrMN/XzzKfy7p3saOsq21cUl7FVQ2Dboqxg8D38S4hnxooL2bGRU1qurqAtP1Q1M7xzd3Sd4MKlx9aN7cxtWq/1OQAi25ohrK0s0ilVHwbgmKVNGWD1T/IMmcmd2u68h5MhPsLpW6Mf7ZEUPfceC+0zfhdXy9uTm5cQffujnZrMQFzmZdv+n0HyDOnl33Z4RjOcFoIL338N50IIpBxBEd9+2+7fV+vGGHQ5Y18NCTDw1EwkITYRu/JwZe9fPMI+IfxFUsyjbSqvKhAcwt168pdedsTBbTzZxTnRzRxQyV/if8uggP8y2VcpqWw7iyTmgJOy3GuEu5oK35P5xC0L6GZFag308hopD9/6r3KyoE7rKG5Tqi3D9z8s6TM/3+7mEeeCxiPDanxdWDjxmRxwKIeebmVFVePajGtTl5VaWLcGDdLdMVpbTvxD0n9pWUyvQtew1RfioQFOU/1vU/Lotg4KmyMEz9nnuM2OINTVu8ETPuuUeXPuNZUcFYEmd9rFRbYSxfVUjLiN9dFerqyvd2yKWFBEEB548Fup3m1PWnBQHUERnjyKYur0O1v1pBfvl30u2Hnj4EwydOw/CBOyd23vd4+YefpuUbvHb84elmO9HXD1P3Tq1f48YM5VZ17msH5/d1fPtmWQndeOwTd1EnZNeXbtwsoBRbcbJ29T3T0GbGDO+3J95aen6KxViWDVCHL8i5wsPAxPLfE1FDb55RmQnmCYgrEoijOyX+6KeDoE66Tt5ONjkSgheKBA9LqL6qpqchU0E7QaSYtJ3+irSVimrrmpLJU3ej0gsK6vTRXbdlEXtnb9u17Z9B+Un9m9Hg5rmoE93YF4zCPwZ31H9b/6f6b3cEgzvAgAIYO4IwfMe64Q03nOX3fXzD8Lo7brzrLtiCz85tCkajwb6N0b9LJD738MOfSxTs2x7mj3yGsEgjzzBYB9Xw2hGCYAZOzYWG2uR6nFlvxlJeEZfO732ziNsX84be4ffMGz7/gRmQb1dyTX8Q/dtArU8Hb8Wybmgod53NBlQOilxbg9mPCIstK3sTAzE7O5BMJuTKkvJgwfulBskXM0CBMymXLQrpkSoDMVmJ6aA2QjGG4SJkRk38g5sd61dtYGoQ4St+jHY+U23r4aVWOEjtseoMnDgvfwCEm2+hp6r/X91AK4zYkU3HMVEaxnR3qBfqPzn+/wHPnsOreJxjYGRgYABi1vIsoXh+m68M3MwvgCIMt5YoxkDp2P9f/2exVDAHAbkcDEwgUQAz1Qu/AHicY2BkYGAO+p/FwMBS9v/r/68sFQxAERQQDACh8QbyeJxdT0sVwzAMy49AkAxAkbT3UQiAITGAISmAYQiA9th4ttUs7Q568UeSlVidiwSkB3PUPg+ESd6ZD/+8v7HyrtzwghY89ZB6BcyrYqc6RZhw48YhaA1Wc/v1PQtdeXJ/HppUmFM597nvBVK7D+Z+E8/uQZLBgDyaz3Llvxx02S3c/Hv813JrznryZP4F+6lSfQAAAAAAAAAAUAC2ATABaAGyAfoCJAKwAzYDmgQSBFwExgUyBbQF/AZOBvwHRAe2B/YISgigCPIJGglCCWQJignACgAKQAp2CroLAAtGC4oL8gxcDPINng5iDuYPag/6EF4RIBGGEeQSShKYEyQTbhOyFAoUYhS+FVoVphYoFooXHBeGGFoYnhjGGOwZChlOGXgZrBneGhwaWhqgGtIbLhvyHHQc2B1QHZ4d/wABAAAAUwBtAAYAAAAAAAIAIAAwAHMAAAB2C3AAAAAAeJx1kN9q2zAUh39q0441YxcbjN3tXJWWEcc1lEGvWkLbXZeSu8JUV/6T2VKQlY48w95ifYa9zt6jd/vFESUUYiP5O5/O8ZEE4AP+QWH9nHKsWeEdozXv4A0uIu/Sf488IN9G3sMQPyLv0/+MfICv+BV5iI/4wz+owVtGM/yNrPBZfYm8g/fqW+Rd+svIA/Jd5D18UovI+/S/Ix9gqp4iD3GoniduvvR1WQU5mhxLlmap3C/FUdVWN6IXoXK+k3MpnA2maVySuza0ZlToUZ07292YctFov6k2eWp8VzsrJ0m6qa+NNV4H87Dq1j2WWQiFFN61chX7yNy7mclDUoUwPxuPN/tjAoc5lvCoUaJCgOCI9pjfDGk/BPfMEGaus2pYaDQ0GgtWVP1Kx/ico2BkaQ0zGnKCnHNL09KNuK451721rLqhLfmfht5vzdrmp7Sr3nUfC07YL92afU1r+wrd7/Dh5WwdHrmLjDawanUK3+9acPXqPML7Wq3NaHL6pL+1QHuGMd8t5/8PvPGO3QAAAHicbZLnlpswEIV9DRiwvZtseu89Ib333vvmBWRZYMVC0pHEEufpg8BO/kTncOfTaLgMOtPr97o17P1/baKPACEiDBAjQYohRhhjDevYhu3YwA7sxC7sxh7sxT7sxwEcxCEcxhEcxTEcxwmcxCmcxhmcxTmcxwVcxCVkuIwruIpruI4buIlbuI07uIt7uI8HeIhHeIwneIpneI4XeIlXeI03eIt3eI8P+IhP+Iwv+Ipv+I5N/OiF1hEz9JKxUrtFrDl1lWF9NR9QIikToRaVjUouKxvOmNBjLxnlhgo2DbnM1djLKrNGnGPScSUzItzGv93yPP2bSQSX84z9cqFQdJ56yZRmMhW8mLlJJSaBI0XYPDaZKDUviZmvr6DrNjJMi0WcK1MTM02mqpbZlJtEsNx5SI238jSodJtoS7qv+BpPw67IY9xU+dg5TXjROTWwdGrIOzWhT+uA0jolxqjaZrSOnCF2Nmq16651EYpMm1fakAul9SJQeR5QVYQlk1VkZ8SwoVNFIVjWnKQrlBGdMToftdoZjrs77DajqXKrS02YEFxbbtdWkG0x44JJVUS5aBqKSlJwmhDrmOF2Hv9Wqsy4TNqoKhfmSrrQKuNSL5nvPG6p0s0AkEWkSWVZMy1Kx3ljk03qLuZ14lTmB8gNGmByGrGfjLrhlhJV2f7SaIneNF1ypQNbybBUSgZswQaWEUNngeay1/sD4l/60HicY/DewXAiKGIjI2Nf5AbGnRwMHAzJBRsZWJ02MTAyaIEYm7mYGDkgLD4GMIvNaRfTAaA0J5DN7rSLwQHCZmZw2ajC2BEYscGhI2Ijc4rLRjUQbxdHAwMji0NHckgESEkkEGzmYWLk0drB+L91A0vvRiYGFwAMdiP0AAA=) format('woff')}</style>
<style id="style-core" type="text/css">html{font:16px/1 Helmet,Freesans,sans-serif}#store-area,tw-storydata{display:none!important;z-index:0}.no-transition{-webkit-transition:none!important;-o-transition:none!important;transition:none!important}:-webkit-full-screen{height:100%;width:100%}:-ms-fullscreen{height:100%;width:100%}:fullscreen{height:100%;width:100%}body::-ms-backdrop{background:0 0}:focus{outline:thin dotted}:disabled{cursor:not-allowed!important}body{color:#eee;background-color:#111;overflow:auto}a{cursor:pointer;color:#68d;text-decoration:none;-webkit-transition-duration:.2s;-o-transition-duration:.2s;transition-duration:.2s}a:hover{color:#8af;text-decoration:underline}a.link-broken{color:#c22}a.link-broken:hover{color:#e44}a[disabled],span.link-disabled{color:#aaa;cursor:not-allowed!important;text-decoration:none}area{cursor:pointer}button{cursor:pointer;color:#eee;background-color:#35a;border:1px solid #57c;line-height:normal;padding:.4em;-webkit-transition-duration:.2s;-o-transition-duration:.2s;transition-duration:.2s;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}button:hover{background-color:#57c;border-color:#79e}button:disabled{background-color:#444;border:1px solid #666}input,select,textarea{color:#eee;background-color:transparent;border:1px solid #444;padding:.4em}select{padding:.34em .4em}input[type=text]{min-width:18em}textarea{min-width:30em;resize:vertical}input[type=checkbox],input[type=file],input[type=radio],select{cursor:pointer}input[type=range]{-webkit-appearance:none;min-height:1.2em}input[type=range]:focus{outline:0}input[type=range]::-webkit-slider-runnable-track{background:#222;border:1px solid #444;border-radius:0;cursor:pointer;height:10px;width:100%}input[type=range]::-webkit-slider-thumb{-webkit-appearance:none;background:#35a;border:1px solid #57c;border-radius:0;cursor:pointer;height:18px;margin-top:-5px;width:33px}input[type=range]:focus::-webkit-slider-runnable-track{background:#222}input[type=range]::-moz-range-track{background:#222;border:1px solid #444;border-radius:0;cursor:pointer;height:10px;width:100%}input[type=range]::-moz-range-thumb{background:#35a;border:1px solid #57c;border-radius:0;cursor:pointer;height:18px;width:33px}input[type=range]::-ms-track{background:0 0;border-color:transparent;color:transparent;cursor:pointer;height:10px;width:calc(100% - 1px)}input[type=range]::-ms-fill-lower{background:#222;border:1px solid #444;border-radius:0}input[type=range]::-ms-fill-upper{background:#222;border:1px solid #444;border-radius:0}input[type=range]::-ms-thumb{background:#35a;border:1px solid #57c;border-radius:0;cursor:pointer;height:16px;width:33px}input:not(:disabled):focus,input:not(:disabled):hover,select:not(:disabled):focus,select:not(:disabled):hover,textarea:not(:disabled):focus,textarea:not(:disabled):hover{background-color:#333;border-color:#eee}hr{display:block;height:1px;border:none;border-top:1px solid #eee;margin:1em 0;padding:0}audio,canvas,progress,video{max-width:100%;vertical-align:middle}.error-view{background-color:#511;border-left:.5em solid #c22;display:inline-block;margin:.1em;max-width:100%;padding:0 .25em;position:relative}.error-view>.error-toggle{background-color:transparent;border:none;line-height:inherit;left:0;padding:0;position:absolute;top:0;width:1.75em}.error-view>.error{display:inline-block;margin-left:.25em}.error-view>.error-toggle+.error{margin-left:1.5em}.error-view>.error-source[hidden]{display:none}.error-view>.error-source:not([hidden]){background-color:rgba(0,0,0,.2);display:block;margin:0 0 .25em;overflow-x:auto;padding:.25em}.highlight,.marked{color:#ff0;font-weight:700;font-style:italic}.nobr{white-space:nowrap}.error-view>.error-toggle:before,.error-view>.error:before,[data-icon-after]:after,[data-icon-before]:before,[data-icon]:before,a.link-external:after{font-family:tme-fa-icons;font-style:normal;font-weight:400;font-variant:normal;text-transform:none;line-height:1;speak:none}[data-icon]:before{content:attr(data-icon)}[data-icon-before]:before{content:attr(data-icon-before) "\00a0"}[data-icon-after]:after{content:"\00a0" attr(data-icon-after)}.error-view>.error-toggle:before{content:"\e81a"}.error-view>.error-toggle.enabled:before{content:"\e818"}.error-view>.error:before{content:"\e80d\00a0\00a0"}a.link-external:after{content:"\00a0\e80e"}</style>
<style id="style-core-display" type="text/css">#story{z-index:10;margin:2.5em}@media screen and (max-width:1136px){#story{margin-right:1.5em}}#passages{max-width:54em;margin:0 auto}</style>
<style id="style-core-passage" type="text/css">.passage{line-height:1.75;text-align:left;-webkit-transition:opacity .4s ease-in;-o-transition:opacity .4s ease-in;transition:opacity .4s ease-in}.passage-in{opacity:0}.passage ol,.passage ul{margin-left:.5em;padding-left:1.5em}.passage table{margin:1em 0;border-collapse:collapse;font-size:100%}.passage caption,.passage td,.passage th,.passage tr{padding:3px}</style>
<style id="style-core-macro" type="text/css">.macro-append-insert,.macro-linkappend-insert,.macro-linkprepend-insert,.macro-linkreplace-insert,.macro-prepend-insert,.macro-repeat-insert,.macro-replace-insert,.macro-timed-insert{-webkit-transition:opacity .4s ease-in;-o-transition:opacity .4s ease-in;transition:opacity .4s ease-in}.macro-append-in,.macro-linkappend-in,.macro-linkprepend-in,.macro-linkreplace-in,.macro-prepend-in,.macro-repeat-in,.macro-replace-in,.macro-timed-in{opacity:0}</style>
<style id="style-ui-dialog" type="text/css">html[data-dialog] body{overflow:hidden}#ui-overlay.open{visibility:visible;-webkit-transition:opacity .2s ease-in;-o-transition:opacity .2s ease-in;transition:opacity .2s ease-in}#ui-overlay:not(.open){-webkit-transition:visibility .2s step-end,opacity .2s ease-in;-o-transition:visibility .2s step-end,opacity .2s ease-in;transition:visibility .2s step-end,opacity .2s ease-in}#ui-overlay{visibility:hidden;opacity:0;z-index:100000;position:fixed;top:-50%;left:-50%;height:200%;width:200%}#ui-dialog.open{display:block;-webkit-transition:opacity .2s ease-in;-o-transition:opacity .2s ease-in;transition:opacity .2s ease-in}#ui-dialog{display:none;opacity:0;z-index:100100;position:fixed;top:50px;margin:0;padding:0}#ui-dialog>*{-webkit-box-sizing:border-box;box-sizing:border-box}#ui-dialog-titlebar{position:relative}#ui-dialog-close{display:block;position:absolute;right:0;top:0;white-space:nowrap}#ui-dialog-body{overflow:auto;min-width:280px;height:92%;height:calc(100% - 2.1em)}#ui-overlay{background-color:#000}#ui-overlay.open{opacity:.8}#ui-dialog{max-width:66em}#ui-dialog.open{opacity:1}#ui-dialog-titlebar{background-color:#444;min-height:24px}#ui-dialog-title{margin:0;padding:.2em 3.5em .2em .5em;font-size:1.5em;text-align:center;text-transform:uppercase}#ui-dialog-close{cursor:pointer;font-size:120%;margin:0;padding:0;width:3.6em;height:92%;background-color:transparent;border:1px solid transparent;-webkit-transition-duration:.2s;-o-transition-duration:.2s;transition-duration:.2s}#ui-dialog-close:hover{background-color:#b44;border-color:#d66}#ui-dialog-body{background-color:#111;border:1px solid #444;text-align:left;line-height:1.5;padding:1em}#ui-dialog-body>:first-child{margin-top:0}#ui-dialog-body hr{background-color:#444}#ui-dialog-body ul.buttons{margin:0;padding:0;list-style:none}#ui-dialog-body ul.buttons li{display:inline-block;margin:0;padding:.4em .4em 0 0}#ui-dialog-body ul.buttons>li+li>button{margin-left:1em}#ui-dialog-close{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}#ui-dialog-close{font-family:tme-fa-icons;font-style:normal;font-weight:400;font-variant:normal;text-transform:none;line-height:1;speak:none}</style>
<style id="style-ui" type="text/css">#ui-dialog-body.settings [id|=setting-body]>div:first-child{display:table;width:100%}#ui-dialog-body.settings [id|=setting-label]{display:table-cell;padding:.4em 2em .4em 0}#ui-dialog-body.settings [id|=setting-label]+div{display:table-cell;min-width:8em;text-align:right;vertical-align:middle;white-space:nowrap}#ui-dialog-body.list{padding:0}#ui-dialog-body.list ul{margin:0;padding:0;list-style:none;border:1px solid transparent}#ui-dialog-body.list li{margin:0}#ui-dialog-body.list li:not(:first-child){border-top:1px solid #444}#ui-dialog-body.list li a{display:block;padding:.25em .75em;border:1px solid transparent;color:#eee;text-decoration:none}#ui-dialog-body.list li a:hover{background-color:#333;border-color:#eee}#ui-dialog-body.saves{padding:0 0 1px}#ui-dialog-body.saves>:not(:first-child){border-top:1px solid #444}#ui-dialog-body.saves table{border-spacing:0;width:100%}#ui-dialog-body.saves tr:not(:first-child){border-top:1px solid #444}#ui-dialog-body.saves td{padding:.33em .33em}#ui-dialog-body.saves td:first-child{min-width:1.5em;text-align:center}#ui-dialog-body.saves td:nth-child(3){line-height:1.2}#ui-dialog-body.saves td:last-child{text-align:right}#ui-dialog-body.saves .empty{color:#999;speak:none;text-align:center;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}#ui-dialog-body.saves .datestamp{font-size:75%;margin-left:1em}#ui-dialog-body.saves ul.buttons li{padding:.4em}#ui-dialog-body.saves ul.buttons>li+li>button{margin-left:.2em}#ui-dialog-body.saves ul.buttons li:last-child{float:right}#ui-dialog-body.settings div[id|=header-body]{margin:1em 0}#ui-dialog-body.settings div[id|=header-body]:first-child{margin-top:0}#ui-dialog-body.settings div[id|=header-body]:not(:first-child){border-top:1px solid #444;padding-top:1em}#ui-dialog-body.settings div[id|=header-body]>*{margin:0}#ui-dialog-body.settings h2[id|=header-heading]{font-size:1.375em}#ui-dialog-body.settings p[id|=header-desc],#ui-dialog-body.settings p[id|=setting-desc]{font-size:87.5%;margin:0 0 0 .5em}#ui-dialog-body.settings div[id|=setting-body]+div[id|=setting-body]{margin:1em 0}#ui-dialog-body.settings [id|=setting-control]{white-space:nowrap}#ui-dialog-body.settings button[id|=setting-control]{color:#eee;background-color:transparent;border:1px solid #444;padding:.4em}#ui-dialog-body.settings button[id|=setting-control]:hover{background-color:#333;border-color:#eee}#ui-dialog-body.settings button[id|=setting-control].enabled{background-color:#282;border-color:#4a4}#ui-dialog-body.settings button[id|=setting-control].enabled:hover{background-color:#4a4;border-color:#6c6}#ui-dialog-body.settings input[type=range][id|=setting-control]{max-width:35vw}#ui-dialog-body.list a,#ui-dialog-body.settings span[id|=setting-input]{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}#ui-dialog-body.saves button[id=saves-clear]:before,#ui-dialog-body.saves button[id=saves-export]:before,#ui-dialog-body.saves button[id=saves-import]:before,#ui-dialog-body.settings button[id|=setting-control].enabled:after,#ui-dialog-body.settings button[id|=setting-control]:after{font-family:tme-fa-icons;font-style:normal;font-weight:400;font-variant:normal;text-transform:none;line-height:1;speak:none}#ui-dialog-body.saves button[id=saves-export]:before{content:"\e829\00a0"}#ui-dialog-body.saves button[id=saves-import]:before{content:"\e82a\00a0"}#ui-dialog-body.saves button[id=saves-clear]:before{content:"\e827\00a0"}#ui-dialog-body.settings button[id|=setting-control]:after{content:"\00a0\00a0\e830"}#ui-dialog-body.settings button[id|=setting-control].enabled:after{content:"\00a0\00a0\e831"}</style>
<style id="style-ui-bar" type="text/css">#story{margin-left:20em;-webkit-transition:margin-left .2s ease-in;-o-transition:margin-left .2s ease-in;transition:margin-left .2s ease-in}#ui-bar.stowed~#story{margin-left:4.5em}@media screen and (max-width:1136px){#story{margin-left:19em}#ui-bar.stowed~#story{margin-left:3.5em}}@media screen and (max-width:768px){#story{margin-left:3.5em}}#ui-bar{position:fixed;z-index:50;top:0;left:0;width:17.5em;height:100%;margin:0;padding:0;-webkit-transition:left .2s ease-in;-o-transition:left .2s ease-in;transition:left .2s ease-in}#ui-bar.stowed{left:-15.5em}#ui-bar-tray{position:absolute;top:.2em;left:0;right:0}#ui-bar-body{height:90%;height:calc(100% - 2.5em);margin:2.5em 0;padding:0 1.5em}#ui-bar.stowed #ui-bar-body,#ui-bar.stowed #ui-bar-history{visibility:hidden;-webkit-transition:visibility .2s step-end;-o-transition:visibility .2s step-end;transition:visibility .2s step-end}#ui-bar{background-color:#222;border-right:1px solid #444;text-align:center}#ui-bar a{text-decoration:none}#ui-bar hr{border-color:#444}#ui-bar-history [id|=history],#ui-bar-toggle{font-size:1.2em;line-height:inherit;color:#eee;background-color:transparent;border:1px solid #444}#ui-bar-toggle{display:block;position:absolute;top:0;right:0;border-right:none;padding:.3em .45em .25em}#ui-bar.stowed #ui-bar-toggle{padding:.3em .35em .25em .55em}#ui-bar-toggle:hover{background-color:#444;border-color:#eee}#ui-bar-history{margin:0 auto}#ui-bar-history [id|=history]{padding:.2em .45em .35em}#ui-bar-history #history-jumpto{padding:.2em .665em .35em}#ui-bar-history [id|=history]:not(:first-child){margin-left:1.2em}#ui-bar-history [id|=history]:hover{background-color:#444;border-color:#eee}#ui-bar-history [id|=history]:disabled{color:#444;background-color:transparent;border-color:#444}#ui-bar-body{line-height:1.5;overflow:auto}#ui-bar-body>:not(:first-child){margin-top:2em}#story-title{margin:0;font-size:162.5%}#story-author{margin-top:2em;font-weight:700}#menu ul{margin:1em 0 0;padding:0;list-style:none;border:1px solid #444}#menu ul:empty{display:none}#menu li{margin:0}#menu li:not(:first-child){border-top:1px solid #444}#menu li a{display:block;padding:.25em .75em;border:1px solid transparent;color:#eee;text-transform:uppercase}#menu li a:hover{background-color:#444;border-color:#eee}#menu a,#ui-bar-history [id|=history],#ui-bar-toggle{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}#menu-core li[id|=menu-item] a:before,#ui-bar-history [id|=history],#ui-bar-toggle:before{font-family:tme-fa-icons;font-style:normal;font-weight:400;font-variant:normal;text-transform:none;line-height:1;speak:none}#ui-bar-toggle:before{content:"\e81d"}#ui-bar.stowed #ui-bar-toggle:before{content:"\e81e"}#menu-item-saves a:before{content:"\e82b\00a0"}#menu-item-settings a:before{content:"\e82d\00a0"}#menu-item-restart a:before{content:"\e82c\00a0"}#menu-item-share a:before{content:"\e82f\00a0"}</style>
<style id="style-ui-debug" type="text/css">#debug-bar{background-color:#222;border-left:1px solid #444;border-top:1px solid #444;bottom:0;margin:0;max-height:75%;padding:.5em;position:fixed;right:0;z-index:99900}#debug-bar>div:not([id])+div{margin-top:.5em}#debug-bar>div>label{margin-right:.5em}#debug-bar>div>input[type=text]{min-width:0;width:8em}#debug-bar>div>select{width:15em}#debug-bar-toggle{color:#eee;background-color:#222;border:1px solid #444;height:101%;height:calc(100% + 1px);left:-2em;left:calc(-2em - 1px);position:absolute;top:-1px;width:2em}#debug-bar-toggle:hover{background-color:#333;border-color:#eee}#debug-bar-hint{bottom:.175em;font-size:4.5em;opacity:.33;pointer-events:none;position:fixed;right:.6em;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;white-space:nowrap}#debug-bar-watch{background-color:#222;border-left:1px solid #444;border-top:1px solid #444;bottom:102%;bottom:calc(100% + 1px);font-size:.9em;left:-1px;max-height:650%;max-height:65vh;position:absolute;overflow-x:hidden;overflow-y:scroll;right:0;z-index:99800}#debug-bar-watch[hidden]{display:none}#debug-bar-watch div{color:#999;font-style:italic;margin:1em auto;text-align:center}#debug-bar-watch table{width:100%}#debug-bar-watch tr:nth-child(2n){background-color:rgba(127,127,127,.15)}#debug-bar-watch td{padding:.2em 0}#debug-bar-watch td:first-child+td{padding:.2em .3em .2em .1em}#debug-bar-watch .watch-delete{background-color:transparent;border:none;color:#c00}#debug-bar-watch-all,#debug-bar-watch-none{margin-left:.5em}#debug-bar-views-toggle,#debug-bar-watch-toggle{color:#eee;background-color:transparent;border:1px solid #444;margin-right:1em;padding:.4em}#debug-bar-views-toggle:hover,#debug-bar-watch-toggle:hover{background-color:#333;border-color:#eee}#debug-bar-watch:not([hidden])~div #debug-bar-watch-toggle,html[data-debug-view] #debug-bar-views-toggle{background-color:#282;border-color:#4a4}#debug-bar-watch:not([hidden])~div #debug-bar-watch-toggle:hover,html[data-debug-view] #debug-bar-views-toggle:hover{background-color:#4a4;border-color:#6c6}#debug-bar-hint:after,#debug-bar-toggle:before,#debug-bar-views-toggle:after,#debug-bar-watch .watch-delete:before,#debug-bar-watch-add:before,#debug-bar-watch-all:before,#debug-bar-watch-none:before,#debug-bar-watch-toggle:after{font-family:tme-fa-icons;font-style:normal;font-weight:400;font-variant:normal;text-transform:none;line-height:1;speak:none}#debug-bar-toggle:before{content:"\e838"}#debug-bar-hint:after{content:"\e838\202f\e822"}#debug-bar-watch .watch-delete:before{content:"\e804"}#debug-bar-watch-add:before{content:"\e805"}#debug-bar-watch-all:before{content:"\e83a"}#debug-bar-watch-none:before{content:"\e827"}#debug-bar-views-toggle:after,#debug-bar-watch-toggle:after{content:"\00a0\00a0\e830"}#debug-bar-watch:not([hidden])~div #debug-bar-watch-toggle:after,html[data-debug-view] #debug-bar-views-toggle:after{content:"\00a0\00a0\e831"}html[data-debug-view] .debug{padding:.25em;background-color:#234}html[data-debug-view] .debug[title]{cursor:help}html[data-debug-view] .debug.block{display:inline-block;vertical-align:middle}html[data-debug-view] .debug.invalid{text-decoration:line-through}html[data-debug-view] .debug.hidden,html[data-debug-view] .debug.hidden .debug{background-color:#555}html:not([data-debug-view]) .debug.hidden{display:none}html[data-debug-view] .debug[data-name][data-type].nonvoid:after,html[data-debug-view] .debug[data-name][data-type]:before{background-color:rgba(0,0,0,.25);font-family:monospace,monospace;white-space:pre}html[data-debug-view] .debug[data-name][data-type]:before{content:attr(data-name)}html[data-debug-view] .debug[data-name][data-type|=macro]:before{content:"<<" attr(data-name) ">>"}html[data-debug-view] .debug[data-name][data-type|=macro].nonvoid:after{content:"<</" attr(data-name) ">>"}html[data-debug-view] .debug[data-name][data-type|=html]:before{content:"<" attr(data-name) ">"}html[data-debug-view] .debug[data-name][data-type|=html].nonvoid:after{content:"</" attr(data-name) ">"}html[data-debug-view] .debug[data-name][data-type]:not(:empty):before{margin-right:.25em}html[data-debug-view] .debug[data-name][data-type].nonvoid:not(:empty):after{margin-left:.25em}html[data-debug-view] .debug[data-name][data-type|=special],html[data-debug-view] .debug[data-name][data-type|=special]:before{display:block}</style>
</head>
<body>
	<div id="init-screen">
		<div id="init-no-js"><noscript>JavaScript is required. Please enable it to continue.</noscript></div>
		<div id="init-lacking">Your browser lacks required capabilities. Please upgrade it or switch to another to continue.</div>
		<div id="init-loading"><div>Loading&hellip;</div></div>
	</div>
	<tw-storydata name="留草遺芳錄-遺芳九言" startnode="1" creator="Twine" creator-version="2.3.9" ifid="74B5A11F-48F9-4201-9161-E669B6F508AB" zoom="0.6" format="SugarCube" format-version="2.31.1" options="" hidden><style role="stylesheet" id="twine-user-stylesheet" type="text/twine-css">/* 思源黑體 */
@import url("https://fonts.googleapis.com/css?family=Noto+Sans+TC&display=swap");
/* 楷體字體 */
@import url(https://fonts.googleapis.com/earlyaccess/cwtexkai.css);
/* 圓體字體 */
@import url(https://fonts.googleapis.com/earlyaccess/cwtexyen.css);

.font-1 { font-family: 'Noto Sans TC', sans-serif; }
.font-2 { font-family: 'cwTeXKai', sans-serif; }
.font-3 { font-family: 'cwTeXYen', sans-serif; }

/*文字閃爍*/
.blink {
    -webkit-animation: blinker 1s step-end infinite;
            animation: blinker 1s step-end infinite;
}
@-webkit-keyframes blinker {
    50% { visibility: hidden; }
}
@keyframes blinker {
    50% { visibility: hidden; }
}
/*文字閃爍*/

/* 密碼鎖樣式開始 */
#textbox-doorkey {
	width: 165px;
	min-width: auto;
  	color:black;
  	background-color: white;
}
#numpad td {
	width: 50px;
}
#numpad button {
	width: 50px;
  	border-radius:10px;
}
.border-table {
	width: 170px;
  	background-color: CornflowerBlue;
  	text-align:center;
  	vertical-align: middle;
  	border-style:inset;
}
/* 密碼鎖樣式結束 */

/* 手機訊息樣式開始 */
.messege-table {
	width: 70%;
  	color:black;
  	background-color: LightCyan;
  	text-align:left;
  	vertical-align: middle;
  	border:8px LimeGreen double;
  	padding-right：5px;
  	padding-left：5px;
}
/* 手機訊息樣式結束 */

/* 圖片置中開始 */
.passage .centered-image img {
    display: block;
    max-width: 100%;
    height: auto;
    margin: 0 auto;
}
/* 圖片置中結束 */

/* 文字置中 */
.center {
	text-align: center;
}

/*文字逐行出現*/
.delayed {
    opacity: 0;
}

/* 喝醉效果 */
.drunk {
	animation: drunkCam 10s infinite alternate;
	color: black;
}
@keyframes drunkCam {
	0%  { filter: blur(0px); text-shadow: 0 0 0 grey; }
	20% { filter: blur(1px); text-shadow: 8px 0 0 grey; }
	24% { filter: blur(0px); text-shadow: 0 0 0 grey; }
	26% { filter: blur(0px); text-shadow: 0 0 0 grey; }
	28% { filter: blur(1px); text-shadow: 10px 0 0 grey; }
	30% { filter: blur(0px); text-shadow: 0 0 0 grey; }
	60% { filter: blur(1px); text-shadow: 5px 0 0 grey; }
	62% { filter: blur(0px); text-shadow: 0 0 0 grey; }
	65% { filter: blur(2px); text-shadow: 8px 0 0 grey; }
	67% { filter: blur(0px); text-shadow: 0 0 0 grey; }
	80% { filter: blur(0px); text-shadow: 8px 0 0 grey; }
	85% { filter: blur(2px); text-shadow: 10px 0 0 grey; }
	88% { filter: blur(1px); text-shadow: 5px 0 0 grey; }
	90% { filter: blur(0px); text-shadow: 0 0 0 grey; }
}


/* 文字抖動 */

/* The "clip" in ".glitch" is depreciated, so technically you should use the "clip-path" that's in ".glitchy" instead, however IE doesn't support "clip-path", and most browsers still support "clip". */

.glitch {
  color: white;
  position: relative;
}
.glitch:before {
  content: attr(data-text);
  width: calc(100% + 0.5em);
  position: absolute;
  left: -9px;
  text-shadow: 1px 0 blue;
  top: -5px;
  color: #FFD;
  background: #111;
  overflow: hidden;
  clip: rect(0, 900px, 0, 0);
  animation: noise-anim-2 3s infinite linear alternate-reverse;
  -webkit-animation: noise-anim-2 3s infinite linear alternate-reverse;
}
.glitch:after {
  content: attr(data-text);
  width: calc(100% + 0.5em);
  position: absolute;
  left: -5px;
  text-shadow: -1px 0 red;
  top: -5px;
  color: #DFF;
  background: #111;
  overflow: hidden;
  clip: rect(0, 900px, 0, 0);
  animation: noise-anim 2s infinite linear alternate-reverse;
  -webkit-animation: noise-anim 2s infinite linear alternate-reverse;
}
@keyframes noise-anim {
  0% {
    clip: rect(80px, 9999px, 16px, 0);
  }
  5% {
    clip: rect(94px, 9999px, 17px, 0);
  }
  10% {
    clip: rect(9px, 9999px, 92px, 0);
  }
  15.0% {
    clip: rect(37px, 9999px, 4px, 0);
  }
  20% {
    clip: rect(53px, 9999px, 47px, 0);
  }
  25% {
    clip: rect(99px, 9999px, 69px, 0);
  }
  30.0% {
    clip: rect(15px, 9999px, 49px, 0);
  }
  35% {
    clip: rect(83px, 9999px, 81px, 0);
  }
  40% {
    clip: rect(55px, 9999px, 43px, 0);
  }
  45% {
    clip: rect(28px, 9999px, 27px, 0);
  }
  50% {
    clip: rect(64px, 9999px, 28px, 0);
  }
  55.0% {
    clip: rect(76px, 9999px, 91px, 0);
  }
  60.0% {
    clip: rect(29px, 9999px, 72px, 0);
  }
  65% {
    clip: rect(70px, 9999px, 10px, 0);
  }
  70% {
    clip: rect(5px, 9999px, 84px, 0);
  }
  75% {
    clip: rect(46px, 9999px, 81px, 0);
  }
  80% {
    clip: rect(7px, 9999px, 85px, 0);
  }
  85.0% {
    clip: rect(17px, 9999px, 89px, 0);
  }
  90% {
    clip: rect(41px, 9999px, 59px, 0);
  }
  95% {
    clip: rect(53px, 9999px, 90px, 0);
  }
  100% {
    clip: rect(10px, 9999px, 30px, 0);
  }
}
@keyframes noise-anim-2 {
  0% {
    clip: rect(84px, 9999px, 3px, 0);
  }
  5% {
    clip: rect(31px, 9999px, 69px, 0);
  }
  10% {
    clip: rect(37px, 9999px, 33px, 0);
  }
  15.0% {
    clip: rect(18px, 9999px, 6px, 0);
  }
  20% {
    clip: rect(25px, 9999px, 87px, 0);
  }
  25% {
    clip: rect(100px, 9999px, 8px, 0);
  }
  30.0% {
    clip: rect(24px, 9999px, 87px, 0);
  }
  35% {
    clip: rect(39px, 9999px, 16px, 0);
  }
  40% {
    clip: rect(96px, 9999px, 25px, 0);
  }
  45% {
    clip: rect(16px, 9999px, 100px, 0);
  }
  50% {
    clip: rect(92px, 9999px, 76px, 0);
  }
  55.0% {
    clip: rect(29px, 9999px, 40px, 0);
  }
  60.0% {
    clip: rect(40px, 9999px, 39px, 0);
  }
  65% {
    clip: rect(94px, 9999px, 44px, 0);
  }
  70% {
    clip: rect(2px, 9999px, 78px, 0);
  }
  75% {
    clip: rect(86px, 9999px, 50px, 0);
  }
  80% {
    clip: rect(2px, 9999px, 46px, 0);
  }
  85.0% {
    clip: rect(41px, 9999px, 71px, 0);
  }
  90% {
    clip: rect(75px, 9999px, 15px, 0);
  }
  95% {
    clip: rect(41px, 9999px, 8px, 0);
  }
  100% {
    clip: rect(23px, 9999px, 75px, 0);
  }
}

.glitchy {
  color: white;
  position: relative;
}
.glitchy:before {
  content: attr(data-text);
  width: calc(100% + 0.5em);
  position: absolute;
  left: -9px;
  text-shadow: 1px 0 blue;
  top: -5px;
  color: #FFD;
  background: #111;
  overflow: hidden;
  clip-path: polygon(0 0);
  animation: noise-animY-2 3s infinite linear alternate-reverse;
  -webkit-animation: noise-animY-2 3s infinite linear alternate-reverse;
}
.glitchy:after {
  content: attr(data-text);
  width: calc(100% + 0.5em);
  position: absolute;
  left: -5px;
  text-shadow: -1px 0 red;
  top: -5px;
  color: #DFF;
  background: #111;
  overflow: hidden;
  clip-path: polygon(0 0);
  animation: noise-animY 2s infinite linear alternate-reverse;
  -webkit-animation: noise-animY 2s infinite linear alternate-reverse;
}
@keyframes noise-animY {
  0% {
    clip-path: polygon(0 80px, 100% 80px, 100% 16px, 0 16px);
  }
  5% {
    clip-path: polygon(0 94px, 100% 94px, 100% 17px, 0 17px);
  }
  10% {
    clip-path: polygon(0 9px, 100% 9px, 100% 92px, 0 92px);
  }
  15.0% {
    clip-path: polygon(0 37px, 100% 37px, 100% 4px, 0 4px);
  }
  20% {
    clip-path: polygon(0 53px, 100% 53px, 100% 47px, 0 47px);
  }
  25% {
    clip-path: polygon(0 99px, 100% 99px, 100% 69px, 0 69px);
  }
  30.0% {
    clip-path: polygon(0 15px, 100% 15px, 100% 49px, 0 49px);
  }
  35% {
    clip-path: polygon(0 83px, 100% 83px, 100% 81px, 0 81px);
  }
  40% {
    clip-path: polygon(0 55px, 100% 55px, 100% 43px, 0 43px);
  }
  45% {
    clip-path: polygon(0 28px, 100% 28px, 100% 27px, 0 27px);
  }
  50% {
    clip-path: polygon(0 64px, 100% 64px, 100% 28px, 0 28px);
  }
  55.0% {
    clip-path: polygon(0 76px, 100% 76px, 100% 91px, 0 91px);
  }
  60.0% {
    clip-path: polygon(0 29px, 100% 29px, 100% 72px, 0 72px);
  }
  65% {
    clip-path: polygon(0 70px, 100% 70px, 100% 10px, 0 10px);
  }
  70% {
    clip-path: polygon(0 5px, 100% 5px, 100% 84px, 0 84px);
  }
  75% {
    clip-path: polygon(0 46px, 100% 46px, 100% 81px, 0 81px);
  }
  80% {
    clip-path: polygon(0 7px, 100% 7px, 100% 85px, 0 85px);
  }
  85.0% {
    clip-path: polygon(0 17px, 100% 17px, 100% 89px, 0 89px);
  }
  90% {
    clip-path: polygon(0 41px, 100% 41px, 100% 59px, 0 59px);
  }
  95% {
    clip-path: polygon(0 53px, 100% 53px, 100% 90px, 0 90px);
  }
  100% {
    clip-path: polygon(0 10px, 100% 10px, 100% 30px, 0 30px);
  }
}
@keyframes noise-animY-2 {
  0% {
    clip-path: polygon(0 84px, 100% 84px, 100% 3px, 0 3px);
  }
  5% {
    clip-path: polygon(0 31px, 100% 31px, 100% 69px, 0 69px);
  }
  10% {
    clip-path: polygon(0 37px, 100% 37px, 100% 33px, 0 33px);
  }
  15.0% {
    clip-path: polygon(0 18px, 100% 18px, 100% 6px, 0 6px);
  }
  20% {
    clip-path: polygon(0 25px, 100% 25px, 100% 87px, 0 87px);
  }
  25% {
    clip-path: polygon(0 100px, 100% 100px, 100% 8px, 0 8px);
  }
  30.0% {
    clip-path: polygon(0 24px, 100% 24px, 100% 87px, 0 87px);
  }
  35% {
    clip-path: polygon(0 39px, 100% 39px, 100% 16px, 0 16px);
  }
  40% {
    clip-path: polygon(0 96px, 100% 96px, 100% 25px, 0 25px);
  }
  45% {
    clip-path: polygon(0 16px, 100% 16px, 100% 100px, 0 100px);
  }
  50% {
    clip-path: polygon(0 92px, 100% 92px, 100% 76px, 0 76px);
  }
  55.0% {
    clip-path: polygon(0 29px, 100% 29px, 100% 40px, 0 40px);
  }
  60.0% {
    clip-path: polygon(0 40px, 100% 40px, 100% 39px, 0 39px);
  }
  65% {
    clip-path: polygon(0 94px, 100% 94px, 100% 44px, 0 44px);
  }
  70% {
    clip-path: polygon(0 2px, 100% 2px, 100% 78px, 0 78px);
  }
  75% {
    clip-path: polygon(0 86px, 100% 86px, 100% 50px, 0 50px);
  }
  80% {
    clip-path: polygon(0 2px, 100% 2px, 100% 46px, 0 46px);
  }
  85.0% {
    clip-path: polygon(0 41px, 100% 41px, 100% 71px, 0 71px);
  }
  90% {
    clip-path: polygon(0 75px, 100% 75px, 100% 15px, 0 15px);
  }
  95% {
    clip-path: polygon(0 41px, 100% 41px, 100% 8px, 0 8px);
  }
  100% {
    clip-path: polygon(0 23px, 100% 23px, 100% 75px, 0 75px);
  }
}

/*自訂樣式*/
html {
/*
  background-image: linear-gradient(to bottom,  hsl(70, 39%, 30%), black);
  background-image: -webkit-linear-gradient(top,  hsl(70, 39%, 30%), black);
  background-attachment: fixed;
*/
  background-color: black;
}
body {
  background-color: transparent;
  margin: 2% 0 0 0;
  font-size: 100%;
}

#passages {
  background-color: white;
  /*
  background-image: linear-gradient(-135deg, BurlyWood, #6b432b);
  background-image: -webkit-linear-gradient(-45deg, BurlyWood, #6b432b);
  background-color: BurlyWood;
  */
  width: 85%;
  margin:auto;
  margin-bottom: 5%;
  border-radius: 1em;
  padding: 2em;
  box-shadow: inset 0 0 2em DarkSlateGrey;
}

.passage {
  margin: 0px;
  padding: 2em;

  /* Text formatting */
  color: black;
  font-family:'Noto Sans TC'!important;
  text-align:justify;
}

input, select, textarea {
 color: LightSlateGray; 
}

img {
    max-width: 100%;
}

.passage br + .char {
  margin-left: 1.6em;
}

.char.e + .char, .char.t + .char, .char.a + .char, .char.o + .char, .char.i + .char, .char.n + .char, .char:nth-child(8n) {
  text-shadow: 0em 3px 0.3em hsla(82, 39%, 20%, .25);
  color: rgba(0,0,0,0.7);
}

hr {
  border: 0;
  height: 2px !important;
  background-color: black;
  box-shadow: 0 0 1em darkolivegreen;
}

/* Links */
.passage a .char {
  color: hsla(82, 39%, 20%, .75);
  text-shadow: 0em 3px 0.2em hsla(82, 39%, 20%, .25), 0em 6px 0.4em hsla(82, 39%, 20%, .25);
}
.passage a:visited .char {
  color: hsla(37, 39%, 20%, .75);
  text-shadow: 0em 3px 0.2em hsla(37, 39%, 20%, .25), 0em 6px 0.4em hsla(37, 39%, 20%, .25);
}
.passage a:hover {
  text-decoration: none;
}
.passage a:hover .char {
  color: darkgreen !important;
}
.passage a:visited:hover .char {
  color: darkred !important;
}

.passage input[type="text"] {
min-width: 60%;
width: 60%;
}

＃ui-bar a,a {
  font-family:'cwTeXYen'!important;
  font-size: 120%;
}</style><script role="script" id="twine-user-script" type="text/twine-javascript">/* 返回前頁開始 */
predisplay["Menu Return"] = function (taskName) {
	if (! tags().contains("noreturn")) {
		State.variables.return = passage();
	}
};
/* 返回前頁結束 */

/* 逐行出現文字 */
$(document).on(':passagerender', function (ev) {
	// Find all elements containing the delayed class.
	var elems = $(ev.content).find('.delayed');
	// Appearance delay (in milliseconds) between each delayed text block.
	var delay = 1000; // 1 second fade-in
	if (elems.length > 0) {
		elems.each(function (i) {
			$(this)
				.delay(delay * (i + 1))
				.fadeTo(delay, 1);
		});
	}
});


/*點擊收合內容*/
// message macro, by chapel (with help from T.M. Edwards); for sugarcube 2
// version 1.0.1
// see the documentation: https://github.com/ChapelR/custom-macros-for-sugarcube-2#message-macro

//intialize namespace
setup.messageMacro = {};

// default text option:
setup.messageMacro.default = 'Help';

// <<message>> macro
Macro.add('message', {
    tags    : null,
    handler : function () {
        var message  = this.payload[0].contents;
        var $wrapper = $(document.createElement('span'));
        var $link    = $(document.createElement(this.args.includes('btn') ? 'button' : 'a'));
        var $content = $(document.createElement('span'));

        $link
            .wiki(this.args.length > 0 && this.args[0] !== 'btn' ? this.args[0] : setup.messageMacro.default)
            .ariaClick( this.createShadowWrapper( function () {
                if ($wrapper.hasClass('open')) {
                    $content
                        .css('display', 'none')
                        .empty();
                }
                else {
                    $content
                        .css('display', 'block')
                        .wiki(message);
                }

                $wrapper.toggleClass('open');
            }));

        $wrapper
            .attr('id', 'macro-' + this.name + '-' + this.args.join('').replace(/[^A-Za-z0-9]/g, ''))
            .addClass('message-text')
            .append($link)
            .append($content)
            .appendTo(this.output);
    }
});


/*預載圖片*/
(function () {
    'use strict';
    // v1.0.0
    // preload images prior to story startup

    function preloadImage (url, cb) {
        var img = new Image();
        img.onload = cb;
        img.onerror = cb;
        img.src = url;
    }

    function preloadAll (urls, cb) {
        var loaded = 0;
        var toBeLoaded = urls.length;
        urls.forEach( function (url) {
            preloadImage( url, function () {
                loaded++;
                if (loaded === toBeLoaded) {
                    cb();
                }
            });
        });
    }

    function isInit () {
        return State.length <= 0;
    }


    function preload () {
        var list = [].slice.call(arguments).flatten();
        var id = isInit() ? LoadScreen.lock() : false;
        preloadAll( list, function () {
            if (id) {
                LoadScreen.unlock(id);
            }
        });
        return id;
    }

    setup.preload = preload;
    setup.preload.force = false;

    /* <<preload imageUrls...>> */
    Macro.add('preload', {
        handler : function () {
            if (!isInit() && !setup.preload.force) {
                return this.error("Attempting to preload images outside of `StoryInit` or similar can cause performance issues. Set `setup.preload.force` to `true` if you want to do it anyway.");
            }
            preload(this.args.flatten().filter( function (url) {
                return typeof url === 'string';
            }));
        }
    });
}());

/* <<ScrollTo>> macro: Scrolls the window to the given element ID.
			Waits for element to exist.
			Accepts parameters for scrollIntoView().  See:
https://developer.mozilla.org/en-US/docs/Web/API/Element/scrollIntoView

Usage:
	Scroll element into view aligned to the top of the window:
		<<ScrollTo "ElementID">>
	Scroll element into view aligned to the bottom of the window:
		<<ScrollTo "ElementID" false>>
*/
Macro.add('ScrollTo', {
	skipArgs : false,
	handler  : function () {
		if (this.args.length > 0) {
			var Value = this.args[0];
			if (typeof Value === "string" || Value instanceof String) {
				var element = null, params = undefined;
				if (this.args.length > 1) {
					params = this.args[1];
				}
				// wait for element
				var elementWaitID = setInterval(function () {
					element = document.getElementById(Value);
					if (element != null) {
						// stop waiting and set scroll position
						clearInterval(elementWaitID);
						if (params != undefined) {
							element.scrollIntoView(params);
						} else {
							element.scrollIntoView();
						}
					}
				}, 100);
			}
		}
	}
});
/* <<ScrollTo>> macro - End */

/* 介面中文化開始 */
!function(){l10nStrings.identity="遊戲",l10nStrings.aborting="終止",l10nStrings.cancel="取消",l10nStrings.close="關閉",l10nStrings.ok="確認",l10nStrings.errorTitle="錯誤",l10nStrings.errorNonexistentPassage='段落"{passage}"不存在',l10nStrings.errorSaveMissingData="存檔缺少必須的數據，可能被讀取的文件不是存檔或存檔被損壞",l10nStrings.errorSaveIdMismatch="保存{identity}是錯誤的",l10nStrings._warningIntroLacking="你的瀏覽器可能損壞或者被禁用",l10nStrings._warningOutroDegraded="，所以{identity}在受限模式中運行。你可以繼續運行，但是一些內容可能不能正確工作。",l10nStrings.warningNoWebStorage="{_warningIntroLacking} Web Storage API {_warningOutroDegraded}",l10nStrings.warningDegraded="{_warningIntroLacking} {identity}需要的功能 {_warningOutroDegraded}",l10nStrings.debugViewTitle="調適模式",l10nStrings.debugViewToggle="切換調適模式",l10nStrings.uiBarToggle="打開/關閉導航欄",l10nStrings.uiBarBackward="後退",l10nStrings.uiBarForward="前進",l10nStrings.uiBarJumpto="跳到{identity}的歷史紀錄中的某一點",l10nStrings.jumptoTitle="跳到",l10nStrings.jumptoTurn="轉到",l10nStrings.jumptoUnavailable="目前沒有跳躍點…",l10nStrings.savesTitle="存檔",l10nStrings.savesDisallowed="在這個段落中不允許存檔",l10nStrings.savesEmptySlot="— 插槽空 —",l10nStrings.savesIncapable="{_warningIntroLacking}支持存檔所需的功能，因此本次遊戲的存檔功能已被禁用",l10nStrings.savesLabelAuto="自動存檔",l10nStrings.savesLabelDelete="刪除",l10nStrings.savesLabelExport="另存為……",l10nStrings.savesLabelImport="讀取……",l10nStrings.savesLabelLoad="讀取",l10nStrings.savesLabelClear="全部刪除",l10nStrings.savesLabelSave="保存",l10nStrings.savesLabelSlot="插槽",l10nStrings.savesSavedOn="保存在：",l10nStrings.savesUnavailable="未找到存檔插槽…",l10nStrings.savesUnknownDate="未知",l10nStrings.settingsTitle="設置",l10nStrings.settingsOff="關閉",l10nStrings.settingsOn="開啟",l10nStrings.settingsReset="重置為默認值",l10nStrings.restartTitle="重新開始",l10nStrings.restartPrompt="你確定要重新開始嗎？未保存的進度將會丟失。",l10nStrings.shareTitle="分享",l10nStrings.autoloadTitle="自動保存",l10nStrings.autoloadCancel="前往最初的段落",l10nStrings.autoloadOk="讀取自動存檔",l10nStrings.autoloadPrompt="有一個自動存檔，讀取它還是前往最初的段落？",l10nStrings.macroBackText="返回",l10nStrings.macroReturnText="返回"}();
/* 介面中文化結束 */</script><tw-tag name="bag" color="red"></tw-tag>,<tw-tag name="combine" color="purple"></tw-tag>,<tw-tag name="epoint" color="orange"></tw-tag>,<tw-tag name="include" color="yellow"></tw-tag>,<tw-tag name="noreturn" color="gray"></tw-tag>,<tw-tag name="other" color="blue"></tw-tag>,<tw-tag name="phone" color="red"></tw-tag>,<tw-tag name="result" color="purple"></tw-tag>,<tw-tag name="spoint" color="green"></tw-tag>,<tw-tag name="進度" color="red"></tw-tag><tw-passagedata pid="1" name="All started" tags="spoint" position="200,100" size="200,200">真虧你能找到這裡，這樣便算是初步的篩選過了。
接下來就請你嘗試打開下面地址的大門吧，若你不是誤闖此地，定能打開……

&lt;em&gt;(接下來，點擊&lt;&lt;link &#39;藍色的字&#39;&gt;&gt;&lt;&lt;/link&gt;&gt;便能與之互動)&lt;/em&gt;

[[循地址動身，前往台南的一大特色、遍布市區之內的「老巷」之中……|循地址動身，前往台南最令人稱道的小巷弄之中……]]</tw-passagedata><tw-passagedata pid="2" name="Untitled Passage 1" tags="other noreturn" position="0,0" size="100,100">/*
//@@color:GRAY;13132131321321@@//

//
@@color:GRAY;13132131321321@@
//

@@color:RED;莉莉@@
@@color:BLUE;宗哥@@
@@color:Orange;凜夜@@

&lt;&lt;linkreplace 你仔細觀察四周&gt;&gt;
123
&lt;&lt;/linkreplace&gt;&gt;

&lt;img src=&quot;https://drive.google.com/uc?id=1T8jfqXyRcWOzELnlK8t7VXt8ybaXRrWn&quot; width=&quot;300(px)&quot;&gt;
*/

圖片置中
&lt;div class=&quot;centered-image&quot;&gt;
    [img[image_name.jpg]]
&lt;/div&gt;

延平復明志天地會聚
永華留漢業鳳山宮堙

南英窺園書嘉言善狀　
地山留草笥火傳窮薪

丙丁餘烈功星火燎原
德章遺芳勛滴水穿石

上面三個是玩家遊戲期間會完成的對句
然後宗哥會在最後問玩家名稱然後生成下面的對句變成一個律詩(不過結構沒有很嚴謹就是了)

不二承前杖踵事增華
＿＿啟後履執鞭隨蹬


遊戲名稱改作
留草遺芳錄　——遺芳九言
留草遺芳錄是遊戲整個名稱，遺芳九言是章節/單元名稱
拳師我想改稱 遺芳士，但省事的人都叫他們拳師</tw-passagedata><tw-passagedata pid="3" name="循地址動身，前往台南最令人稱道的小巷弄之中……" tags="" position="425,100" size="100,100">&lt;em&gt;@@color:GRAY;循著捷徑的指示，你找到了台南巷弄間的一處大門@@&lt;/em&gt;
&lt;div id=&#39;supportercode-form&#39;&gt;\
&lt;img src=&quot;https://drive.google.com/uc?id=13gReKufpd7aHw8nvJVxtLZdoWNjaH_eH&quot; width=&quot;300&quot;&gt; 
&lt;&lt;link &#39;靠近一點&#39;&gt;&gt;
&lt;&lt;replace &#39;#supportercode-form&#39;&gt;&gt;&lt;img src=&quot;https://drive.google.com/uc?id=1Knl8r7FVKG6zEReFbSR0WdqF_iXcLWNQ&quot; width=&quot;300(px)&quot;&gt;
[[再靠近一點]]&lt;&lt;/replace&gt;&gt;
&lt;&lt;/link&gt;&gt;
&lt;/div&gt;</tw-passagedata><tw-passagedata pid="4" name="再靠近一點" tags="" position="550,75" size="100,100">&lt;img src=&quot;https://drive.google.com/uc?id=1B2VTXkFShdNZch55omsBuW2l3_RL9Xxb&quot; width=&quot;300(px)&quot;&gt; 

&lt;em&gt;@@color:GRAY;森嚴的大木門，鎖的嚴嚴實實。
門上有著一道與中式的外觀相異的觸控螢幕@@&lt;/em&gt;
&lt;&lt;linkreplace 仔細端詳看看&gt;&gt;
&lt;table class=&quot;border-table&quot;&gt;
@@color:DarkBlue;TYPE Password IN@@
&lt;&lt;include &#39;密碼鎖&#39;&gt;&gt;
&lt;/table&gt;
&lt;em&gt;@@color:GRAY;你似乎想起些什麼關聯，推敲後嘗試輸入了數字……@@&lt;/em&gt;
@@color:GREEN;輸入密碼後，點擊&quot;◄┘&quot;送出。如果輸入錯字，可點擊&quot;C&quot;清除。@@
&lt;&lt;/linkreplace&gt;&gt;
//@@color:GREEN;雅婷備註：密碼鎖可以更換樣式，把背景替換成拿掉數字的圖片即可。@@//</tw-passagedata><tw-passagedata pid="5" name="進入試驗場" tags="" position="775,75" size="100,100">&lt;img src=&quot;https://drive.google.com/uc?id=1B2VTXkFShdNZch55omsBuW2l3_RL9Xxb&quot; width=&quot;300(px)&quot;&gt;
&lt;em&gt;@@color:GRAY;大門並沒有馬上打開，而是從電子鎖處傳來一陣人聲。@@&lt;/em&gt;

&lt;&lt;linkreplace &#39;靠近聆聽&#39;&gt;&gt;
&lt;&lt;timed 1s t8n&gt;&gt;&lt;span class=&quot;drunk&quot;&gt;「&lt;em&gt;沙沙&lt;/em&gt;……是新的&lt;em&gt;沙沙&lt;/em&gt;……」&lt;/span&gt;
&lt;&lt;next&gt;&gt;  
&lt;&lt;next&gt;&gt;「是新的測驗者呢……」
&lt;&lt;next&gt;&gt; 
&lt;&lt;next&gt;&gt;&lt;em&gt;@@color:GRAY;透過電子設備的傳遞，你聽出了是男性的聲音。
雖然有些失真，但是你仍感受到聲音主人的和藹、沉穩。@@&lt;/em&gt;
&lt;span id=&quot;topElement&quot;&gt;&lt;/span&gt;
&lt;&lt;linkreplace &#39;詢問「測驗者」是什麼？&#39; t8n&gt;&gt;&lt;&lt;include &#39;詢問測驗者&#39;&gt;&gt;&lt;&lt;/linkreplace&gt;&gt;
&lt;&lt;linkreplace &#39;詢問是否能進入。&#39; t8n&gt;&gt;&lt;&lt;include &#39;開門&#39;&gt;&gt;&lt;&lt;/linkreplace&gt;&gt;
&lt;&lt;/timed&gt;&gt;
&lt;&lt;/linkreplace&gt;&gt;</tw-passagedata><tw-passagedata pid="6" name="揣揣不安地走進門內" tags="" position="1125,75" size="100,100">&lt;img src=&quot;https://drive.google.com/uc?id=1F3Uzslt57lfGpoNO-rQ6KyJSBytQt8Ra&quot; width=&quot;300(px)&quot;&gt;

&lt;em&gt;@@color:GRAY;你將雙腳跨進進門中，看到一個狹長、昏暗的走道。

僅僅依靠一側窗戶洩進的些微陽光，讓你無法辨識室內的擺設、裝飾。

但你仍勉強看到一個小孩親切對你行了個禮。@@&lt;/em&gt;

&lt;em&gt;@@color:GRAY;是……門僮？好老派的作風……@@&lt;/em&gt;

&lt;&lt;timed 5s t8n&gt;&gt;&lt;&lt;audio &#39;doorclose&#39; play&gt;&gt;&lt;h1&gt;&lt;span class=&quot;drunk&quot;&gt;「碰!」&lt;/span&gt;&lt;/h1&gt;&lt;&lt;/timed&gt;&gt;
&lt;&lt;timed 6s&gt;&gt;&lt;&lt;removeclass &#39;.drunk&#39;&gt;&gt;
&lt;&lt;linkappend &#39;發生了什麼事？&#39; t8n&gt;&gt;

&lt;&lt;include &#39;門關上&#39;&gt;&gt;&lt;&lt;/linkappend&gt;&gt;
&lt;&lt;/timed&gt;&gt;
&lt;&lt;set $title1 to 1&gt;&gt;</tw-passagedata><tw-passagedata pid="7" name="TestStart" tags="" position="1500,175" size="100,100">&lt;img src=&quot;https://drive.google.com/uc?id=1XnctmI2yPSNsIL5vHZiJCwa2jRf3Ee80&quot; width=&quot;300(px)&quot;&gt;

&lt;em&gt;
@@color:GRAY;
隨著步入廳堂，室內的寬敞程度，簡直無法和入口處的窄門產生聯想，空間感完全錯亂了。

室內雖然昏暗且被人影淹沒，但仍能透過上面一層樓窗戶的光線，清楚看到左、中、右的牆面有三道門。

門上也似乎刻著什麼。

人生地不熟的你，這時想要……

@@
&lt;/em&gt;

&lt;&lt;linkreplace 仔細端詳門&gt;&gt;
&lt;em&gt;@@color:GRAY;透過光線，你依稀看到三道門的門楣之上，分別刻有「日月」、「八卦」、「竹子」的圖樣。@@&lt;/em&gt;
&lt;&lt;/linkreplace&gt;&gt;

&lt;&lt;linkreplace 向旁人搭話&gt;&gt;
&lt;em&gt;@@color:GRAY;
旁人僅是轉頭瞪了你一眼，便隨即回過頭去，似乎是在養精蓄銳。
你注意還有到其他人循聲看向你，其中有個相貌不凡、穿著十分年輕的少女吸引了你的目光，但你再也不敢亂搭話。
@@&lt;/em&gt;
&lt;&lt;/linkreplace&gt;&gt;

[[安分隨眾人等待]]</tw-passagedata><tw-passagedata pid="8" name="隨波逐流消逝在歷史之中" tags="epoint" position="2700,500" size="100,100">&lt;em&gt;@@color:GRAY;
你走著……走著……

不知道是什麼時候開始，你發覺自己頭重腳輕，視線逐漸模糊。

伴隨你明顯嗅到的一股異香，幾道人聲響起……
@@&lt;/em&gt;

&lt;&lt;linkreplace 勉強支撐著聆聽&gt;&gt;
「知道他是從哪裡來的嗎」
&lt;em&gt;@@color:GRAY;一個親切的男聲說道。@@&lt;/em&gt;

「從他接受測驗起，就摸透他的IP與座標位置了，與他住的地方應該相去不遠！」
&lt;em&gt;@@color:GRAY;另一個男聲顯得滑稽、難聽@@&lt;/em&gt;

「已經是第幾位了……你們可要幫我一起送他們回家阿……」
&lt;em&gt;@@color:GRAY;聽起來是與你同齡的女子的聲音@@&lt;/em&gt;

&lt;em&gt;@@color:GRAY;你再怎麼張衍、閉眼嘗試看清楚他們，卻怎麼也無法順利做到……@@&lt;/em&gt;

「『他們』是指……？」&lt;em&gt;@@color:GRAY;不及多想，你走就沉沉的昏去@@&lt;/em&gt;

&lt;&lt;/linkreplace&gt;&gt;

&lt;&lt;linkreplace 順應疲憊感&gt;&gt;
你已經來不及驚訝和理解一切；應該說，你也無力如此，而是隨者本能轉而陷入昏迷。
游離之際，最後的一絲感受僅剩下自己躺在一陣溫暖之中，[[接著沉沉睡去…………]]

&lt;&lt;/linkreplace&gt;&gt;
</tw-passagedata><tw-passagedata pid="9" name="測驗繼續" tags="" position="1750,175" size="100,100">&lt;em&gt;@@color:GRAY;不滿的人們離去，躁動聲奕隨之停止，留下的人不超過50名。見現場的走動情況恢復平靜，發話人的聲音又悠悠響起@@&lt;/em&gt;

「留下的各位，看來心意已決，本次的試驗就繼續吧。」

&lt;em&gt;@@color:GRAY;一改輕鬆的口吻，你聽出他改以更嚴肅的語調來談論此事@@&lt;/em&gt;

「『永華堂』的名號並非完全杜撰，請各位仔細琢磨琢磨接下來的話，這也是我們的志志！」&lt;em&gt;@@color:GRAY;發話之人在此停頓，並開始唸道：@@&lt;/em&gt;
&lt;h3&gt;

日月江山一氣連，
止戈共水不爭田。
髮長當須頭顱落，
豈作順民陳予仙。

&lt;/h3&gt;
「隨著門僮的引導，你們應該也聽到了『拳師』的名號對不對？」
&lt;em&gt;@@color:GRAY;你想起那位小童的話：「在我們『拳師』眼裡……」@@&lt;/em&gt;

「各位腳下的這座建築物，是由天地會在台灣留下，歷史十分悠久。」
&lt;em&gt;@@color:GRAY;這倒解釋了從們口到這個廳堂為止，能保持得這般古色古香的原因。@@&lt;/em&gt;

「清朝時創立的天地會，是為了維護政權的『正宗』而生，是為革命的一群人。」

「組織隨著眾人散播的意志而開枝散葉，成員遍布中國與台灣，甚至是世界各地。」

「至今的四百多年來，在台灣的成員們歷經了明、清政權，甚至是日本的殖民。我們在外來統治者的治理下，逐漸隱於市井之間低調度日，但對保護民族歷史可以說是不遺餘力。」
/*&lt;em&gt;@@color:GRAY;不只是這棟建築，歷史悠久的天地會居然仍隱隱於市！？@@&lt;/em&gt;*/

「隨著時間的推移，最終，我們迎來了國民黨政權。在漫長的過程中，我們逐漸的了解到，政權時有興衰，以歷史的宏觀視角來看不過是曇花一現。只有民族、土地的記憶才是我們深扎的根。」

「現在，這個&lt;h1&gt;『根』&lt;/h1&gt;正被我們的一些敵人盜去、販賣，甚至是扭曲」
&lt;em&gt;@@color:GRAY;歷史不是紀錄在課本、史料之上嗎？還有那些供參訪的古蹟，不也是歷史的一部分？這些「歷史」是如何被盜去、販賣，甚至被扭曲？？@@&lt;/em&gt;

「為了不讓歷史出現空白和錯誤，過去的天地會成員發起了祕密的運動。他們組織了一群有志之士，形成一個保護歷史的組織，勢要對這樣的頹勢，再次進行革命！」
&lt;em&gt;@@color:GRAY;此刻，廳堂之內的躁動聲不亞於人群離開前，並多了份激動！@@&lt;/em&gt;

「記住！後面各位踏入的將不是一件容易的志業，就如同求道修行一樣，但又遠比這個更多……」

「你將會牽涉到許多許多你們知道的、或不知道的歷史，以及背後涉及的人、事、物；甚至會讓你們陷入麻煩的經歷之中。」

「但是你們守護的歷史，將會影響接下來的世世代代，對他們的身處的這片土地的認同感。」

「選擇你們的道路吧!」

&lt;em&gt;@@color:GRAY;語罷，一股木造結構摩擦的聲音響起，並讓一道光打向廳堂之中矗立的一塊石碑，上面就寫著方才念道的詩詞@@&lt;/em&gt;

&lt;em&gt;@@color:GRAY;廳堂再度陷入騷動，發話之人倒是與之相反的沉默。

他離開了嗎？沒有人知道……

於是你開始思索他的話……@@&lt;/em&gt;

&lt;&lt;linkreplace 天地會？&gt;&gt;
@@color:GRAY;這在台灣至今仍然存在嗎？你無法估算這件事情重不重要。@@
&lt;&lt;/linkreplace&gt;&gt;

&lt;&lt;linkreplace 「拳師」&gt;&gt;
@@color:GRAY;天地會成員發起，有志之士籌建的組織？這不就是地下結社嗎？@@
&lt;&lt;/linkreplace&gt;&gt;

&lt;&lt;linkreplace 台灣的歷史&gt;&gt;
@@color:GRAY;民族、土地的記憶才是我們的根，這句話沒錯；但「逐漸被抹去形成空白，甚至還被不肖之人給扭曲了……」，「不肖之人」是誰？@@
&lt;&lt;/linkreplace&gt;&gt;

&lt;&lt;linkreplace 「選擇你們的道路……」&gt;&gt;&lt;hr&gt;
&lt;em&gt;@@color:GRAY;「選擇你們的道路……」這句話恐怕是在詢問我們的意向……@@&lt;/em&gt;

[[這是份危險的職業，還是不要繼續吧(就此離去)|隨波逐流消逝在歷史之中]]

[[挺身而出吧，為了我們的根！！|道路的選擇]]

[[還是繼續看看這是在幹嘛吧……|道路的選擇]]
&lt;&lt;/linkreplace&gt;&gt;
&lt;&lt;run $clue1.pushUnique(&#39;天地會&#39;)&gt;&gt;&lt;&lt;run $clue1.pushUnique(&#39;保護歷史&#39;)&gt;&gt;</tw-passagedata><tw-passagedata pid="10" name="接著沉沉睡去…………" tags="epoint" position="2700,625" size="100,100">&lt;em&gt;@@color:GRAY;
不知過了多久，你在自己熟悉的位置醒來。

你僅記得自己從一個賣藥網站開始做了些什麼，卻不再記得自己先前的經歷。

你決定……
@@&lt;/em&gt;

[[追朔那個網站與一切經歷|All started]]
[[放棄一切]]</tw-passagedata><tw-passagedata pid="11" name="放棄一切" tags="epoint" position="2700,750" size="100,100">@@color:GRAY;如果說歷史是一個時間軸，
人站在時間軸線上代表著一場又一場事件的節點，
每個事件結束後總會留下一些東西。

在盜匪眼中，這些東西是財寶；
在博物館眼中是古董；
在『拳師』眼裡，這些『物』代表失落的歷史與記憶。
@@
你僅是任由歷史流淌，未曾參與，未曾創造，甚至未曾守護他們……

@@color:RED;&lt;h1&gt;BAD ENDDING&lt;/h1&gt;@@</tw-passagedata><tw-passagedata pid="12" name="道路的選擇" tags="" position="1875,175" size="100,100">&lt;h3&gt;
日月江山一氣連，
止戈共水不爭田。
髮長當須頭顱落，
豈作順民陳予仙。
&lt;/h3&gt;
&lt;hr&gt;
&lt;em&gt;
@@color:GRAY;
發話之人沉默依舊，應該是不會再作其他的宣布了。

你開始將注意力放在石碑與廳堂內的人與環境。

很快的，隨著一些人的離去，你意識到大家都有了明確的方向。

有人準備離開試驗，其他人則分成幾波，往廳堂三側的門分別走去，包括那名女性。

漸漸的，廳堂就只剩下刻著詩詞的那個石碑，和還在思考的你。

看來接下來的去向，除了離開，就僅能與這三道門的含意有關，你這時決定……
@@
&lt;/em&gt;

&lt;&lt;link &#39;1.蒙住眼睛，打個轉之後，隨意往出口與其他方向信步走去，聽天由命&#39;&gt;&gt;
&lt;&lt;goto [[random(3)]]&gt;&gt;
&lt;&lt;/link&gt;&gt;

&lt;&lt;linkreplace 2.望向其他道門&gt;&gt;//@@color:GRAY;你望向其他方向，並且……@@//

[[往刻有「竹子」的門走去]]

[[往刻有「日月」的門走去|隨波逐流消逝在歷史之中]]

[[往刻有「八卦」的門走去|隨波逐流消逝在歷史之中]]

[[往前來廳堂的門離開此地|隨波逐流消逝在歷史之中]]
&lt;&lt;/linkreplace&gt;&gt;

&lt;&lt;linkreplace　&quot;3.回頭思考剛剛說的話，尋找線索。&quot;&gt;&gt;&lt;hr&gt;
&lt;&lt;include &#39;回頭思考剛剛說的話，尋找線索。&#39;&gt;&gt;
&lt;&lt;/linkreplace&gt;&gt;

[[資訊足夠了，來推理應該往哪一扇門走吧！]]</tw-passagedata><tw-passagedata pid="13" name="詳加研究那些字畫" tags="" position="2200,25" size="100,100">//@@color:GRAY;環顧四週，雖然室內空間不如剛才的廳堂那樣大，卻在四周牆面掛了很多張字畫。@@//

&lt;&lt;linkreplace 仔細觀察字畫&gt;&gt;
//@@color:GRAY;字畫共有四幅，分別是：

#「則為河」的字畫&lt;&lt;run $painting.pushUnique(&#39;則為河&#39;)&gt;&gt;
#「地正人浩」的字畫&lt;&lt;run $painting.pushUnique(&#39;地正人浩&#39;)&gt;&gt;
#「上為星」的字畫&lt;&lt;run $painting.pushUnique(&#39;上為星&#39;)&gt;&gt;
#「雜賦形」的字畫&lt;&lt;run $painting.pushUnique(&#39;雜賦形&#39;)&gt;&gt;

就字面意思去閱讀，字畫內容不完全能了解意涵；但若詳加觀察，便不難發現上面畫有奇怪的圖案，於是你一一湊近觀察並詳加記錄……@@

&lt;&lt;linkappend 近看「則為河」的字畫&gt;&gt;@@color:GREEN;（將字畫記錄到背包中，從側邊欄選單點擊觀看）@@
&lt;img src=&quot;https://drive.google.com/uc?id=16Ze5V3NEwXGILXF3EA38FDvxTJvvdpF0&quot; width=&quot;100%&quot;&gt;&lt;&lt;/linkappend&gt;&gt;
&lt;&lt;linkappend 近看「地正人浩」的字畫&gt;&gt;@@color:GREEN;（將字畫記錄到背包中，從側邊欄選單點擊觀看）@@
&lt;img src=&quot;https://drive.google.com/uc?id=1zYLObaAy3m-Zkth0b1eAIeU1Kb6miXX2&quot; width=&quot;100%&quot;&gt;&lt;&lt;/linkappend&gt;&gt;
&lt;&lt;linkappend 近看「上為星」的字畫&gt;&gt;@@color:GREEN;（將字畫記錄到背包中，從側邊欄選單點擊觀看）@@
&lt;img src=&quot;https://drive.google.com/uc?id=1reJzSQ_pn7jJW2E0u_GsP6wBmD45RYH0&quot; width=&quot;100%&quot;&gt;&lt;&lt;/linkappend&gt;&gt;
&lt;&lt;linkappend 近看「雜賦形」的字畫&gt;&gt;@@color:GREEN;（將字畫記錄到背包中，從側邊欄選單點擊觀看）@@
&lt;img src=&quot;https://drive.google.com/uc?id=1ZnT8Su_KE3FqBkKxlweZ86Qkwtkjvy9I&quot; width=&quot;100%&quot;&gt;&lt;&lt;/linkappend&gt;&gt;

你隱隱感覺到，這一切與什麼事情似乎有著關聯，所以你決定……@@//
&lt;hr&gt;
&lt;&lt;/linkreplace&gt;&gt;
[[詳加研究桌上圖案]]

&lt;hr&gt;
[[放棄思考，從通往室外的出口離去……|隨波逐流消逝在歷史之中]]

/*
//@@color:GRAY;13132131321321@@//

//
@@color:GRAY;13132131321321@@
//

@@color:RED;莉莉@@
@@color:BLUE;宗哥@@
@@color:Orange;凜夜@@

&lt;&lt;linkreplace 你仔細觀察四周&gt;&gt;
123
&lt;&lt;/linkreplace&gt;&gt;

&lt;img src=&quot;https://drive.google.com/uc?id=1T8jfqXyRcWOzELnlK8t7VXt8ybaXRrWn&quot; width=&quot;300(px)&quot;&gt;
*/</tw-passagedata><tw-passagedata pid="14" name="詳加研究桌上圖案" tags="" position="2200,150" size="100,100">&lt;img src=&quot;https://drive.google.com/uc?id=1eQ15MaJzR_IjXwN-ZMd5TMM3CCL69uyU&quot; width=&quot;300(px)&quot;&gt;
&lt;em&gt;@@color:GRAY;
湊近一看，石桌看起來很有歷史，但是仍然被照顧得很好，雕刻仍也十分清晰。
剛剛不及細看的文字，這時也終於讓你看懂了:
@@&lt;/em&gt;

&lt;h1&gt;正氣歌抄錄——&lt;/h1&gt;
&lt;h3&gt;
天地有正氣
雜然賦流形
下則為河嶽
上則為日星
於人曰浩然

&lt;/h3&gt;

&lt;em&gt;@@color:GRAY;
天地有正氣……這是為了砥礪自己而引用此作，還是明晃晃的暗示此地與天地會的關聯呢？
初來乍到的你恐怕無法得知，你繼續閱讀，看到石桌上還刻有一段文字……
@@&lt;/em&gt;

河嶽日星相交會，眾志匯聚終破危。

&lt;em&gt;@@color:GRAY;資訊量很大又很分散，但這個測驗從開始到現在都沒有無用的資訊，你決定……@@&lt;/em&gt;

[[放棄思考，從通往室外的出口離去……|隨波逐流消逝在歷史之中]]
[[繼續推敲石桌上內容]]
[[詳加研究那些字畫]]</tw-passagedata><tw-passagedata pid="15" name="繼續推敲石桌上內容" tags="" position="2325,75" size="100,100">&lt;img src=&quot;https://drive.google.com/uc?id=1eQ15MaJzR_IjXwN-ZMd5TMM3CCL69uyU&quot; width=&quot;300(px)&quot;&gt;

&lt;h1&gt;正氣歌抄錄——&lt;/h1&gt;
&lt;h3&gt;
天地有正氣
雜然賦流形
下則為河嶽
上則為日星
於人曰浩然

&lt;/h3&gt;

河嶽日星相交會，眾志匯聚終破疑。

&lt;hr&gt;

&lt;em&gt;@@color:GRAY;
你決定繼續推敲這首詩詞，以及身邊的一切資源……
(拼圖小遊戲時間)

「河嶽」、「日星」、「眾志」似乎在哪裡見到過這個字眼。
「相交會」、「匯聚」似乎是暗示「集合」
「眾志」、「匯聚」，這次的測驗便是「一群人」
「集合」、「一群人」……去哪裡？？？莫非我還有什麼[[可以推理的資料]]？？

@@&lt;/em&gt;

&lt;hr&gt;
[[放棄思考，從通往室外的出口離去……|隨波逐流消逝在歷史之中]]</tw-passagedata><tw-passagedata pid="16" name="往刻有「竹子」的門走去" tags="" position="2050,75" size="100,100">&lt;img src=&quot;https://drive.google.com/uc?id=1eQ15MaJzR_IjXwN-ZMd5TMM3CCL69uyU&quot; width=&quot;300(px)&quot;&gt;

&lt;em&gt;
@@color:GRAY;
再度來到一個室內空間，但不如剛才的廳堂大。
@@
&lt;/em&gt;
&lt;&lt;linkreplace 你仔細觀察四周……&gt;&gt;
//@@color:GRAY;你仔細觀察四周，所見的是……@@//

# 數張字畫
# 石桌
# 通往室外的出口

//@@color:GRAY;所以你決定……@@//
[[詳加研究那些字畫]]

[[詳加研究桌上圖案]]

[[直接往室外隨意離去，不再回來|隨波逐流消逝在歷史之中]]
&lt;&lt;/linkreplace&gt;&gt;</tw-passagedata><tw-passagedata pid="17" name="可以推理的資料" tags="epoint" position="2300,300" size="100,100">&lt;em&gt;@@color:GRAY;一番推理與操作，你似乎有了點進展，但這份資料尚須解碼才會知道目的地，你目前手邊有的解碼工具是……@@&lt;/em&gt;

[[智慧型手機(掃起來)|往鳳山宮走去]]
[[電腦(開第三方工具後掃起來)|往鳳山宮走去]]

&lt;hr&gt;

[[放棄思考，從通往室外的出口離去……|隨波逐流消逝在歷史之中]]</tw-passagedata><tw-passagedata pid="18" name="往鳳山宮走去" tags="spoint" position="200,400" size="200,200">//@@color:GRAY;
經過一番跋涉，你離開老街，到了目的地。

這次匯聚在此的人數不足30人。

眼前是台銀的台南分行，新穎的建築物設計與剛剛的中式建築十分不搭軋。

因為是室外空間，透過明亮的光線，你清楚的看到了廳堂之中你曾見到的那名女性。
直到這時候你才發現了他與眾不同的打扮，@@//&lt;&lt;linkreplace 於是你仔細的觀察他。&gt;&gt; 

//@@color:GRAY;正當你把目光聚焦在他身上的時候，熟悉的聲音響起……@@//

「歡迎你的到來，看來石桌的謎題也沒能難倒你呢！」

&lt;em&gt;@@color:GRAY;
是電子鎖以及廳堂之中的那個聲音。

聲音的主人果然沒有背叛你的想像，是個相貌和藹敦厚、身型壯碩的長輩。突起的啤酒肚，讓他給你一種可靠、親切的感覺。

這時你也發現，早已匯聚的人們其實是像受他引導、聚集在他面前的。@@&lt;/em&gt;

「和大夥聚集起來吧，我這裡也會繼續測驗的說明。」
&lt;hr&gt;

[[進入人群之中]]

[[放棄一切，就此離開此地……|隨波逐流消逝在歷史之中]]

&lt;&lt;/linkreplace&gt;&gt;
&lt;&lt;set $title2 to 1&gt;&gt;</tw-passagedata><tw-passagedata pid="19" name="進入人群之中" tags="" position="425,400" size="100,100">//@@color:GRAY;
看得出大夥已經聚集多時，所以你沒有空隙可以融入人群，僅能站在人群的後方外圍處。

但這個位置剛好能讓你觀察到那個女性，這時的他嘴利叼著不知道哪來的糖葫蘆。

前輩見你站定，便開口說明此次的測驗
@@//
「恭喜各位的努力有了收穫，測驗終於迎來了更為重要的環節，大概是整體三分之一的進度吧。」
//@@color:GRAY;聽到這句話，你覺得或許之後的謎題雖然困難，但也不是不能解決。
往後的難關，都定能迎刃而解！@@//

//@@color:GRAY;接著，前輩又再次一改輕鬆的態度，用莊重的神情與口氣說道……@@//
「各位眼前的是一座銀行，從日治時期便坐落於此，但它與天地會其實沒有什麼太直接的關係。」
//@@color:GRAY;說完，它兩手一攤，示意眾人向身邊的周遭環視一圈@@//
「各位所處的台南，並不總是長得像現在這般的；這一切是隨著河流的淤塞，以及多次的劇烈地形變化，才逐漸從臨海的地區，變成目前的樣貌。」

「歷經長久的時光，時間也像河流，不斷堆積著歷史……直到此時此刻的當下，我們都在創造著新的時代！」
//@@color:GRAY;發話之人講的真切，讓在場的人，包括你都聽得呆了，甚至有點感動。

但他顯然還沒說完，講出了至關重要的一句話：@@//
「凡事都有歷史，拳師也有歷史，而且還三度險些失傳。」

//@@color:GRAY;隨著眾人專注地聆聽，他又繼續講道@@//
「這次的試煉目的雖然是為了測試玩家的能耐，但也同時是……」

@@color:RED;「是要找『那個』嗎？宗哥？」@@

//@@color:GRAY;你一直以來所注意的女生，插嘴打斷了前輩的話。他指的「那個」是……？

另外，原來前輩是叫做@@@@color:BLUE;「宗哥」@@@@color:GRAY;嗎？@@//

「莉莉，你別急著打斷我啊……」
//@@color:GRAY;但是那個他仍「哼……」的一聲又再一次地打斷了前輩的話。@@

@@color:GRAY;看來兩人是相識的，那女孩叫做「@@@@color:RED;莉莉@@@@color:GRAY;」，是個急性子。@@//

「話說，這是正式的活動，你可要莊重些……」
//@@color:BLUE;宗哥@@@@color:GRAY;一改剛剛的態度，開始和@@@@color:RED;莉莉@@@@color:GRAY;閒聊了起來。@@//
「像我就做得不錯，哈哈哈」

//
@@color:GRAY;看的出來，@@@@color:RED;莉莉@@@@color:GRAY;沒有要理會他的意思。@@
@@color:GRAY;而@@@@color:BLUE;「宗哥」@@@@color:GRAY;可靠的聲音與外表之下，居然也有詼諧的一面。不過這並沒有維持太久，因為他又再度恢復嚴肅的口吻，照原話說完了剛剛的話。@@
//

「這次的試煉目的雖然是為了測試玩家的能耐，但也同時是以此為契機，傳遞拳師的精神與相關知識。」
//@@color:BLUE;宗哥@@@@color:GRAY;語罷，便伸手掏出了手機，進行了一番操作，完全沒有老一輩人使用手機上的困頓感。

接著你的手機也伴著震動聲，[[收到了一則訊息。]]@@//

/*
//@@color:GRAY;
13132131321321
@@//

@@color:RED;莉莉@@
@@color:BLUE;宗哥@@

&lt;&lt;linkreplace 你仔細觀察四周&gt;&gt;
123
&lt;&lt;/linkreplace&gt;&gt;
*/</tw-passagedata><tw-passagedata pid="20" name="轉折-內鬼加入你" tags="" position="900,400" size="100,100">//@@color:GRAY;人群之中，你一直有在關注的@@@@color:RED;莉莉@@@@color:GRAY;最先被你納入考慮。

於是你……@@//

&lt;&lt;linkreplace 切入人群之中，準備找他&gt;&gt;//@@color:GRAY;你嘗試切入人群去找@@@@color:RED;莉莉@@@@color:GRAY;，但分組的時候大家很積極地走動，所以在人群湧動之下，你居然在人數之下被擠來擠去而無法脫身。@@//&lt;&lt;/linkreplace&gt;&gt;

&lt;&lt;linkreplace 脫離人群，從外圍跟他碰面&gt;&gt;//@@color:GRAY;即便你嘗試拖離人群，要由外圍去找到@@@@color:RED;莉莉@@@@color:GRAY;碰面，但不知道什麼時候，人們早就將你包圍，這使你難以移動。@@//&lt;&lt;/linkreplace&gt;&gt;

&lt;&lt;linkreplace 放棄找他，呆立在人群之中&gt;&gt;
//@@color:GRAY;此時的大家早就開始熱情的尋找找夥伴，你無法脫開，只能深陷其中、無法動彈，所以你很快地就成了落單的人。

所幸你看到@@@@color:RED;莉莉@@@@color:GRAY;也是如此。

心中的冀望再次趨使你邁開步子去找他。//

//幾番嘗試，就差一步你就能脫離人群，@@[[所以你提起最後的一分力氣……|所以你跨出了最後一步]]//
&lt;&lt;/linkreplace&gt;&gt;

/*
//@@color:GRAY;
13132131321321
@@//

@@color:RED;莉莉@@
@@color:BLUE;宗哥@@

&lt;&lt;linkreplace 你仔細觀察四周&gt;&gt;
123
&lt;&lt;/linkreplace&gt;&gt;
*/</tw-passagedata><tw-passagedata pid="21" name="所以你跨出了最後一步" tags="" position="1025,400" size="100,100">//@@color:GRAY;最後這一步，讓你好不容易脫離人群，有了喘息機會。你真的喘了一下後……@@//

&lt;&lt;linkreplace 終於從喉頭擠出一句話……&gt;&gt;//@@color:GRAY;終於從喉頭擠出一句話……@@//

「可以和我一組嗎？莉莉……」
//@@color:GRAY;話音剛畢，你正好也見到@@@@color:RED;莉莉@@@@color:GRAY;邁開了步子。@@//
@@color:RED;「一起吧！沒有規定不能和你一組對吧？」@@
//@@color:GRAY;就這樣，@@@@color:RED;莉莉@@@@color:GRAY;找好了伙伴。

只是剛喘完的你，聲音沒有傳到@@@@color:RED;莉莉@@@@color:GRAY;耳中，而且你見到@@@@color:RED;莉莉@@@@color:GRAY;走向@@@@color:BLUE;宗哥@@@@color:GRAY;並拍了拍他的手臂。@@//

「腦筋動得真快，你說的沒錯！」
//@@color:BLUE;宗哥@@//@@color:GRAY;雙手環抱胸前，露出了欽佩的樣子。

他們居然變成了組員。

事已至此，你意識到自己又成了落單的一人，直到有人也拍了拍你的肩膀。

[[你看向了拍你的人。|有人拍了拍你的肩膀]]
@@//
&lt;&lt;/linkreplace&gt;&gt;
/*
//@@color:GRAY;
13132131321321
@@//

@@color:RED;莉莉@@
@@color:BLUE;宗哥@@

&lt;&lt;linkreplace 你仔細觀察四周&gt;&gt;
123
&lt;&lt;/linkreplace&gt;&gt;
*/</tw-passagedata><tw-passagedata pid="22" name="有人拍了拍你的肩膀" tags="" position="1150,400" size="100,100">@@color:GREEN;來一張立繪阿@@
「朋友，你也一個人嗎？」
//@@color:Orange;拍你肩膀的人@@@@color:GRAY;，所用的力氣並不大，甚至可以說像蜻蜓點水一樣。他的身形也相襯得十分清瘦，卻背著與身形不符的一個袋子。@@//

//@@color:GRAY;見你目光移向袋子，@@@@color:Orange;那人@@@@color:GRAY;馬上親切的向你解釋@@//
「喔！這是月琴啦，是一種很古老的樂器，我最近正在學習呢！」
//@@color:Orange;他@@@@color:GRAY;對你投以純真、親切的笑容，讓你覺得這不像是和你一樣經歷了剛剛那些嚴肅的謎題的人。@@//

//@@color:GRAY;你望向他、又望向莉莉，一時間難以抉擇@@//

&lt;&lt;linkreplace 往@@color:RED;莉莉@@看去&gt;&gt;
//@@color:RED;莉莉@@@@color:GRAY;、@@@@color:BLUE;宗哥@@@@color:GRAY;的組合以是板上釘釘的事實，和他組隊已是無望……@@//
&lt;&lt;/linkreplace&gt;&gt;
&lt;&lt;link 向@@color:Orange;那人@@回話&gt;&gt;&lt;&lt;goto &#39;凜夜邀請&#39;&gt;&gt;&lt;&lt;/link&gt;&gt;

/*
//@@color:GRAY;13132131321321@@//

//
@@color:GRAY;13132131321321@@
//

//@@color:RED;莉莉@@//
@@color:BLUE;宗哥@@
@@color:Orange;凜夜@@

&lt;&lt;linkreplace 你仔細觀察四周&gt;&gt;
123
&lt;&lt;/linkreplace&gt;&gt;
*/
</tw-passagedata><tw-passagedata pid="23" name="誤上賊船" tags="" position="1175,525" size="100,100">「那我們就即刻開始接下來的試煉吧！」
//@@color:BLUE;宗哥@@@@color:GRAY;自己閒聊之餘，竟也留意到了其他人的情況，你沒有多想，只覺得他是個老練、可靠的前輩。@@//

「彼此加油吧『夥伴』！」
//@@color:Orange;凜夜@@@@color:GRAY;神情輕鬆但是真誠的向你小聲說道，接著又補充道@@//
「我會盡力在謎題上向你支援的！！！」

//@@color:GRAY;見他真誠，加上先前@@@@color:BLUE;宗哥@@@@color:GRAY;「守護歷史的志士」的一席話，你不做他想的接納這個人。@@//

&lt;&lt;linkreplace 請他日後多多指教。&gt;&gt;「日後請多多指教！」
//@@color:GRAY;你的回覆讓@@@@color:Orange;凜夜@@@@color:GRAY;很是高興，這將是你們組隊生涯的開始。@@//

@@color:GRAY;&lt;h3&gt;「這可能會是你們入門後的重要夥伴！」&lt;/h3&gt;@@
//@@color:BLUE;宗哥@@@@color:GRAY;這句話，更是迴繞在你的心中……@@//

//@@color:GRAY;你們交談之際，@@@@color:BLUE;宗哥@@//&lt;&lt;linkreplace //並沒有閒下來……//&gt;&gt;//@@color:GRAY;宣佈道……@@//
「大家若準備完畢，就可以分頭行動了，但可千萬要保全彼此的安全喔！」
//@@color:GRAY;語罷，眾人開始了關於試驗的討論，你與@@@@color:Orange;凜夜@@@@color:GRAY;亦然。@@//

[[開始討論]]
&lt;&lt;/linkreplace&gt;&gt;
&lt;&lt;/linkreplace&gt;&gt;
/*
//@@color:GRAY;13132131321321@@//

//
@@color:GRAY;13132131321321@@
//

//@@color:RED;莉莉@@//
@@color:BLUE;宗哥@@
@@color:Orange;凜夜@@

&lt;&lt;linkreplace 你仔細觀察四周&gt;&gt;
123
&lt;&lt;/linkreplace&gt;&gt;
*/</tw-passagedata><tw-passagedata pid="24" name="開始討論" tags="" position="1350,550" size="100,100">「一直以來，那個拳師前輩都是話中有話的，在講述很多事情……」//@@color:Orange;凜夜@@@@color:GRAY;首先得提出了一些自己的見解@@//「我覺得我們先梳理一下當下我們了解的所有資訊吧！」

//
@@color:GRAY;隨著先前你們所聽的故事，大概可以理解到以下兩個重要的資訊：@@
#鳳山宮&lt;&lt;run $clue2.pushUnique(&#39;鳳山宮&#39;)&gt;&gt;
#台灣銀行台南分行&lt;&lt;run $clue2.pushUnique(&#39;台灣銀行台南分行&#39;)&gt;&gt;

@@color:GRAY;於是你與@@@@color:Orange;凜夜@@@@color:GRAY;開始了推理……@@//
&lt;&lt;if $cluecount.includes(&#39;鳳山台銀&#39;)&gt;&gt;
隨著你們簡單的推敲，很快發現了「六合境柱子行全台開基永華宮」這一地點，[[於是馬上動身前往。|六合境柱子行全台開基永華宮]]
&lt;&lt;else&gt;&gt;
&lt;&lt;linkreplace 進行推理&gt;&gt;
&lt;&lt;include &#39;推理2組合選單&#39;&gt;&gt;
&lt;&lt;/linkreplace&gt;&gt;
&lt;&lt;/if&gt;&gt;</tw-passagedata><tw-passagedata pid="25" name="宗哥Carry" tags="" position="675,1000" size="100,100">//@@color:GRAY;奇怪的是，@@@@color:BLUE;宗哥@@@@color:GRAY;這一掌沒有擊中你，而是身體一低。

這時你也發現他開始欺近於你，讓掌勢繼續。

「轟」的一聲，掌風向你身後流去。@@//

&lt;h3&gt;「砰！」&lt;/h3&gt;

//@@color:GRAY;隨著一聲撞擊的悶響，你感覺到輕鬆很多。

原來剛剛@@@@color:BLUE;宗哥@@@@color:GRAY;自下而上的用背將你頂了一下，同時，又有人乘此勢替你挪開了重物。一股砂糖、醃漬水果的香味隨之撲鼻而來。

你狼狽的跌坐在地，隨後便看到將重物撐開並往旁邊放倒的@@@@color:RED;莉莉@@@@color:GRAY;。@@//

@@color:RED;「差點就是一條寶貴的生命，我可不同意！」@@
//@@color:RED;莉莉@@@@color:GRAY;與@@@@color:BLUE;宗哥@@@@color:GRAY;合力撐起的方位似乎經過計算，恰巧又將那棵大樹頂了回去。@@

「怎麼淨幹這些毀壞古物的事情，這次來動到這顆老樹的身上！」@@color:RED;莉莉@@@@color:GRAY;氣得大罵。@@
//

&lt;h3&gt;「咚嗆！」&lt;/h3&gt;

//@@color:GRAY;隨著樹木歸位（或者說倒向後方牆面勉強的被扶著），@@//[[你逐漸回過神來看清楚了一切的情勢。|揭露]]</tw-passagedata><tw-passagedata pid="26" name="六合境柱子行全台開基永華宮" tags="" position="1475,550" size="100,100">//@@color:GRAY;自台南市的府前路一段向西行，並彎入196巷之中，你與@@@@color:Orange;凜夜@@@@color:GRAY;花了不到五分鐘的時間，就見到地面從人行道磚頭鋪成的路，轉變為灰白石磚的廟埕(廟前空地)，轉頭一張望，就見到了一座廟。

橫梁之上，「永華宮」三個大字之外還有「全台開基」幾個小字，再加上前庭後方的匾額，你不難看出這裡就是「六合境柱仔行全台開基永華宮」。

紅色柱子之上，刻有秀雅又莊重的幾副對聯；碩大穩重的香爐讓廟前香煙裊裊；向廟的三川殿望去，共開了五道門，每道門除了雕刻的對聯外，又貼有許多道門聯與祈福用的福符。

雖然廟宇坐落在巷弄之中，但因為建築本身與裝飾的用色，加上莊重的感覺，讓整體氣勢不輸建於郊區大路旁的大廟。
@@//

「沒想到搬遷的地方這麼近。」
//@@color:Orange;凜夜@@@@color:GRAY;向你說道。@@//

「但不知道這裡埋藏了什麼重要的線索……」
//@@color:Orange;凜夜@@@@color:GRAY;說罷，便親切的拉著你，[[自廟的左側、「龍門」處，往廟裡走去。]]@@//</tw-passagedata><tw-passagedata pid="27" name="自廟的左側、「龍門」處，往廟裡走去。" tags="" position="1600,550" size="100,100">&lt;&lt;if $visit.includesAll($temple1)&gt;&gt;
&lt;&lt;include &#39;永華宮全探索&#39;&gt;&gt;
&lt;&lt;else&gt;&gt;
//@@color:GRAY;來到永華宮內，莊嚴氣息更勝廟外的風光，廟內陳設、裝飾之豐富同樣讓你與@@@@color:Orange;凜夜@@@@color:GRAY;感到目不暇給。@@

@@color:Orange;凜夜@@@@color:GRAY;原地在廟中環視了個大概，便走向一旁像是廟方工作人員的老者問候幾句，接著就一起有說有笑的走向了你。@@//

「現在的年輕人居然還對這些廟的故事有興趣阿！」
//@@color:GRAY;看起來像是廟公的老者笑咪咪的看著你們兩個，操著台語對你們說。@@//
「有什麼問題儘管問吧，雖然才疏學淺，但我盡我所知的替你們回答吧！」

&lt;&lt;if $visit.includes(&#39;主殿&#39;)&gt;&gt;[[望向主殿（已參訪）|望向主殿]]&lt;&lt;else&gt;&gt;[[望向主殿]]&lt;&lt;/if&gt;&gt;

&lt;&lt;if $visit.includes(&#39;偏殿&#39;)&gt;&gt;[[望向左右的偏殿處（已參訪）|望向左右的偏殿處]]&lt;&lt;else&gt;&gt;[[望向左右的偏殿處]]&lt;&lt;/if&gt;&gt;

&lt;&lt;if $visit.includes(&#39;廟內圖像&#39;)&gt;&gt;[[望向廟內牆面的圖像（已參訪）|望向廟內牆面的圖像]]&lt;&lt;else&gt;&gt;[[望向廟內牆面的圖像]]&lt;&lt;/if&gt;&gt;

&lt;&lt;if $visit.includes(&#39;廟內匾額&#39;)&gt;&gt;[[望向掛滿了的匾額（已參訪）|望向掛滿了的匾額]]&lt;&lt;else&gt;&gt;[[望向掛滿了的匾額]]&lt;&lt;/if&gt;&gt;

&lt;&lt;if $visit.includes(&#39;廟內紅柱&#39;)&gt;&gt;[[望向廟內的紅柱（已參訪）|望向廟內的紅柱]]&lt;&lt;else&gt;&gt;[[望向廟內的紅柱]]&lt;&lt;/if&gt;&gt;

&lt;&lt;if $visit.includes(&#39;廟內木門&#39;)&gt;&gt;[[望向廟宇木門圖樣（已參訪）|望向廟宇木門圖樣]]&lt;&lt;else&gt;&gt;[[望向廟宇木門圖樣]]&lt;&lt;/if&gt;&gt;

&lt;&lt;if $visit.includes(&#39;詢問祭祀&#39;)&gt;&gt;[[詢問陳永華參軍的祭祀位置（已詢問）|詢問陳永華參軍的祭祀位置]]&lt;&lt;else&gt;&gt;[[詢問陳永華參軍的祭祀位置]]&lt;&lt;/if&gt;&gt;

&lt;&lt;if $visit.includes(&#39;廟外&#39;)&gt;&gt;[[往廟外移動]]&lt;&lt;/if&gt;&gt;
&lt;&lt;/if&gt;&gt;</tw-passagedata><tw-passagedata pid="28" name="往廟外移動" tags="" position="1750,550" size="100,100">&lt;&lt;if $visit.includesAll($temple1)&gt;&gt;
&lt;&lt;include &#39;永華宮全探索&#39;&gt;&gt;
&lt;&lt;else&gt;&gt;
//@@color:GRAY;來到廟的外面，矗立著拜天公的金爐。&lt;&lt;run $visit.pushUnique(&#39;廟外&#39;)&gt;&gt;

往遠處望去，還看到一面白色的牆壁，以及左右兩側的一對「龍鳳神榕」。@@//

&lt;&lt;if $visit.includes(&#39;陳永華祭祀處&#39;)&gt;&gt;[[前往陳永華參軍祭祀處（已參訪）|往陳永華參軍祭祀處前進]]&lt;&lt;else&gt;&gt;[[徑直前往陳永華參軍祭祀處|往陳永華參軍祭祀處前進]]&lt;&lt;/if&gt;&gt;

&lt;&lt;if $visit.includes(&#39;廟外白牆&#39;)&gt;&gt;[[望向白色的牆壁（已參訪）|望向白色的牆壁]]&lt;&lt;else&gt;&gt;[[望向白色的牆壁]]&lt;&lt;/if&gt;&gt;

&lt;&lt;if $visit.includes(&#39;廟外祈願榕樹&#39;)&gt;&gt;[[望向掛滿許願牌的榕樹（已參訪）|望向掛滿許願牌的榕樹]]&lt;&lt;else&gt;&gt;[[望向掛滿許願牌的榕樹]]&lt;&lt;/if&gt;&gt;

&lt;&lt;if $visit.includes(&#39;廟外榕樹&#39;)&gt;&gt;[[望向另一棵榕樹（已參訪）|望向另一棵榕樹]]&lt;&lt;else&gt;&gt;[[望向另一棵榕樹]]&lt;&lt;/if&gt;&gt;

&lt;&lt;if $visit.includes(&#39;廟外裸牆&#39;)&gt;&gt;[[望向一旁磚塊裸露的牆面（已參訪）|望向一旁磚塊裸露的牆面]]&lt;&lt;else&gt;&gt;[[望向一旁磚塊裸露的牆面]]&lt;&lt;/if&gt;&gt;

[[回到廟裡|自廟的左側、「龍門」處，往廟裡走去。]]
&lt;&lt;/if&gt;&gt;</tw-passagedata><tw-passagedata pid="29" name="往陳永華參軍祭祀處前進" tags="" position="1925,550" size="100,100">&lt;&lt;if $visit.includesAll($temple1)&gt;&gt;
&lt;&lt;include &#39;永華宮全探索&#39;&gt;&gt;
&lt;&lt;else&gt;&gt;
//@@color:GRAY;祭祀著陳永華參軍神像的地方，是一個三層結構的建築。需要爬個幾層樓梯才能到達祭祀處。@@//
&lt;&lt;run $visit.pushUnique(&#39;陳永華祭祀處&#39;)&gt;&gt;
&lt;&lt;linkreplace 往上爬樓梯&gt;&gt;
&lt;&lt;include &#39;陳永華祭祀二樓&#39;&gt;&gt;
&lt;&lt;/linkreplace&gt;&gt;

[[往廟外移動]]
&lt;&lt;/if&gt;&gt;</tw-passagedata><tw-passagedata pid="30" name="一起去「香爐」前仔細觀察" tags="" position="2400,550" size="100,100">&lt;img src=&quot;https://drive.google.com/uc?id=1IErY5CxdXKsODtU6W2lHii4AXmruXOX6&quot; width=&quot;300(px)&quot;&gt;
//@@color:GRAY;靠近觀察後，你看到四處斑駁並帶有幾處龜裂的一個爐子，頂上有著奇怪生物的裝飾，周圍被布置了一些盆栽。@@@@color:Orange;凜夜@@@@color:GRAY;像是如獲至寶一樣的繞著它不斷上下打量，獨留你充滿疑惑。@@//

「這可不是你所想的金爐啊！我找廟裡的阿伯來跟我們完整的解釋解釋！」//@@color:Orange;凜夜@@@@color:GRAY;說完後就用矯健的身手馬上去找來廟裡的工作人員，並請他做一些解釋。

原來這並不是我們在許多廟與看到的，用來焚燒金紙的金爐，永華宮的金爐是在廟的對面。

眼前的這座，是大家稱他「惜字亭」、「聖蹟亭」或「敬字亭」的結構。

目前雖然跟廟旁的牆壁連在一起，但它獨立出來的話，會是個八角形的爐座。頂端那個生物是「鰲魚」，有「獨占鰲頭」之意涵!

古時候沒有普及的教育環境，是直到日治時期才逐漸引進教育資源，加上農耕社會普遍認為「萬般皆下品、唯有讀書高」，所以一般人對於文字、教育的事情都懷有敬意，對於難以取得的書本更是敬畏有加，於是有敬字、惜書的習俗。

一般來說，惜字亭是獨立用於焚燒用過或是寫錯字的紙張，多半會設立在私塾、廟宇。

解釋到這裡，廟方人員補充到，永華宮是遷廟來這裡沒錯，但是這作惜字亭卻是本來就在這裡的建築，這裡曾經是一座私塾。@@//&lt;&lt;run $clue2.pushUnique(&#39;私塾&#39;)&gt;&gt;&lt;&lt;run $clue2.pushUnique(&#39;惜字亭&#39;)&gt;&gt;

[[多虧廟方人員，又有新的資料可以推理了！]]</tw-passagedata><tw-passagedata pid="31" name="將這一發現與手上資料作比對" tags="spoint" position="200,700" size="200,200">//@@color:GRAY;循著@@@@color:BLUE;宗哥@@@@color:GRAY;傳來的資料，你驚訝的發現這在結構上能夠完成部分的內容。

或許這個許特齊前輩，就曾經是繼承了兩百多年來天地會歷史的一名私塾老師，藉著私塾與教育的名義，暗自有一些活動吧！

於是你和@@@@color:Orange;凜夜@@@@color:GRAY;交流了這個想法，並往下繼續進行推理。@@//
&lt;&lt;include &#39;推理2組合選單&#39;&gt;&gt;

&lt;&lt;if $clue2.includes(&#39;許南英晚年&#39;)&gt;&gt;
&lt;&lt;include &#39;許南英推理完畢&#39;&gt;&gt;&lt;&lt;else&gt;&gt;&lt;&lt;/if&gt;&gt;&lt;&lt;set $title3 to 1&gt;&gt;</tw-passagedata><tw-passagedata pid="32" name="叫住凜夜" tags="" position="550,800" size="100,100">//@@color:GRAY;隨著你的叫喚@@@@color:Orange;凜夜@@@@color:GRAY;剛轉身就馬上回頭@@//
「怎麼啦？你這麼快就有發現嗎？」//@@color:Orange;凜夜@@@@color:GRAY;馬上湊近了你，想聽個明白@@//

&lt;&lt;linkreplace 向他敘述你的疑慮&gt;&gt;//@@color:GRAY;在你向他敘述了你的疑慮之後，他誠心的向你道了謝@@//
「哇~！謝謝你的關心，你真的很細心呢！」//@@color:Orange;凜夜@@@@color:GRAY;的口氣真誠的反而讓你有點不好意思，他隨即又兩手往腰間一插，作出很有精神的動作，並說@@//
「但我也是有點能耐的喔！夥伴你就別擔心我了，我們的進度可是大大超前其他人的，可要繼續保持這個氣勢！」
//@@color:GRAY;說完後他就衝你作了個大大的微笑，接著就轉身走向廟宇之中。

「只是小小的一次試驗、廟的內外有這麼多人，事情能夠還能多糟糕呢？」你這麼告訴自己。

雖然@@@@color:Orange;凜夜@@@@color:GRAY;像是在警戒著@@@@color:BLUE;宗哥@@@@color:GRAY;，但是這麼可靠的大前輩，又怎麼可能會讓大家出什麼亂子？@@//

//@@color:GRAY;與其擔心，還不如找出其他重要的線索，盡快和他碰頭！

想到這裡，即便你懷著一些不安，但仍決定@@//[[放心讓他離去|繼續許南英這個線索的推理]]//@@color:GRAY;。@@//
&lt;&lt;/linkreplace&gt;&gt;</tw-passagedata><tw-passagedata pid="33" name="繼續許南英這個線索的推理" tags="" position="550,700" size="100,100">//@@color:GRAY;望著獨自離去的@@@@color:Orange;凜夜@@@@color:GRAY;從你的視線消失在廟內人群裡，然後你繼續進行推理。@@//

&lt;&lt;include &#39;推理2組合選單&#39;&gt;&gt;

&lt;&lt;if $cluecount.includesAny(&#39;許地山日本政府&#39;, &#39;窺園留草日本政府&#39;)&gt;&gt;//@@color:GRAY;至此，由@@@@color:BLUE;宗哥@@@@color:GRAY;給你們的題目，像是完成了個大概，所以你決定@@//&lt;&lt;linkreplace //去廟裡找凜夜看看他那邊有沒有什麼新發現。//&gt;&gt;&lt;&lt;include &#39;找凜夜新發現&#39;&gt;&gt;&lt;&lt;/linkreplace&gt;&gt;&lt;&lt;else&gt;&gt;&lt;&lt;/if&gt;&gt;</tw-passagedata><tw-passagedata pid="34" name="上前去慰問傷者" tags="" position="800,725" size="100,100">//@@color:GRAY;放眼望去，離你最近的傷者大概有三個，每個都各自有不同的受傷部位，與嚴重程度。@@//

&lt;&lt;linkreplace 前去檢查躺在地上奄奄一息的傷者&gt;&gt;&lt;hr&gt;
@@color:GRAY;你上前查看他的狀況，他的傷勢雖然不嚴重，卻僅能氣若游絲的躺在地上，似乎剛剛在頭部受到過什麼重擊所以留有一些血漬。@@
&lt;&lt;/linkreplace&gt;&gt;

&lt;&lt;linkreplace 前去檢查一對像是夥伴，彼此背靠背在休息的傷者&gt;&gt;&lt;hr&gt;
@@color:GRAY;你湊近他們想要詢問他們的狀況，其中一人惡狠狠地瞪了你一眼，顯然不好惹，但隨即閉目養神去。
他的夥伴像是知道了你的處境，語氣雖然痛苦，但是勉力對你說道@@//
「你別在意，他的脾氣就是這樣，不過熟了之後，其實很好相處的」

@@color:GRAY;看到有個切入點，你趕緊向那人問候傷勢，並詢問剛剛的情況，那人也勉力地回答你：@@//
「我的狀況還算不錯，雖然現在全身都很酸痛，但好在我的夥伴替我擋了幾下。」

@@color:GRAY;擋了幾下？你馬上詢問他們是不是受到了攻擊，但那人似乎痛得說不出話了@@//
「你不要煩他了吧！我們不知道被誰用奇怪的東西襲擊了好多下，最後的記憶就是看到那個啤酒肚大叔，然後就被抬來這裡了」
//@@color:GRAY;那個剛剛瞪了你一眼的人代替他的朋友回答了你，但就在你想要再問得更詳細時，他用不耐煩的口氣又說道@@//

「知道了就快離開吧，別打擾我們休息了！」
//@@color:GRAY;聽到這裡你也不好意思再多做詢問@@//
&lt;&lt;/linkreplace&gt;&gt;

&lt;&lt;linkreplace 前去檢查呆坐在地，扶著一隻手臂的傷者&gt;&gt;&lt;hr&gt;
//@@color:GRAY;你看向呆坐在地的傷者，並靠近了他。乍看之下他不像是能夠回答什麼問題，但未等你開口，他就伸出沒有受傷的手臂抓向你。@@//
「那些人一定有古怪！從測驗的開始就不斷神神秘秘的拋出訊息給我們，現在又發生了這件事情！」//@@color:GRAY;你聽他幾乎是略帶哭腔，快速的對你說了這些話，並隨即因為疼痛而將抓住你的手放開，往受傷的手扶去，然後又說道……@@//

「現在在場的大家還只是受傷的人的一半左右吧……那些人，尤其那個啤酒肚的為什麼進道廟裡了卻沒事，而且還多出了這麼多不明的男男女女在場，那些都是他們的人吧？」//@@color:GRAY;他的語氣一樣很快，向自自己也著急得在整理思緒，於是馬上又說道@@//

「難道他們假借是扶我們出來，實際上攻擊我們的就是他們……」//@@color:GRAY;他說的話讓你陷入恐懼，因為這也不是不可能。這也讓你想起@@@@color:Orange;凜夜@@@@color:GRAY;的話。然後就像是[[想起了什麼……|凜夜人呢？]]@@//
&lt;&lt;/linkreplace&gt;&gt;</tw-passagedata><tw-passagedata pid="35" name="於是你循聲音望去……" tags="" position="1050,725" size="100,100">//@@color:GRAY;循聲望去，果然是你剛在尋找的@@@@color:Orange;凜夜@@@@color:GRAY;，他正一瘸一拐的，獨自走了過來。@@//

&lt;&lt;linkreplace 趕緊上前攙扶。&gt;&gt;「抱歉阿，受了這麼大的傷，還沒有任何的調查收穫，可能要拖累你的調查了。」
//@@color:Orange;凜夜@@@@color:GRAY;有點為難的向你賠不是，但此刻也沒有人會對這樣的情境做任何責怪吧。

你感覺到附近人來人往的很不方便，所以馬上把他扶到離廟較為偏遠，剛剛你們休息的那棵榕樹下。沿途你問了他的傷勢，他雖然看起來有點狼狽，但是卻仍不改親切的神情跟你說他沒事，只要休息一下就好。

你此刻充滿疑惑，見@@@@color:Orange;凜夜@@@@color:GRAY;還算有精神，於是想要問他剛剛的情況。

剛要開口，他就先小聲地向你說道@@//
「剛剛把你留在外面是對的，他們那些人果然有問題，不然怎麼會出事的都是我們這些受測驗的人……」

@@color:GRAY;你们來到樹下之後，放眼望去，發現場上都是些在廳堂內、銀行前面就看過的人，除了那些多出來、看起來都沒有事情的男男女女。

這讓你連結了剛剛其它人說的話……@@
「雖然似乎不該在這個時候問這個，但你有其它發現嗎？」//@@color:GRAY;看來@@@@color:Orange;凜夜@@@@color:GRAY;還是對測驗的內容很有興趣，所以你一五一十地把許南英、著作等等的事情一五一十地說了出來……@@//

&lt;hr&gt;

「這些話你可不要和他們說……」//@@color:Orange;凜夜@@@@color:GRAY;聽完之後，語氣誠懇的說道@@//「或許我們被聚集起來，就是因為他們需要有人幫忙找到這些蛛絲馬跡，之所以現在的事情會發生，可能就是因為我們找到了足夠的資訊。」//@@color:GRAY;看到現在的狀況這般慘烈，你覺得這完全不無可能。@@//

「真是可惜，如果拳師這個事情是真的，我還真想在繼續往下挖掘下去。」

「但是按照現在這個情況，恐怕我們光是要自保就有點難度了……」//@@color:Orange;凜夜@@@@color:GRAY;一臉可惜地向你說了這些，讓你也同樣感到可惜。@@//

//@@color:GRAY;這時，廟埕之內塞滿了傷患，似乎進行測驗時受傷的大家都被帶了出來。@@//
「是說，你覺得許丙丁與拳師又是什麼關係呢？」//@@color:Orange;凜夜@@@@color:GRAY;像是保有著許多好奇心的繼續問了你。@@//

「許丙丁？真虧你們能調查到這裡啊……」//@@color:GRAY;不知何時，@@@@color:BLUE;宗哥@@@@color:GRAY;朝你們靠了過來，聽到了你們對話內容的他，像是要說什麼。

你馬上看向@@@@color:Orange;凜夜@@@@color:GRAY;，他又是一臉警戒，但似乎因為傷的關係沒有了先前的嚴肅神情。@@//

「你們很有潛力，一定能繼續查到更多資料的」//@@color:GRAY;這番鼓勵的話，在現在的情況看來，似乎帶著深意，難道他們還想要對你們做什麼！？@@//

「如果你們肯的話，還可以繼續試驗，以你們的……」//@@color:BLUE;宗哥@@@@color:GRAY;越說離你們越近，彷彿有什麼極大的壓力在向你們靠攏；@@@@color:Orange;凜夜@@@@color:GRAY;則是越來越緊張。

但他還沒說完，就被漸大的幾聲救護車的聲音打斷，而@@@@color:BLUE;宗哥@@@@color:GRAY;也將逐漸靠近你們的腳步停止下來，丟了一句@@//「等等受傷的人都來上車吧」//@@color:GRAY;便轉向受傷的人群走去。@@//

「真是可惜……」//@@color:BLUE;宗哥@@@@color:GRAY;暗自說道，但聲音仍被你們聽到了。@@//

&lt;hr&gt;

//@@color:GRAY;陸陸續續的，有救護車來到現場。除了鄰近的中正消防分隊，更有前來支援的其它分隊，有的分隊更是一次來了兩三台救護車。@@//

//@@color:GRAY;剛剛@@@@color:BLUE;宗哥@@@@color:GRAY;所說的「真可惜」是什麼意思？

你不禁思考起他話中的含意，是可惜於調查還不完全，還是對於沒有完整收拾你們感到可惜？

你對後者的想法感到不寒而慄。@@//

「夥伴……以你的能耐一定能夠祕密的調查完剩下的事情了，但是我恐怕得先隨他們去醫院一趟。」//@@color:Orange;凜夜@@@@color:GRAY;剛剛還很緊張，這時卻釋然的將調查的任務交給了你。@@//

「他們應該也會到醫院去，相信他們在醫護人員的眼皮底下，也不敢做些什麼」//@@color:GRAY;說笑之間，一名救護人員前來準備將@@@@color:Orange;凜夜@@@@color:GRAY;送上救護車。@@//

[[於是你也趕近上前攙扶，協助他站起來]]&lt;&lt;/linkreplace&gt;&gt;</tw-passagedata><tw-passagedata pid="36" name="繼續後續的調查，完成夥伴的心願。" tags="spoint" position="200,1000" size="200,200">//@@color:GRAY;這時的永華宮早已恢復平靜，剩下廟內人員與香客偶有交談，似乎是心有餘悸。

你知道，在這樹下，你有更多調查工作可以做，所以馬上展開了推理！@@//
&lt;&lt;run $clue2.delete(&#39;惜字亭&#39;)&gt;&gt;&lt;&lt;run $clue2.delete(&#39;窺園&#39;)&gt;&gt;&lt;&lt;run $clue2.delete(&#39;許特齊&#39;)&gt;&gt;&lt;&lt;run $clue2.delete(&#39;許南英&#39;)&gt;&gt;&lt;&lt;run $clue2.delete(&#39;許南英晚年&#39;)&gt;&gt;&lt;&lt;run $clue2.delete(&#39;私塾&#39;)&gt;&gt;
&lt;&lt;if $cluecount.includesAll(&#39;時機成熟1&#39;, &#39;時機成熟2&#39;)&gt;&gt;
&lt;&lt;include &#39;推理出拳師傳承&#39;&gt;&gt;
&lt;&lt;else&gt;&gt;
&lt;&lt;include &#39;推理2組合選單&#39;&gt;&gt;&lt;&lt;/if&gt;&gt;&lt;&lt;set $title4 to 1&gt;&gt;</tw-passagedata><tw-passagedata pid="37" name="於是你也趕近上前攙扶，協助他站起來" tags="epoint" position="1175,725" size="100,100">「謝謝，你可要加油啊」//@@color:Orange;凜夜@@@@color:GRAY;說罷便往車內走去，你看到他要做上的車裡，另外一位傷者的傷勢似乎不輕，在救護人員測量脈搏的時候仍不斷呻吟著。

這時候的你仍站在那棵樹下，茫然無措。

是要遠離一切自保，或是接續調查完成夥伴間的願望，還是……？@@//

&lt;hr&gt;
[[帶著愧疚就此離開此地，不再涉足這些事情|隨波逐流消逝在歷史之中]]

[[隨凜夜一同搭救護車到醫院，從此不再過問這些事情。]]

[[繼續後續的調查，完成夥伴的心願。]]</tw-passagedata><tw-passagedata pid="38" name="隨凜夜一同搭救護車到醫院，從此不再過問這些事情。" tags="epoint" position="1175,850" size="100,100">//@@color:GRAY;你邁開步子，趕上了救護車關門前坐了上去。@@

@@color:Orange;凜夜@@@@color:GRAY;一臉詫異，像是想要說什麼，但卻止住了，只是滿臉遺憾地閉目養神。

到了醫院之後，你僅是陪在@@@@color:Orange;凜夜@@@@color:GRAY;身邊，陪他做了很多檢查，幸好他真的傷的不輕，當天就出院了。

離院前，你與他談論是否要繼續測驗，但他似乎怕了。

所以你決定……@@//

[[還是繼續調查，道別獨自循原路回到永華宮|繼續後續的調查，完成夥伴的心願。]]

[[就此別過，不再過問。|隨波逐流消逝在歷史之中]]  </tw-passagedata><tw-passagedata pid="39" name="事不宜遲，馬上繼續推理" tags="" position="550,1000" size="100,100">//@@color:GRAY;徐徐的風吹來，樹下乘蔭的你感到一陣清爽，腦子裡的資訊也更加清晰無比。@@//

&lt;&lt;linkreplace 乘勢繼續推理。&gt;&gt;//@@color:GRAY;深吸一口氣之後，你馬上又陷入思緒當中，@@「革命日本政府」、「國民黨政府遷台」、「治安組長」@@color:GRAY;都是歷史課上曾教過的內容。

但這治安組長又是什麼呢？

颯颯風聲讓你重新整理了一下自己的狀態。

但舒服的風聲，馬上被一個不久前才聽到過的聲音給蓋過。@@//

&lt;h3&gt;磅！&lt;/h3&gt;

&lt;h3&gt;磅！&lt;/h3&gt;

//@@color:GRAY;兩道撞擊的聲音顯然是自你視覺的死角傳來，你才一轉身張望，馬上就見到一個龐然大物向你倒來。

是廟前那棵榕樹。

原本受金屬結構支撐的它，不知道為什麼向你倒下。但你現在也無暇思考，因為它已經在你勉強伸出的雙手之上被你撐著。

由於樹的本身還是有部分的根紮在土裡，多少提供了抓地力，所以它的重量不至於將你壓倒在地。但你仍因為出力不便，逐漸被壓得向後彎了腰，變成靠全身之力在苦苦支撐，臉也被埋在了樹幹之上擦出幾道血痕。

你知道你不可能在這個情況下支撐太久，於是開始後悔獨自完成試驗。

不知道@@@@color:Orange;凜夜@@@@color:GRAY;現在傷勢如何……，但在怎麼慘可能也沒有你現在這樣狼狽吧。若是沒有@@@@color:BLUE;宗哥@@@@color:GRAY;那伙人傷害其它測驗的人，自己可能還能得到幫助，但現在可能只有廟裡的人能夠幫忙了。

豈料，由於這裡是個視覺上的死角，廟裡似乎沒有人發現你的狀況，況且，沒有人能料到這棵果善固定的樹木還能這樣倒下。再沒有人來幫忙，你恐怕就要被這樣下去……@@

//「沓沓沓沓沓……」//@@color:GRAY;一道腳步聲逐漸變大，像是靠你逼近。

你受著臉上摩擦的疼痛，將臉轉至聲音來源。

自老街處，你看見@@@@color:BLUE;宗哥@@@@color:GRAY;怒容滿面的向你奔來。
這時你想到：隨著其他人的遭遇，你估計這下你恐怕也要被寫入此次試驗的傷亡名單之內。@@

@@color:BLUE;宗哥@@@@color:GRAY;見你視線，馬上就操著你無法想像的冰冷語氣說道@@//

「嘿……朋友……這可終於抓到你了……」


//@@color:BLUE;宗哥@@@@color:GRAY;用著與以往不同的森嚴語調，帶著殺氣的繼續說道@@//
「你難道會覺得，自己能仗著這樣程度的能耐，逃出我們的手掌心嗎？」
//@@color:GRAY;逃出手掌心……？至今的一切殘忍行徑，看來就真的都是出自@@@@color:BLUE;宗哥@@@@color:GRAY;一伙的手筆了吧？@@//

//@@color:GRAY;難道，@@@@color:BLUE;宗哥@@@@color:GRAY;看似可靠的一直注意著大家的安危，背地裡其實是在監視大家嗎？

回想起來，試驗開頭的可疑信件、莫名的傳資訊到我們手機，然後一直到了這座廟開始，連同所謂天地會的遺址都神神秘秘的。

莫非這都是為了重傷拳師一眾，甚至是我們這些未來的拳師？你馬上想起其中一些傷患的話。

他是怎麼找到我們的破綻的？這個試驗難道是陷阱？

不安、不甘、困惑的情緒向你襲來，你苦撐著老樹的力氣彷彿因此而洩掉了一些……@@//

//@@color:BLUE;宗哥@@@@color:GRAY;在你思考這些問題的短短時間內，馬上就與你拉的十分靠近@@//
「這下你可無以逃竄了……哈哈，接我一掌吧……」
//@@color:BLUE;宗哥@@@@color:GRAY;不等說完，早就襲來一掌，說話的聲音居然宏大的在廟埕之內迴盪了起來，造成了附近建築結構的震動。

你被聲音震得耳朵發痛，根本無法品味@@@@color:BLUE;宗哥@@@@color:GRAY;本該詼諧的哈哈一笑，背後隱藏的殺意。

撲面的掌風加上重物的壓迫感，讓你幾近窒息，這樣的情勢之下你早已避無可避。這讓你……@@//

[[直面掌擊，靜待一切變卦|宗哥Carry]]

[[聽天由命，後悔加入這次的測驗|宗哥Carry]]@@//
&lt;&lt;/linkreplace&gt;&gt;</tw-passagedata><tw-passagedata pid="40" name="揭露" tags="" position="800,1000" size="100,100">//@@color:GRAY;操著奇怪的兵器，與@@@@color:RED;莉莉@@@@color:GRAY;、@@@@color:BLUE;宗哥@@@@color:GRAY;展開對峙的，是你以為很親切的@@@@color:Orange;凜夜@@@@color:GRAY;，剛剛磅、磅的撞擊聲與逼近的腳步聲，恐怕其實是是他的。
@@//

//@@color:GRAY;原來到廟裡調查、去醫院稍作修養都是騙人的，實際上是抽身在幹這些壞事……。

連月琴一事都是假的，實際上背著的是這樣的兵器，他竟能操動這樣體積的東西嗎？

另外，其他受傷的人，有多少是假意要休息卻趁大家不備重傷大家的？@@//

「『春仔花』那邊的人，腳步身法雖然重，但拳腳上竟有這般長進？」
//@@color:BLUE;宗哥@@@@color:GRAY;口氣嚴厲，但卻是給予肯定。@@//

「『拳師』一眾卻是倒退無比，竟讓我們混入了重要的試驗！」
//@@color:Orange;凜夜@@@@color:GRAY;一改親切，面部扭曲、口氣嚴厲的說道。@@//

@@color:RED;「宗哥，別和他廢話了，你的能耐可不只如此。」@@
//@@color:RED;莉莉@@@@color:GRAY;語氣平淡，雖然透漏著肯定，但也顯露出不耐煩。@@//

「莉莉，我還沒套完話呢……」
//@@color:BLUE;宗哥@@@@color:GRAY;又發出一套嚴密的拳腳招式襲向@@@@color:Orange;凜夜@@@@color:GRAY;。@@//

「套話？你是不是小看我了？」
//@@color:Orange;凜夜@@@@color:GRAY;嘴上說的不疾不徐，兵器與拳腳卻相反的如狂風般舞動，招式也是嚴嚴實實。@@//

「根據你操作的兵器，你是『Emily』的手下的吧？難道你們還沒學乖？」
//@@color:BLUE;宗哥@@@@color:GRAY;厲聲發問，@@@@color:Orange;凜夜@@@@color:GRAY;則輕蔑的回覆道@@//
「首領的名號你叫的親切，但招式上倒是沒有首領的那般狠勁。」

//@@color:GRAY;此等激戰場面，你看的心驚膽顫，畢竟這不是在尋常的生活中能看到的危險情況。但@@@@color:RED;莉莉@@@@color:GRAY;卻是泰然自若，僅帶有幾分警戒。@@//

//@@color:GRAY;似乎你們總是沒機會說上話，且總是在你很狼狽的時候才有機會接觸。

可能是為了排解焦慮，你喘了口氣便向@@@@color:RED;莉莉@@@@color:GRAY;…@@//

&lt;&lt;linkreplace 詢問情況，試圖理清現況&gt;&gt;
//@@color:GRAY;你嘗試詢問情況，試圖理清一切，@@@@color:RED;莉莉@@@@color:GRAY;將目光從戰鬥知中移開，先是慎重地看了看你。

見你有了生氣。@@@@color:RED;莉莉@@@@color:GRAY;先是將你從跌坐狀態中扶起，接著才向你解釋道@@//

@@color:RED;「目前的狀況已經明朗很多，你本來的伙伴，是我們的死對頭，也就是盜賣歷史的那群人。過去，我們都叫他們『怪盜』」@@

「怪盜？」
//@@color:GRAY;你不解地詢問@@@@color:RED;莉莉@@//

@@color:RED;「他們和拳師一樣存在許久，但我們無從知道他們販賣歷史的動機。」

「若僅是尋常的盜取文物，通常也只是貪財的匪盜一眾，我們通常會和警察那邊的朋友合作來通緝他們。」

「但他們偷的東西太重要了，若不加以制止，恐怕台灣的年輕一輩就要失根。況且，他們還是集團行動的。」@@
&lt;hr&gt;&lt;&lt;/linkreplace&gt;&gt;

&lt;&lt;linkreplace 詢問@@color:RED;莉莉@@是否也是拳師&gt;&gt;
//@@color:GRAY;你嘗試詢問@@@@color:RED;莉莉@@@@color:GRAY;是否也是拳師，@@@@color:RED;莉莉@@@@color:GRAY;模稜兩可的回應你……@@//

@@color:RED;「是，但也不是。」@@

//@@color:GRAY;見你不解，@@@@color:RED;莉莉@@@@color:GRAY;解釋道@@//

@@color:RED;「曾經我也是一名拳師，但後來輾轉到後勤單位，直到我失去了……」@@

@@color:RED;「總之，我與@@@@color:BLUE;宗哥@@@@color:RED;已是舊識，現在要回來重新加入拳師的任務。」@@
//@@color:GRAY;見@@@@color:RED;莉莉@@@@color:GRAY;欲言又止，你也不好意思打探太多隱私，只能暫且如此，即便你仍有諸多不解。@@//
&lt;hr&gt;&lt;&lt;/linkreplace&gt;&gt;

&lt;&lt;linkreplace 詢問@@color:BLUE;宗哥@@的事情&gt;&gt;
//@@color:GRAY;你嘗試詢問@@@@color:BLUE;宗哥@@@@color:GRAY;的事情……@@@@color:RED;莉莉@@@@color:GRAY;回應道@@//

@@color:RED;「@@@@color:BLUE;宗哥@@@@color:RED;據我所知就沒有這麼複雜了。」@@

@@color:RED;「如你所見，是個各方面都很可靠的拳師前輩，但是笑話功力讓我不敢恭維。」@@
//@@color:GRAY;一旁的@@@@color:BLUE;宗哥@@@@color:GRAY;一定有聽見，所以招事上不小心落後了一點，但勉力挽救後又戰了個平手，沒有受傷。@@//

@@color:RED;「別看這樣，他的身手不錯，而且是個技術不錯的攝影師。」@@

@@color:RED;「有機會再和你慢慢介紹吧，那邊也快差不多了。」@@
&lt;hr&gt;&lt;&lt;/linkreplace&gt;&gt;

&lt;&lt;linkreplace 提議一起加入戰鬥&gt;&gt;
@@color:RED;「別開玩笑了，以我的能耐，與一般混混鬥上一鬥還有可能。」@@

@@color:RED;「但是面對此等敵人還是有所不足，剛剛他們的打鬥早就讓我看出了與他的差距。」@@

@@color:RED;「況且你也不是什麼戰鬥長才的人，更別說你的狀況有多差了。你可別白白傷了身體，最後當不成拳師，還回不去原本的生活。」@@
//@@color:RED;莉莉@@@@color:GRAY;說得有些嚴厲，卻也真真切切，並且顯露了為你著想的態度。@@//

「那這樣的我……也能當上拳師嗎……」
//@@color:GRAY;你的話顯現了對自己的不足產生的疑惑，@@@@color:RED;莉莉@@@@color:GRAY;卻是一樣不帶任何偏見，真誠的回應你。@@//
@@color:RED;「拳師工作的主軸不是打打殺殺，而是對許多對歷史真相的探究。」@@

@@color:RED;「你的推理長才、本身的特質，以及心繫這片土地歷史的的心意，才是讓你成為拳師的條件。」@@

//@@color:RED;莉莉@@@@color:GRAY;的一番話讓你寬慰不少，這時的你舒了一口長氣，像是慶幸自己並非累贅。@@//
&lt;&lt;/linkreplace&gt;&gt;

&lt;&lt;linkreplace 還是別多想了，緊盯戰鬥&gt;&gt;
//@@color:BLUE;宗哥@@@@color:GRAY;、@@@@color:Orange;凜夜@@@@color:GRAY;纏鬥良久，即便兩人年紀有著極大差異，但雙方仍不落下風的[[繼續出招、拆招。]]@@@@color:GRAY;你看著看著，便無從分心到@@@@color:RED;莉莉@@@@color:GRAY;身上。@@//&lt;&lt;/linkreplace&gt;&gt;</tw-passagedata><tw-passagedata pid="41" name="繼續出招、拆招。" tags="" position="925,1000" size="100,100">//@@color:GRAY;這場比試已經從招式的優異，逐漸變成了雙方專注度的拚比。@@//

「你的能耐我已摸清了，招式的狠辣程度直逼『你們首領』沒錯，但恐怕你還有幾招沒有學會……」
//@@color:BLUE;宗哥@@@@color:GRAY;語帶清挑，似乎是要讓@@@@color:Orange;凜夜@@@@color:GRAY;心生動搖，豈料@@@@color:Orange;凜夜@@@@color:GRAY;卻是輕鬆地回應。@@//

「你這話又是怎麼說？難道你能夠使我這兵器九九八十一招的功法？」

「確是不能……」//@@color:BLUE;宗哥@@@@color:GRAY;不疾不徐，回應道@@//「但是這一招卻是從你身上看不到的東西。」
//@@color:BLUE;宗哥@@@@color:GRAY;語罷，就一改先前端正好看的架式，使了一個扭曲身形的怪招，將@@@@color:Orange;凜夜@@@@color:GRAY;的怪異兵器卸了下來，輕巧的拋給了@@@@color:RED;莉莉@@@@color:GRAY;。@@//

「咦！？」
//@@color:Orange;凜夜@@@@color:GRAY;一聲驚嘆，見到仍滯於半空的兵器，轉身就要去奪，但@@@@color:BLUE;宗哥@@@@color:GRAY;哪裡肯讓他離開。@@//

&lt;h3&gt;「碰！碰！碰！碰！碰！」&lt;/h3&gt;
//@@color:BLUE;宗哥@@@@color:GRAY;見他失去了對自己的專注，便陡發招式向@@@@color:Orange;凜夜@@@@color:GRAY;襲去。@@@@color:Orange;凜夜@@@@color:GRAY;此時門戶大開，讓@@@@color:BLUE;宗哥@@@@color:GRAY;有了發揮空間。

一連五招，勁力發的老辣！硬是將@@@@color:Orange;凜夜@@@@color:GRAY;打得站立不住。@@

@@color:Orange;凜夜@@@@color:GRAY;受了重擊即將倒下之際，@@@@color:BLUE;宗哥@@@@color:GRAY;又是迅捷的身法，幾個跨步就靠近了@@@@color:Orange;凜夜@@@@color:GRAY;，並將他[[制伏在地]]，速度明顯比他剛才纏鬥時快捷很多。@@//</tw-passagedata><tw-passagedata pid="42" name="制伏在地" tags="" position="1050,1000" size="100,100">//@@color:GRAY;隨著宗哥的壓制，方才拋出的怪異兵器同時也落了下來。@@

@@color:RED;莉莉@@@@color:GRAY;雖然因為它的重量而差點拿不住，但有了你機警的出手幫忙，讓東西不至於砸了你們的腳。@@//

「警局那邊的朋友，泡茶的技術是差了點，但教我們的手法倒是純正有效。」
//@@color:BLUE;宗哥@@@@color:GRAY;又回到輕鬆的態度，但壓制的手倒是箝的像鐵箍般緊密，讓@@@@color:Orange;凜夜@@@@color:GRAY;又驚又怒@@//

「老傢伙，你剛才使什麼妖法？！」
//@@color:Orange;凜夜@@@@color:GRAY;不耐的大吼，神情完全沒有了先前的親切可鞠。@@//

「妖法倒不至於啦，使的是『Emily』的妙手空空手法。」

「首領的招式豈是你能學會的…！！！」
//@@color:Orange;凜夜@@@@color:GRAY;失態的繼續大吼。這句話其實不是問句，但@@@@color:BLUE;宗哥@@@@color:GRAY;的個性哪裡會放過這個講幹話機會？@@//

「他的偷盜技巧我是不可能學全啦，但只是一些雞鳴狗盜的小身法倒是能簡單上手。」
//@@color:BLUE;宗哥@@@@color:GRAY;像是在回想什麼@@//「嗯～」//@@color:BLUE;的一聲後又回道@@//
「雖然我很想叫你去問問他，是不是有丟了什麼東西在我們這裡，但是我可不能放你走啦，哈哈～」
//@@color:GRAY;嘻笑之間，數個衣著俐落的男男女女向@@@@color:BLUE;宗哥@@@@color:GRAY;走來、行了略帶正式的禮，並有一人發話@@//

「昇宗大哥，潛入此次試驗的怪盜們都已擒獲，其餘傷者也都適當的包紮完畢，且待你的發落。」
//@@color:GRAY;這時你看清楚了發話之人，是個頭上有著數道刀疤的壯年男子，其他人則都是些你在選隊友時沒機會接觸的人們，原來這次的試煉真的是精心策畫的，但是是在一定程度的保護之上。@@//

「感謝各位的挺力相助，這次的事情就不用特別稟上『拳不二』老人家了，連同這個人一起帶到警局的朋友那裏吧！」
//@@color:BLUE;宗哥@@@@color:GRAY;輕巧的一拉、一提，@@@@color:Orange;凜夜@@@@color:GRAY;就因為受痛而配合著站起身來，並由刀疤男子接過去，整個過程如行雲流水，展現了他們各自的深厚功力。@@//

「是什麼東西讓你撿走了，你倒是說阿！」
//@@color:Orange;凜夜@@@@color:GRAY;雖然沒了剛才的勢頭，但仍然嘴上不留情面的罵著。@@//
「就憑你們拳師的水平，怎麼可能隨隨便便就習得首領的一招一式！」

//@@color:GRAY;刀疤男子聽到@@@@color:Orange;凜夜@@@@color:GRAY;出言不遜，便以冰冷且帶殺氣的口氣向@@@@color:Orange;凜夜@@@@color:GRAY;說道@@//
「你聽著……這位小兄弟……，道上的人我見多了，但沒有一個可以這樣對@@color:BLUE;昇宗大哥@@講話的。」

「你就別和他一般見識了。」//@@color:BLUE;宗哥@@@@color:GRAY;輕鬆地說道@@//「你可別讓怪盜一眾有了我們是混道上的人的錯覺呀！」

「是，昇宗大哥，我不會再與他廢話。」//@@color:GRAY;刀疤男子敬重的回應@@//

「小兄弟，就當作剛好分享給新人知道，就一齊說給你聽吧。」//@@color:BLUE;宗哥@@@@color:GRAY;看了看你，又親切的對@@@@color:Orange;凜夜@@@@color:GRAY;解釋道@@//

「隨著經手的案件多寡，或是累積對事件的調查，我們拳師能夠某種程度的去聽見『物』的聲音。」
//@@color:BLUE;宗哥@@@@color:GRAY;吸了口氣，又道@@//「即便不才如我，僅能聽見若干的資訊，但透過對『物』的歷史的不輟挖掘，都能夠旁敲側擊的理解很多事情……」

「況且，你們那雞鳴狗盜的事情，又是這麼的粗短不堪。」//@@color:BLUE;宗哥@@@@color:GRAY;的這句話向是想起了什麼，變的森嚴、恐怖。@@//

「把他帶走吧，我們還要繼續試驗呢。」

「是！」
//@@color:GRAY;刀疤男子簡短但慎重的道別後，便催促著@@@@color:Orange;凜夜@@@@color:GRAY;，並與其他拳師一眾領著其餘怪盜，逐漸遠去。@@//

//@@color:BLUE;宗哥@@@@color:GRAY;見事件結束，便[[向在一旁呆若木雞的你道歉。|準備得到夥伴莉莉]]@@//

/*
//@@color:GRAY;13132131321321@@//

//
@@color:GRAY;13132131321321@@
//

@@color:RED;莉莉@@
@@color:BLUE;宗哥@@
@@color:Orange;凜夜@@

&lt;&lt;linkreplace 你仔細觀察四周&gt;&gt;
123
&lt;&lt;/linkreplace&gt;&gt;

&lt;img src=&quot;https://drive.google.com/uc?id=1T8jfqXyRcWOzELnlK8t7VXt8ybaXRrWn&quot; width=&quot;300(px)&quot;&gt;
*/</tw-passagedata><tw-passagedata pid="43" name="準備得到夥伴莉莉" tags="" position="1175,1000" size="100,100">「不好意思，讓你們這些人蒙受了嚴重的危害」

//@@color:BLUE;宗哥@@@@color:GRAY;十分誠懇的向你拜了個禮，這讓你不由得感到不好意思，並回了個禮，但你顯然不擅長這個。@@//

「試驗仍然可以繼續下去，但是你不能沒有夥伴。」//@@color:BLUE;宗哥@@@@color:GRAY;笑了笑，然後朝你身旁的人望去。@@//
「@@color:RED;莉莉@@，這位新人與這個試驗，就麻煩你帶著一同繼續了！」@@color:GRAY;

你望向一旁的女性，他也與你對望。@@//

@@color:RED;「先前便想與你合作，但是中途為了引出怪盜，所以有了些變卦。」@@
//@@color:RED;莉莉@@@@color:GRAY;放下了與你一同扛著的沉重兵器後，向你伸出了手。@@//

你手忙腳亂地回過神，[[同樣放下兵器後，與他握手。|準備結局囉]]</tw-passagedata><tw-passagedata pid="44" name="準備結局囉" tags="" position="1300,1000" size="100,100">「相信你們很快就能完成測驗，到時候再來找我吧。」
//@@color:BLUE;宗哥@@@@color:GRAY;拍了拍身上因為戰鬥而沾上的灰塵，順帶整理了自己的裝束。@@//
「先走一步，路口那間關東煮一直……一直～在呼喚我，我不能放著不管阿，嘿嘿……」//@@color:GRAY;說完就逕自穿過你和@@@@color:RED;莉莉@@@@color:GRAY;，往很漂亮的老街離開了。

你絕對看到了@@@@color:RED;莉莉@@@@color:GRAY;翻了個白眼。@@//

「好啦！別管他了，我們繼續吧。」

「接下來我會提供部分的協助，但因為我已經知道答案了，沒辦法幫你太多忙，不然就失去測驗的意義囉。」//@@color:GRAY;聽完了@@@@color:RED;莉莉@@@@color:GRAY;一番話，你覺得有了很大的信心，有他在，未來你們應該可以有不少作為！

於是你分享了當下你得到的許多資訊，把思考的方向放在許丙丁、湯德章以及他們所處年代的種種，@@//[[然後繼續了剩下的推理。|然後繼續了剩下的推理]]</tw-passagedata><tw-passagedata pid="45" name="然後繼續了剩下的推理" tags="epoint" position="1450,1150" size="100,100">//@@color:GRAY;在你繼續推理之前@@@@color:RED;莉莉@@@@color:GRAY;對你簡短的說明了相關的一段故事。@@//
「剛才你了解到湯德章赴日留學前的難處，以及他回國後的事蹟對吧？」
//@@color:GRAY;你點了點頭。@@//
「就在他歸國的隔年，許丙丁也辭去了警務，以過去擔任警職的經驗出了一本書，當時就有湯德章撰寫的書序。」//@@color:RED;莉莉@@@@color:GRAY;接著說@@//
「但是後來許丙丁轉入政壇後，他們兩個身為拳師的故事才是真正的精華，是我們這一代人都能隱隱感到傷痛的經歷。」
&lt;&lt;run $clue3.pushUnique(&#39;許丙丁&#39;)&gt;&gt;&lt;&lt;run $clue3.pushUnique(&#39;湯德章&#39;)&gt;&gt;&lt;&lt;run $clue3.pushUnique(&#39;國民政府遷台&#39;)&gt;&gt;&lt;&lt;run $clue3.pushUnique(&#39;治安組長&#39;)&gt;&gt;
//@@color:GRAY;循著這番話，你已有所感，並馬上展開推理。@@//

&lt;&lt;include &#39;推理3組合選單&#39;&gt;&gt;

&lt;&lt;if $cluecount.includes(&#39;結論出現&#39;)&gt;&gt;//@@color:GRAY;你已推論出結論，@@&lt;&lt;link &#39;將結論告訴@@color:RED;莉莉@@@@color:GRAY;。@@//&#39;&gt;&gt;&lt;&lt;goto &#39;將結論告訴莉莉&#39;&gt;&gt;&lt;&lt;/link&gt;&gt;&lt;&lt;else&gt;&gt;&lt;&lt;/if&gt;&gt;</tw-passagedata><tw-passagedata pid="46" name="結結結結結結結結結局" tags="" position="1700,1150" size="100,100">&lt;&lt;set $finalanswer to &#39;&#39;&gt;&gt;
請輸入地點：&lt;&lt;textbox &#39;$finalanswer&#39; &#39;&#39; autofocus&gt;&gt;
&lt;span id=&#39;textbox-reply&#39;&gt;&lt;/span&gt;
&lt;span id=&#39;textbox-submit&#39;&gt;\
  &lt;&lt;button &#39;輸 入&#39;&gt;&gt;
	&lt;&lt;set $finalanswer to $finalanswer.trim().toLowerCase()&gt;&gt;
	  &lt;&lt;if $finalanswer is &#39;湯德章&#39;&gt;&gt;
		&lt;&lt;goto &quot;輸入地點&quot;&gt;&gt;
	  &lt;&lt;elseif $finalanswer is &#39;湯德章他家&#39;&gt;&gt;
		&lt;&lt;goto &quot;輸入地點&quot;&gt;&gt;
	  &lt;&lt;elseif $finalanswer is &#39;湯德章家&#39;&gt;&gt;
		&lt;&lt;goto &quot;輸入地點&quot;&gt;&gt;
	  &lt;&lt;elseif $finalanswer is &#39;湯德章的家&#39;&gt;&gt;
		&lt;&lt;goto &quot;輸入地點&quot;&gt;&gt;
	  &lt;&lt;elseif $finalanswer is &#39;湯德章故居&#39;&gt;&gt;
		&lt;&lt;goto &quot;輸入地點&quot;&gt;&gt;
	  &lt;&lt;elseif $finalanswer is &#39;台南市中西區友愛街115巷11號&#39;&gt;&gt;
		&lt;&lt;goto &quot;輸入地點&quot;&gt;&gt;
	  &lt;&lt;else&gt;&gt;
		&lt;&lt;goto &quot;輸入地點，回答錯誤&quot;&gt;&gt;
	  &lt;&lt;/if&gt;&gt;
  &lt;&lt;/button&gt;&gt;
&lt;/span&gt;
@@color:GREEN;若要輸入地址，請輸入完整地址。@@</tw-passagedata><tw-passagedata pid="47" name="輸入地點" tags="" position="1825,1150" size="100,100">//@@color:GRAY;僅僅十分鐘的路程，你與@@@@color:RED;莉莉@@@@color:GRAY;繞過孔廟，沿友愛街往西北方移動，在市場處左彎，逐漸靠近了久候在此的@@@@color:BLUE;宗哥@@@@color:GRAY;。@@//

「來的好，完成的謎題有帶來嗎？」

//@@color:GRAY;你出示了你的手機畫面，@@@@color:BLUE;宗哥@@@@color:GRAY;大略的看了幾眼，隨後就點了點頭。@@//

「能來到這邊、又完成了前面的試驗，這些都不是偶然為之就能完成的，你做的好。」

「接下來，我就向你詳細的解說這一切的歷史吧。」

//@@color:RED;莉莉@@@@color:GRAY;似乎知道會講很久，又不知道從哪裡拿出了糖葫蘆，塞在口中。@@//

//@@color:GRAY;接著@@@@color:BLUE;宗哥@@@@color:GRAY;整理了神態後，吸一口氣，@@//[[並向你娓娓道來。|並向你娓娓道來]]</tw-passagedata><tw-passagedata pid="48" name="並向你娓娓道來" tags="" position="1950,1150" size="100,100">台灣這片土地的歷史很長，但有紀錄的開墾歷史是從明朝開始。

相傳許南英的先祖許超就是在這段時間遷居到台南赤崁，時任教蒙塾老師。
當鄭氏父子來台攻克荷蘭人佔領的台南時，已是百多年後，許超後代在這些戰事之中，也有過一些幫助。

除了帶來教育、軍備之外，鄭成功他們當時也帶來了天地會的勢力，並有了許多的建設。
其中就有先前大家參訪的鳳山宮。

作為天地會秘密活動的據點之一，鳳山宮仍然被保護得不錯。即便鄭氏王朝敗亡、他們將天地會的花名冊、玉印等重要事物封鑄鐵箱之中，或是清朝政府大力清掃南明餘黨，都還是有了重修、改建的紀錄。

&lt;&lt;linkreplace 隱隱於市&gt;&gt;&lt;hr&gt;

估計是反清復明的旗號早就悄然的變為「留漢」，各方志士也默默的在鄉野之間殘存著。而有能力的，更是透過國家考試進入國家體系，繼續著保留文化的志業。

後來天地會爆發了林爽文事件、戴潮春事件，這已經是鳳山宮更名為永華宮的一、兩百年後。曾經有有功名的許超後代、許特齊的父親致力著代代流傳的天地會教訓，不斷的照顧著永華宮，並以之默默的作為活動據點。

直到許特齊一輩才又透過開立「窺園」，以教育深入當地，讓下一代來保留文化，可惜許特齊不久便逝世。

當時代最鄰近的民變就是戴潮春事件，也許是整合了天地會長久以來的教訓，許南英知道天地會可以繼續參與，但僅憑他們的一股武勇戾氣就想要保留文化是有極大難處的。於是在許南英也有了功名後，並沒有擔任官職，而是替天地會志業開闢蹊徑：他依隨代代的志業，先與吳樵山等人在竹溪寺設立崇文社，後又在窺園設立學塾，命名為「聞穉學舍」，延續了以教育、文化活動留漢的志業。

在那段時間內，他也和各地的能人志士有所來往，其中不乏名滿台灣的大人物，例如丘逢甲。此時各地的能量終於匯聚，眼看漢人文化的保留志業已然有了成熟的環境，許南英又秘密籌備了永華宮的重修作業。

後來許南英又奉唐景崧之命，在編撰台灣通誌的作業之中，協助台南的相關內容，似乎一切環境都有利於他，以及他從事的任務。

然而，他沒料到大清政府的頹勢。

甲午戰爭的失利，讓清政府在隔年割讓了澎湖、台灣等地，這也促成了乙未戰爭。

當時各地鄉紳群起想要反抗這等劣勢，於是推舉唐景崧為台灣民主國總統，但唐景崧在交割後的幾天便遁逃廈門。先前因為與唐景崧交惡而被派至台南的劉永福得訊後，命許南英辦團練所，一時頗有拳師組織的風範，許南英也秘密以此對部分信得過的世族、好友進行留漢志業的最後準備，聲勢水漲船高。

然而，一切並沒有如聲勢般好轉，日軍仍然進入了台南，誓要將許南英捉拿到案的日本政府將許南英的畫像告示四處張貼在台灣府內。所幸許南英的聲望甚好，得地方的許多人協助，將他送往廈門，並於一段時間後與年僅三歲的四子許地山重逢於桃都。&lt;&lt;/linkreplace&gt;&gt;

&lt;&lt;linkreplace 漢人土地二次易主&gt;&gt;&lt;hr&gt;

面對清廷的戰敗，許南英看到漢人文化二次交與他邦，備感抑鬱，於是得兄弟的推薦與籌備，往東南亞海外旅行，並替別人修自傳。

許南英晚年曾來台訪親，順道看看自己過去的物業、建築。當時已經是日本的天下，日本政府曾派人詢問許南英是否想任官職，並且將過去的土地交還於他，許南英婉拒之，但也秘密地告訴族人與眾多好友，若作為精神象徵的永華宮有什麼重大的變故，定要不惜一切保全之，若自己有殘餘的產權、物業，也儘管多加利用。後來日本政府在1924年將廟地徵用來建造台灣銀行，拆了永華宮，許家族人與當年交好的世家動用了許多力量，才將他遷至六合境柱子行的現址加以修建。

回到中國的許南英同樣沒有閒著，他一改頹態，開始發奮編寫、整理詩詞作品以及年表，於是便有了紀錄大量亡國哀恨、思念故土的《窺園留芳》一書的內容。

撰寫期間，他將部分拳師的故事暗自引渡於其中，並也在後來將拳師的志業傳於四子許地山。

長期居住在中國的許地山也很爭氣，雖然無法親自參與拳師志業，但他仍在父親身故後，幫忙籌措整理了整套的《窺園留芳》、《窺園詞》、《窺園先生自訂年表》並彙集成冊。他自己也在文化研究上多有貢獻，曾發表過數篇精心考究的論文。

明面上，他將《窺園留草》之中，拳師相關的內容隱去，印了500份用做收藏、分贈親友；但實際上他也將父親撰寫的拳師相關的內容保留下來，將此特殊版本印製了數本，待日後有機會能夠用上。

後來台灣四處在日本的統治之下，仍有多起民變、社會運動等，能人志士更是人才輩出。見時機成熟的許地山，在清政府與日本政府的眼皮子底下，以訪問交流的名義，與身處台南故居的眾位友好世家進行交流，甚至將含有拳師相關內容的窺園留草贈與許丙丁。當時在鄉里之間被譽為俠士的湯德章也受邀見面，許、湯兩人也因此認識，成了拳師同伴，開啟了雙人活動的慣例。&lt;&lt;/linkreplace&gt;&gt;

&lt;&lt;linkreplace 拳師志業交付新人&gt;&gt;&lt;hr&gt;

當時湯德章、許丙丁都認有警務，受職務之便很容易能走訪各地，因此也在地方上都各有一些影響力。許丙丁用音樂、漫畫記錄著漢人的文化、歷史，湯德章則透過職務，協助各地受欺壓的漢人。

然而湯德章體內一半的日本人血液卻沒讓他在社會上得到太多幫助，反而在工作上遭到了歧視。身為焦吧哖事件受害者的他，少時憑著對正義的執著，勤修苦練，在武術與學識上都有了一些成就，於是也得到了警職。但是當年日本人對台灣人的諸多歧視，以及對日本高官、富賈的各種便門，都讓他感受到了不平等的對待，甚至是被同為警察的同儕排擠。

在這份矛盾之下，他僅能與許丙丁、以及家鄉的親友告辭，赴日本重新開始生活。當時許丙丁知道自己做為道地的漢人，無法全盤理解他身分認同上的痛苦，所以也無多做挽留。拳師組合就此打散。

到了日本求學的湯德章，感受到殖民地與帝國本地開明氛圍的差異，於是順風順水的在課業上大有進步，順利地得到了擔任律師的資格。

正義的心再度燃起，他沒有選擇在日本擔任要職，而是決定回到台灣，繼續對抗不公，以及延續拳師志業。並且在歸台後成為當地知名的律師，名震一時。

或許是受到鼓舞，許丙丁也在隔年辭去警務，並以過去的經驗，加上身為拳師時的調查，作了一本書，並邀湯德章作序文。拳師志業，又再次步上軌道。

日本政權像是感受到了這股騷動，在隔年也結束了對台灣的殖民。

&lt;hr&gt;

國民黨政府接管台灣之初，各地人民可以說是歡天鼓舞，但他們馬上就因為國民黨政府、國民黨軍的各種蠻橫行徑，而被戳破了美夢的泡泡。

於是許丙丁轉戰政務，於1945年當選了台南市參議員，想以此為根柢繼續疏通拳師的志業。隔年又祕密的連結當地的朋友們，重修了精神象徵的永華宮。

然而，及便做再多的努力，拳師也仍差點失傳……
&lt;&lt;/linkreplace&gt;&gt;


&lt;&lt;linkreplace 拳師的危機&gt;&gt;&lt;hr&gt;
就在重修永華宮的隔年，挾著國共內戰的緊張氛圍，台灣爆發了228事件。

雖然事件發生地點遠在北部，但是各地激憤的心情卻傳染得很快。台南市的二二八事件處理委員會，也快速的在1947年的3月5號成立，由當地知名的人物們擔任要職。希望能藉此來達成一些和平的訴求。

其中湯德章因為地方人權律師的聲望，被舉派為治安組長，負責維護當地的和平。

抱病擔任的湯德章靠著許丙丁與其他拳師的幫助，很快讓台南得到了事態的控制。但沒有人能料到這個「訴求和平」的假象是由陳儀營造出來的，實際上他還是暗自聯絡軍隊來台鎮壓。於是台南，乃至湯德章自宅就這麼變成了軍隊肅清台灣人民的場所之一。

當時紀載有拳師內容的《窺園留草》一書、拳師相關名冊，以及當時在台南發起反抗的人員的名單，都是由湯德章保管，卻不巧碰到此事。

為了不讓拳師的事蹟被國民黨知曉，他也只能命人盡快將相關資料焚毀免留後患。但這樣的事情怎麼可能逃得過國民黨軍的眼睛？為了阻止焚燒資料、並且逮捕湯德章，國民黨軍開始了武力的手段，而湯德章也施展畢生所學的一切招法，勉力保護這一切。

兩拳難敵四手，且資料早已妥善處理完畢，得知情勢趨緩的湯德章在戰鬥之中鬆了一口氣，但就是這一口氣讓他突然有了破綻，於是也受到逮捕，最後被槍擊死亡。

拳師的歷史，最後就差點斷送在這裡。&lt;&lt;/linkreplace&gt;&gt;

&lt;&lt;linkreplace 拳師的未來……&gt;&gt;&lt;hr&gt;
//@@color:GRAY;說道這裡，你看見@@@@color:BLUE;宗哥@@@@color:GRAY;擺出了先前講到同伴的事情時，露出的表情。但很快他就喘了口氣，然後又說@@//

「但我們拳師一輩，仍然保存了下來」

「當初被焚毀的《窺園留草》僅僅是拳師的部分。許丙丁後來稍加採訪眾人，就將內容調查的差不多了，甚至還在1962年時在台北展開了校對、出版的事情。」

「真正難以被保存的不只是這些書籍內容，而是人們再次鼓起勇氣保護歷史的心。」

「當年湯德章的逝世，對許丙丁影響甚大。當時也有不少人就此離開了拳師的工作。」
//@@color:BLUE;宗哥@@@@color:GRAY;略帶失望，但是又抱持著理解的態度，接著說@@//
「許丙丁數年之後出席湯德章母親的葬禮時，也是十分的難過。但這並沒有讓他中斷了拳師的工作。」//@@color:GRAY;接著他吞了口口水@@//

「他後來仍然努力爭去地方上的職位，維持影響力，並在退休後轉任台南市文獻委員會委員，繼續文化保留的任務。」

「這還沒算到戰後期間，他早就透過音樂長才，以南管古調填寫了大量的台語流行樂曲。」

「也是在那段期間，他與還很年輕的『拳不二』前輩相識，一起搭檔了不少調查任務，最後才因為年事甚高，逐漸將這些工作交由拳不二前輩處理。」

//@@color:RED;莉莉@@@@color:GRAY;在一旁吃掉了不少糖葫蘆。@@
@@color:BLUE;宗哥@@@@color:GRAY;則是長吁一口氣，像是講完了這些事情。

接著他說道@@

「剛剛講到台語，對吧？」

「曾有專家指出，一個語言若是剛好有一代人的時間都沒有人去講、去用，就可能讓這個語言消失，更別說一段歷史，若沒有人關心、傳訟了。」

「所以說，題目所指的『最後的地方』，是這裡沒錯」//@@color:BLUE;宗哥@@@@color:GRAY;指向腳下湯德章故居的土地@@//

「但實際上會讓拳師歷史真正失傳的，卻是這裡……」//@@color:GRAY;說完又將手指向你的心臟處@@//

「怎麼樣，你想不想加入我們啊？？」//@@color:BLUE;宗哥@@@@color:GRAY;誠懇的向你詢問。

一旁的@@@@color:RED;莉莉@@@@color:GRAY;也將口中叼著、空了的糖葫蘆竹籤拿出來，用認真的態度面對你。

這樣的邀請也不算突然，畢竟從測驗開始的時候，就是往這個方向在進行的。

但經過這些危險，你也不是全然都沒抱有任何疑慮……

&lt;hr&gt;

再三考慮過後，你決定……@@//

&lt;hr&gt;

[[覺得危險所以拒絕，並在別過之後就此離去|隨波逐流消逝在歷史之中]]

[[誠心地答應這個約定]]

&lt;&lt;/linkreplace&gt;&gt;</tw-passagedata><tw-passagedata pid="49" name="誠心地答應這個約定" tags="" position="2075,1150" size="100,100">「歡迎你的加入，謝謝你!」
@@color:BLUE;宗哥@@開心地朝你伸出了手要與你握手。

@@color:RED;莉莉@@在一旁則是拿出了不知道藏在哪裡的糖葫蘆給你，但一改過去的冰冷態度，多了點笑意。

漫長的測驗，讓你的身心的有了一些成長。
你感受到歷史之於生活在這片土地的人們，十分的重要。

做為拳師，你將會面臨到許多困境以及難解的題目，更別提剛剛面臨的那種危險的情勢。

但是拳師不會一個人出動，會有其他對保護歷史有熱情的能人志士來幫助你。

若成功渡過了難關，不只保護了歷史，你也延續了這片土地之上的故事……

&lt;h2&gt;如果說歷史是一個時間軸，人站在時間軸線上代表著一場又一場事件的節點，每個事件結束後總會留下一些東西，在盜匪眼中，這些東西是財寶；在博物館眼中是古董；在『拳師』眼裡，這些『物』代表失落的歷史與記憶。

拳師，從明鄭時期留下來的神祕組織，背負歷史、隱藏歷史、推動歷史，最後從歷史上消失。

這，是一群拳師尋物的故事。&lt;/h2&gt;

&lt;hr&gt;

&lt;h1&gt;Good Ending&lt;/h1&gt;

&lt;h1&gt;謝謝您的遊玩!&lt;/h1&gt;

[[開發者後記]]</tw-passagedata><tw-passagedata pid="50" name="開發者後記" tags="other" position="2200,1150" size="100,100">有空在來寫寫開發時的辛酸血淚。

ㄅㄅ</tw-passagedata><tw-passagedata pid="51" name="輸入地點，回答錯誤" tags="" position="1700,1000" size="100,100">@@color:GREEN;地點不對喔！

想一想在二二八事件的期間，是在哪裡，讓身處台南拳師一眾得到了保全？@@

[[重新回答|結結結結結結結結結局]]</tw-passagedata><tw-passagedata pid="52" name="StoryBanner" tags="noreturn" position="0,100" size="100,100">&lt;img src=&quot;https://3zhiyu.weebly.com/uploads/1/3/0/0/130070522/1219.png&quot; width=&quot;80%&quot;&gt;
</tw-passagedata><tw-passagedata pid="53" name="StoryDisplayTitle" tags="noreturn" position="0,200" size="100,100">留草遺芳錄</tw-passagedata><tw-passagedata pid="54" name="StorySubtitle" tags="noreturn" position="0,300" size="100,100">-遺芳九言-</tw-passagedata><tw-passagedata pid="55" name="StoryAuthor" tags="noreturn" position="0,400" size="100,100">(三知餘文化)</tw-passagedata><tw-passagedata pid="56" name="*StoryCaption" tags="noreturn" position="0,500" size="100,100">Double-click this passage to edit it.</tw-passagedata><tw-passagedata pid="57" name="StoryMenu" tags="noreturn" position="0,600" size="100,100">[[背包]]
[[手機訊息|手機]]
/*
&lt;&lt;if $title1 is 1&gt;&gt;
[[第一章|All started]]
&lt;&lt;/if&gt;&gt;
&lt;&lt;if $title2 is 1&gt;&gt;
[[第二章|往鳳山宮走去]]
&lt;&lt;/if&gt;&gt;
&lt;&lt;if $title3 is 1&gt;&gt;
[[第三章|將這一發現與手上資料作比對]]
&lt;&lt;/if&gt;&gt;
&lt;&lt;if $title4 is 1&gt;&gt;
[[第四章|繼續後續的調查，完成夥伴的心願。]]
&lt;&lt;/if&gt;&gt;
*/</tw-passagedata><tw-passagedata pid="58" name="StoryInit" tags="noreturn" position="0,700" size="100,100">/*預載圖片*/
/*&lt;&lt;preload &#39;img/&#39;&gt;&gt;*/
&lt;&lt;preload &#39;https://drive.google.com/uc?id=1B2VTXkFShdNZch55omsBuW2l3_RL9Xxb&#39; &#39;https://drive.google.com/uc?id=13gReKufpd7aHw8nvJVxtLZdoWNjaH_eH&#39; &#39;https://drive.google.com/uc?id=1Knl8r7FVKG6zEReFbSR0WdqF_iXcLWNQ&#39;&gt;&gt;


/*故事變數*/
&lt;&lt;set $inferresult to &#39;空結果&#39;&gt;&gt;
&lt;&lt;set $painting to []&gt;&gt;/*字畫蒐集*/


/*音效*/
&lt;&lt;cacheaudio &#39;doorclose&#39; &#39;https://3zhiyu.github.io/media/sounds/doorclose.wav&#39;&gt;&gt;


/*章節*/
&lt;&lt;set $title1 to 0&gt;&gt;
&lt;&lt;set $title2 to 0&gt;&gt;
&lt;&lt;set $title3 to 0&gt;&gt;
&lt;&lt;set $title4 to 0&gt;&gt;


/*推理線索*/
&lt;&lt;set $cluecount to []&gt;&gt;
&lt;&lt;set $clue1 to []&gt;&gt;
&lt;&lt;set $clue2 to []&gt;&gt;
&lt;&lt;set $clue3 to []&gt;&gt;

/*永華宮*/
&lt;&lt;set $visit to []&gt;&gt;
&lt;&lt;set $temple1 to [&#39;偏殿&#39;, &#39;主殿&#39;, &#39;廟內紅柱&#39;, &#39;廟內木門&#39;, &#39;廟內匾額&#39;, &#39;廟內圖像&#39;, &#39;廟外白牆&#39;, &#39;廟外祈願榕樹&#39;, &#39;廟外榕樹&#39;, &#39;廟外裸牆&#39;, &#39;陳永華祭祀二樓&#39;, &#39;陳永華祭祀三樓&#39;]&gt;&gt;/*永華宮全探索*/</tw-passagedata><tw-passagedata pid="59" name="*StoryInterface" tags="noreturn" position="0,800" size="100,100"></tw-passagedata><tw-passagedata pid="60" name="*PassageHeader" tags="noreturn" position="0,900" size="100,100">Double-click this passage to edit it.</tw-passagedata><tw-passagedata pid="61" name="*PassageFooter" tags="noreturn" position="0,1000" size="100,100">Double-click this passage to edit it.</tw-passagedata><tw-passagedata pid="62" name="背包" tags="noreturn bag" position="100,0" size="100,100">&lt;&lt;if $painting.length is 0&gt;&gt;\
    沒有東西。
&lt;&lt;else&gt;&gt;\
  &lt;&lt;if $painting.includes(&#39;則為河&#39;)&gt;&gt;&lt;img src=&quot;https://drive.google.com/uc?id=16Ze5V3NEwXGILXF3EA38FDvxTJvvdpF0&quot; width=&quot;1080(px)&quot;&gt;&lt;&lt;else&gt;&gt;&lt;&lt;/if&gt;&gt;
  &lt;&lt;if $painting.includes(&#39;地正人浩&#39;)&gt;&gt;&lt;img src=&quot;https://drive.google.com/uc?id=1zYLObaAy3m-Zkth0b1eAIeU1Kb6miXX2&quot; width=&quot;1080(px)&quot;&gt;&lt;&lt;else&gt;&gt;&lt;&lt;/if&gt;&gt;
  &lt;&lt;if $painting.includes(&#39;上為星&#39;)&gt;&gt;&lt;img src=&quot;https://drive.google.com/uc?id=1reJzSQ_pn7jJW2E0u_GsP6wBmD45RYH0&quot; width=&quot;1080(px)&quot;&gt;&lt;&lt;else&gt;&gt;&lt;&lt;/if&gt;&gt;
  &lt;&lt;if $painting.includes(&#39;雜賦形&#39;)&gt;&gt;&lt;img src=&quot;https://drive.google.com/uc?id=1ZnT8Su_KE3FqBkKxlweZ86Qkwtkjvy9I&quot; width=&quot;1080(px)&quot;&gt;&lt;&lt;else&gt;&gt;&lt;&lt;/if&gt;&gt;
&lt;&lt;/if&gt;&gt;

[[返回|previous()]]</tw-passagedata><tw-passagedata pid="63" name="密碼鎖判定" tags="" position="650,225" size="100,100">&lt;&lt;if $doorkey is &#39;1232587897415963&#39;&gt;&gt;
	&lt;&lt;goto &#39;進入試驗場&#39;&gt;&gt;
&lt;&lt;else&gt;&gt;
	輸入錯誤。&lt;&lt;timed 3s&gt;&gt;&lt;&lt;goto &#39;再靠近一點&#39;&gt;&gt;&lt;&lt;/timed&gt;&gt;
&lt;&lt;/if&gt;&gt;</tw-passagedata><tw-passagedata pid="64" name="密碼鎖" tags="include noreturn" position="650,125" size="100,100">&lt;&lt;nobr&gt;&gt;
	&lt;&lt;textbox &quot;$doorkey&quot; &quot;0&quot; [[密碼鎖判定]]&gt;&gt;
	&lt;&lt;set _keys = [1, 2, 3, 4, 5, 6, 7, 8, 9, &quot;C&quot;, 0, &quot;E&quot;]&gt;&gt;
	&lt;&lt;set _txt = &quot;&lt;table id=&#39;numpad&#39;&gt;&lt;tr&gt;&quot;&gt;&gt;
	&lt;&lt;for _i = 0; _i &lt; _keys.length; _i++&gt;&gt;
		&lt;&lt;if typeof _keys[_i] === &quot;number&quot;&gt;&gt;
			/* Create the number buttons. */
			&lt;&lt;set _txt += &#39;&lt;td&gt;&lt;&lt;button &quot;&#39; + _keys[_i] + &#39;&quot;&gt;&gt;&#39;&gt;&gt;
			&lt;&lt;set _txt += &#39;&lt;&lt;run $(&quot;#textbox-doorkey&quot;).val((parseInt($doorkey, 10) * 10) + &#39; + _keys[_i] + &#39;).trigger(&quot;change&quot;)&gt;&gt;&#39;&gt;&gt;
		&lt;&lt;elseif _keys[_i] === &quot;E&quot;&gt;&gt;
			/* Create the ENTER button. */
			&lt;&lt;set _txt += &quot;&lt;td title=\&quot;Enter\&quot;&gt;&lt;&lt;button &#39;&lt;span style=\&quot;font-size: 12px;\&quot;&gt;◄┘&lt;/span&gt;&#39;&gt;&gt;&quot;&gt;&gt;
			&lt;&lt;set _txt += &#39;&lt;&lt;goto &quot;密碼鎖判定&quot;&gt;&gt;&lt;/td&gt;&#39;&gt;&gt;
		&lt;&lt;else&gt;&gt;
			/* Create the CLEAR button. */
			&lt;&lt;set _txt += &#39;&lt;td title=\&quot;Clear\&quot;&gt;&lt;&lt;button &quot;C&quot;&gt;&gt;&#39;&gt;&gt;
			&lt;&lt;set _txt += &#39;&lt;&lt;run $(&quot;#textbox-doorkey&quot;).val(&quot;0&quot;).trigger(&quot;change&quot;)&gt;&gt;&#39;&gt;&gt;
		&lt;&lt;/if&gt;&gt;
		&lt;&lt;set _txt += &#39;&lt;&lt;/button&gt;&gt;&lt;/td&gt;&#39;&gt;&gt;	
		&lt;&lt;if !((_i + 1) % 3) &amp;&amp; (_i &lt; 11)&gt;&gt;
			&lt;&lt;set _txt += &quot;&lt;/tr&gt;&lt;tr&gt;&quot;&gt;&gt;
		&lt;&lt;/if&gt;&gt;
	&lt;&lt;/for&gt;&gt;
	&lt;&lt;set _txt += &quot;&lt;/tr&gt;&lt;/table&gt;&quot;&gt;&gt;
	_txt
&lt;&lt;/nobr&gt;&gt;</tw-passagedata><tw-passagedata pid="65" name="開門" tags="include noreturn" position="875,225" size="100,100">&lt;&lt;ScrollTo &quot;topElement&quot;&gt;&gt;「抱歉，今天有很多人已經先到了，所以有點忙不過來，我馬上替您開門！」

[[接著，大門有了動靜，並像是鬆動了一樣，向室內開了一個縫隙。|門開啟]]

</tw-passagedata><tw-passagedata pid="66" name="詢問測驗者" tags="include noreturn" position="875,125" size="100,100">&lt;em&gt;@@color:GRAY;電子鎖處又傳來人聲@@&lt;/em&gt;

「&lt;em&gt;沙沙&lt;/em&gt;……我知道您仍一頭霧水，但若您繼續走下去，就一定越能了解的。
</tw-passagedata><tw-passagedata pid="67" name="門開啟" tags="" position="1000,75" size="100,100">&lt;img src=&quot;https://drive.google.com/uc?id=1T8jfqXyRcWOzELnlK8t7VXt8ybaXRrWn&quot; width=&quot;300(px)&quot;&gt;

門緩緩打開……
[[揣揣不安地走進門內]]</tw-passagedata><tw-passagedata pid="68" name="門關上" tags="include noreturn" position="1225,125" size="100,100">
&lt;em&gt;@@color:GRAY;後方的門自動的關上，雖說不算造成巨響，但突然的聲音仍讓你受到了一點驚嚇。@@&lt;/em&gt;

&lt;em&gt;@@color:GRAY;不出幾秒時間，隨著迴盪的聲音漸弱，你也逐漸恢復平靜，接著便看到小孩示意你跟著他走入昏暗的建築之中。@@&lt;/em&gt;

&lt;em&gt;@@color:GRAY;一切都是這麼的唐突、神秘。@@&lt;/em&gt;

&lt;em&gt;@@color:GRAY;慌亂之中，你決定……@@&lt;/em&gt;

&lt;&lt;linkreplace 趕緊跟上&gt;&gt;&lt;&lt;include &#39;趕緊跟上&#39;&gt;&gt;&lt;&lt;/linkreplace&gt;&gt;

&lt;&lt;linkreplace 向門僮問個大概&gt;&gt;&lt;hr&gt;
&lt;em&gt;@@color:GRAY;門僮僅是向你微笑，便沒入黑暗之中@@&lt;/em&gt;
&lt;&lt;/linkreplace&gt;&gt;</tw-passagedata><tw-passagedata pid="69" name="趕緊跟上" tags="include noreturn" position="1325,125" size="100,100">&lt;&lt;timed 2s t8n&gt;&gt;//@@color:GRAY;三步併作兩步，你勉強跟上了他。@@//

喀踏、喀踏、喀踏……

&lt;em&gt;@@color:GRAY;一小段路之後，你發現你只聽的到你的腳步聲和呼吸聲，卻沒聽見門僮健步之下的任何聲響。@@&lt;/em&gt;
&lt;&lt;next&gt;&gt;
&lt;&lt;next&gt;&gt;&lt;em&gt;@@color:GRAY;接著你聽到門僮用著清淡的口氣，說道@@&lt;/em&gt;
&lt;&lt;next&gt;&gt;
&lt;&lt;next&gt;&gt;「如果說歷史是一個時間軸，人站在時間軸線上代表著一場又一場事件的節點」
&lt;em&gt;@@color:GRAY;狹長又空蕩的建築中，他的話就像飄盪在建築之內，若有似無的產生嗡嗡的回音……@@&lt;/em&gt;
&lt;&lt;next&gt;&gt;
&lt;&lt;next&gt;&gt;「人們常常忘記歷史，但每個事件結束後總會留下一些『東西』」
&lt;em&gt;@@color:GRAY;屋內的回音讓你產生了一種如夢似幻的感覺，你甚至開始產生了跟不上他的錯覺……@@&lt;/em&gt;
&lt;&lt;next&gt;&gt;
&lt;&lt;next&gt;&gt;「在盜匪眼中，這些東西是財寶……」
&lt;em&gt;@@color:GRAY;這不是錯覺，你的腳程逐漸落後於他，但他的音量還是沒有太大變化……@@&lt;/em&gt;

&lt;&lt;linkappend //再加把勁嘗試跟上他//&gt;&gt;

&lt;&lt;include &#39;跟上書僮&#39;&gt;&gt;&lt;&lt;/linkappend&gt;&gt;
&lt;&lt;/timed&gt;&gt;</tw-passagedata><tw-passagedata pid="70" name="跟上書僮" tags="include noreturn" position="1225,225" size="100,100">&lt;&lt;timed 2s t8n&gt;&gt;「在博物館眼中是古董……」
&lt;em&gt;@@color:GRAY;你們的距離仍逐漸越拉……越開……@@&lt;/em&gt;





&lt;&lt;next&gt;&gt;
&lt;&lt;next&gt;&gt;「在我們『拳師』眼裡……」
&lt;em&gt;@@color:GRAY;正當你開始覺得要跟不上時……@@&lt;/em&gt;







&lt;&lt;next&gt;&gt;
&lt;&lt;next&gt;&gt;「這些『物』代表失落的歷史與記憶。」
&lt;em&gt;@@color:GRAY;門僮就像剛好抓到你的極限一樣，在一個轉角處，駐足停了下來@@&lt;/em&gt;
&lt;&lt;next&gt;&gt;
&lt;&lt;next&gt;&gt;「正式的測驗在這裡繼續……」
&lt;em&gt;@@color:GRAY;終於，你趕上了他，同樣站在轉角處。@@&lt;/em&gt;
&lt;&lt;next&gt;&gt;
&lt;&lt;next&gt;&gt;&lt;em&gt;@@color:GRAY;往轉角處一轉頭，你看到了一個人影幢動的廳堂@@&lt;/em&gt;
「祝你武運昌隆，未來的拳師」
&lt;&lt;next&gt;&gt;
&lt;&lt;next&gt;&gt;&lt;em&gt;@@color:GRAY;門僮又向你行了剛進來時的那個禮，並示意要你進去@@&lt;/em&gt;

[[踏入廳堂|TestStart]]
&lt;&lt;/timed&gt;&gt;</tw-passagedata><tw-passagedata pid="71" name="安分隨眾人等待" tags="" position="1625,175" size="100,100">&lt;img src=&quot;https://drive.google.com/uc?id=1XnctmI2yPSNsIL5vHZiJCwa2jRf3Ee80&quot; width=&quot;300(px)&quot;&gt;

&lt;em&gt;@@color:GRAY;
廳堂內的眾人雖然沒有什麼交談，但仍聽得出大家因為緊張而伴隨的嘆氣聲、不耐煩的碎念以及來回踱步造成的腳步聲。

這些聲音頻繁而交錯，卻使現場的沉寂感反而被加大，讓你幾欲轉身離開這裡好透透氣。

不過這份沉默沒過多久就被一個人聲打破。

你聽出了這聲音在門口處的電子鎖也聽過，有些親切的聲音讓你的緊張感減少了大半……
@@&lt;/em&gt;

「恭迎眾人的大駕，人數上應該也足夠今天的試驗了。」
&lt;em&gt;@@color:GRAY;聲音的主人應該是個可靠的長輩，但卻不知道是從高處的什麼地方發出。@@&lt;/em&gt;

「先前的一切是為了大致理解各位的能耐，能到達這個地方的各位也實屬不簡單……」
&lt;em&gt;@@color:GRAY;「先前的一切」之云云，讓你憶起自那個網站開始，到解開門鎖後的一切。這讓你對這個「試驗」產生了懷疑，但你也僅是隨著發話者的話聽下去……@@&lt;/em&gt;

「敏銳的人一定感覺到『清心散』僅是個幌子，但這「永華堂」卻也不全然是騙人的玩意。」

「哇」、「咦」、「嘿」&lt;em&gt;@@color:GRAY;……，聽到這裡廳堂內發出了與先前不同的躁動聲，多是些不解的疑惑。@@&lt;/em&gt;

「我們是一群保護歷史的人，一直致力於阻止他人對歷史所做的可惡行徑。」

「接下來的試煉，你們自然會有一些體會，到時候你們也一定能覺醒一些意識和能力。」

&lt;em&gt;@@color:GRAY;隨著發話者越講越多，廳堂內的躁動聲也逐漸增大，有不解的，有嗤之以鼻的：@@&lt;/em&gt;「開什麼玩笑？」、「我花這麼多時間就為了被你玩弄嗎？」、「賣什麼關子啊？還不快露面!」……
&lt;em&gt;@@color:GRAY;隨著抱怨聲，開始有人往進來時的那個轉角走去，準備離開。這時有兩個趨勢：去，或者是留……@@&lt;/em&gt;

「離去的人們，我們不會強留，你們還有大把的時間能夠享受被蒙在鼓裡的人生……」
&lt;em&gt;@@color:GRAY;這句話有點譏諷人的意味，有的人不太開心的停了下來，也有人繼續邁著步子繼續離去。

你同樣的帶著許多疑惑，腦海之中不斷迴盪著「歷史」這兩個字。

沒等你多做思考，那人又發話。@@&lt;/em&gt;

「但留下來的各位，我們就像網站和郵件說的『廣結善緣』，十分歡迎各位有志之士的加入；你們也將隨我們完成後續的試煉。」

&lt;em&gt;@@color:GRAY;這時廳堂內已走掉一部分人，隨著躁動聲，現場的氛圍並不向是能讓你發話，這讓你陷入以下的抉擇之中……@@&lt;/em&gt;

[[隨眾人離開廳堂，放棄試驗|隨波逐流消逝在歷史之中]]

[[抱持好奇留在廳堂，姑且看看會發生什麼事情|測驗繼續]]

[[堅毅的留在廳堂，繼續試驗|測驗繼續]]</tw-passagedata><tw-passagedata pid="72" name="手機訊息" tags="include noreturn" position="650,450" size="100,100">#滿是焦痕、殘破不堪的毛筆字手抄書書頁，隱隱能看到殘破不堪的「見、囗、司」三字
#同樣破爛不堪滿是焦痕，一份謹記載有年份的不完全的年譜
#一副有著大量空缺的詩詞，其中的內容能夠指出一些地點。</tw-passagedata><tw-passagedata pid="73" name="收到了一則訊息。" tags="" position="550,400" size="100,100">「現場的各位應該都收到了一則訊息，這才是這次測驗的重頭戲」

//@@color:BLUE;宗哥@@@@color:GRAY;怎麼會有我們的聯繫方式……？你陷入納悶的情緒，但是想到至今經歷的事情，也不難想像他們的神通廣大。

只是，多少有點可疑。@@//

&lt;&lt;linkreplace 查看訊息&gt;&gt;
&lt;table class=&quot;messege-table&quot;&gt;
&lt;&lt;include &#39;手機訊息&#39;&gt;&gt;
&lt;/table&gt;
&lt;&lt;/linkreplace&gt;&gt;
&lt;&lt;linkreplace 繼續聽下去&gt;&gt;
「剛剛提到『它與天地會其實沒有什麼太直接的關係』，是因為這裡曾經是一座廟。」

「當年鄭成功從金門出師，沿澎湖來到台南鹿耳門並在短短的時間內攻下台南數個地區。」

「相傳他不久後就因為生病去世，最後由鄭經、鄭克塽等人相繼接下反清復明的大業。」

「當陳永華任諮議參軍時，他們的立場早已悄悄從『復明』轉為『留漢』，但是他們仍為了軍事上、文化上的需要，而有了許多建設。」

「其中一部分，就是在各位眼前這座銀行的區域，蓋了一座『鳳山宮』。」

「這鳳山宮就成了天地會秘密相聚、議事的一個重要區域之一。」
//@@color:BLUE;宗哥@@@@color:GRAY;說到此處，將一手舉至胸前做了個抓握的動作，像是在強調重要性。@@//

「但是這樣的地方，仍然因為時代的洪流，而差點成了第一個拳師歷史的失傳之地。」
//@@color:GRAY;聽聞後，眾人又是一陣躁動，但不再是不安與不悅，而是躍躍欲試的樣子；@@@@color:RED;莉莉@@@@color:GRAY;則相反的顯得平淡很多。@@//
[[繼續聽下去]]
&lt;&lt;/linkreplace&gt;&gt;</tw-passagedata><tw-passagedata pid="74" name="繼續聽下去" tags="" position="775,400" size="100,100">「傳說，當年鄭氏政權敗北後，將天地會資料封於鐵盒之中沉入大海。」

&lt;h3&gt;「這就是拳師歷史曾三次險些失傳的時候之一！」&lt;/h3&gt;

「雖然之後在台灣內、外仍繼續留有天地會殘留勢力，但經過了百年後的林爽文事件，清政權的開始了秘密結社的掃蕩，天地會更是逐漸失去留漢事業的影響力……」

「隨著你們的探索，將能夠在下一個地點找到『三度險些失傳』的第二次相關的地點。」

「但是剩下的故事，就交給各位去解開謎題，來一一了解了。」
//@@color:GRAY;像是用完了「認真講話的能量」一樣，@@@@color:BLUE;宗哥@@@@color:GRAY;又回到了輕鬆的態度說道……@@//
「剛剛各位收到的資料，如果順利，就能在最後的地方完成試驗，並讀懂我們拳師差點失傳的重大歷史，以及那些努力將文化傳承下去的志士的名子。」

「另外，一件事情向各位補充。」//@@color:BLUE;宗哥@@@@color:GRAY;再度說道……@@//

「拳師這個團體，以往就都是群體行動的。」

//@@color:GRAY;此刻，你見到@@@@color:RED;莉莉@@@@color:GRAY;剛才顯得漫不在乎，但聽到這句卻又聚精會神了起來，望向了@@@@color:BLUE;宗哥@@//

「僅有一些有能力獨自調查的前輩，以及負責技術、運送等行政事務……」

「或是與我們合作的其他朋友們，才有例外。」

「這是為了讓各位與同伴一起排除一些問題，或是在不幸出現危險時能夠互相幫助，才衍生出的特殊編制……」
//@@color:BLUE;宗哥@@@@color:GRAY;說到這裡時，像是想到了什麼似的，面色凝重了一下，你不知道是不是只有你看出來了。

「危險……？」僅是讓我們進行推理的這些現場，到底會有什麼樣的危險呢？
你思考了一下，但仍沒有太多想法。@@//

「現在，請你們以同為『守護歷史的志士』的心情，從現場的各位之中找尋一名搭檔，這可能會是你們入門後的重要夥伴！」

//@@color:BLUE;宗哥@@@@color:GRAY;「守護歷史的志士」的一席話，讓你有了很多想像，@@[[於是你開始張望人群……|轉折-內鬼加入你]]//</tw-passagedata><tw-passagedata pid="75" name="凜夜邀請" tags="" position="1275,400" size="100,100">//@@color:GRAY;你簡單向@@@@color:Orange;那人@@@@color:GRAY;點了點頭，示意了一下。@@//

「就叫我@@color:Orange;『凜夜』@@吧，這是我玩遊戲時都會用的ID，雖然很中二就是了」
//@@color:GRAY;那人真誠的解釋後，又向你投以親切的笑容，於是你也回之以禮的自我介紹。@@//

「既然我們都是落單的人，不如就組成一隊吧，否則其他人都兩兩的湊在一起了！」
//@@color:Orange;凜夜@@@@color:GRAY;說的沒錯，方才將你包圍的人群，早就像你們目前一樣開始熱絡的介紹起彼此。連@@@@color:RED;莉莉@@@@color:GRAY;、@@@@color:BLUE;宗哥@@@@color:GRAY;也有一搭沒一搭的閒聊，但他們明顯少了生澀的感覺，果然相識已久。@@//

//@@color:GRAY;見此光景，你不再做他想，決定……@@//

[[鄭重的向凜夜提出了組隊邀請|誤上賊船]]

[[略帶疑惑的向凜夜提出了組隊邀請|誤上賊船]]

[[未能與莉莉作伴，頓時失去興趣，道別過之後，就此離去|隨波逐流消逝在歷史之中]]

[[再三考量後，暫做道別，然後離開這裡不再回頭|隨波逐流消逝在歷史之中]]
</tw-passagedata><tw-passagedata pid="76" name="第一階段推理" tags="combine noreturn" position="100,1325" size="200,100">目前有的線索：
&lt;&lt;if $clue1.length is 0&gt;&gt;\
    沒有找到線索。
&lt;&lt;else&gt;&gt;\
    &lt;&lt;= $clue1.join(&#39;, &#39;)&gt;&gt;
&lt;&lt;/if&gt;&gt;

----
&lt;&lt;if $clue1.length is 0&gt;&gt;
線索不足以組合。
&lt;&lt;else&gt;&gt;
&lt;&lt;include &#39;推理1組合選單&#39;&gt;&gt;
&lt;&lt;/if&gt;&gt;</tw-passagedata><tw-passagedata pid="77" name="第二階段推理" tags="combine noreturn" position="600,1325" size="200,100">推理系統

&lt;&lt;if $clue2.length is 0&gt;&gt;目前擁有的線索不足以搜索。&lt;&lt;else&gt;&gt;&lt;&lt;include &#39;推理2組合選單&#39;&gt;&gt;&lt;&lt;/if&gt;&gt;

----
推理結果：
&lt;&lt;include [[$inferresult]]&gt;&gt;

----
已獲得資訊整合：
</tw-passagedata><tw-passagedata pid="78" name="推理1組合選單" tags="noreturn combine" position="50,1425" size="100,100">用&lt;&lt;include &#39;推理1下拉1&#39;&gt;&gt;和&lt;&lt;include &#39;推理1下拉2&#39;&gt;&gt;&lt;&lt;link 進行推理！&gt;&gt;
		&lt;&lt;if $clue1list1 == $clue1list2&gt;&gt;
			&lt;&lt;replace &#39;#clue1result&#39;&gt;&gt;沒什麼有用的資訊。&lt;&lt;/replace&gt;&gt;
		&lt;&lt;elseif $clue1list1 is &quot;陳予仙&quot; and $clue1list2 is &quot;天地會&quot;&gt;&gt;
			&lt;&lt;replace &#39;#clue1result&#39;&gt;&gt;觀看[[推理結果|陳予仙天地會]]！&lt;&lt;/replace&gt;&gt;
		&lt;&lt;elseif $clue1list1 is &quot;天地會&quot; and $clue1list2 is &quot;陳予仙&quot;&gt;&gt;
			&lt;&lt;replace &#39;#clue1result&#39;&gt;&gt;觀看[[推理結果|陳予仙天地會]]！&lt;&lt;/replace&gt;&gt;
		&lt;&lt;elseif $clue1list1 is &quot;陳予仙&quot; and $clue1list2 is &quot;保護歷史&quot;&gt;&gt;
			&lt;&lt;replace &#39;#clue1result&#39;&gt;&gt;觀看[[推理結果|陳予仙保護歷史]]！&lt;&lt;/replace&gt;&gt;
		&lt;&lt;elseif $clue1list1 is &quot;保護歷史&quot; and $clue1list2 is &quot;陳予仙&quot;&gt;&gt;
			&lt;&lt;replace &#39;#clue1result&#39;&gt;&gt;觀看[[推理結果|陳予仙保護歷史]]！&lt;&lt;/replace&gt;&gt;
		&lt;&lt;elseif $clue1list1 is &quot;天地會&quot; and $clue1list2 is &quot;保護歷史&quot;&gt;&gt;
			&lt;&lt;replace &#39;#clue1result&#39;&gt;&gt;觀看[[推理結果|天地會保護歷史]]！&lt;&lt;/replace&gt;&gt;
		&lt;&lt;elseif $clue1list1 is &quot;保護歷史&quot; and $clue1list2 is &quot;天地會&quot;&gt;&gt;
			&lt;&lt;replace &#39;#clue1result&#39;&gt;&gt;觀看[[推理結果|天地會保護歷史]]！&lt;&lt;/replace&gt;&gt;
		&lt;&lt;elseif $clue1list1 is &quot;傳教&quot; and $clue1list2 is &quot;天地會&quot;&gt;&gt;
			&lt;&lt;replace &#39;#clue1result&#39;&gt;&gt;觀看[[推理結果|傳教天地會]]！&lt;&lt;/replace&gt;&gt;
		&lt;&lt;elseif $clue1list1 is &quot;天地會&quot; and $clue1list2 is &quot;傳教&quot;&gt;&gt;
			&lt;&lt;replace &#39;#clue1result&#39;&gt;&gt;觀看[[推理結果|傳教天地會]]！&lt;&lt;/replace&gt;&gt;
		&lt;&lt;elseif $clue1list1 is &quot;傳教&quot; and $clue1list2 is &quot;陳予仙&quot;&gt;&gt;
			&lt;&lt;replace &#39;#clue1result&#39;&gt;&gt;觀看[[推理結果|傳教陳予仙]]！&lt;&lt;/replace&gt;&gt;
		&lt;&lt;elseif $clue1list1 is &quot;陳予仙&quot; and $clue1list2 is &quot;傳教&quot;&gt;&gt;
			&lt;&lt;replace &#39;#clue1result&#39;&gt;&gt;觀看[[推理結果|傳教陳予仙]]！&lt;&lt;/replace&gt;&gt;
		&lt;&lt;elseif $clue1list1 is &quot;傳教&quot; and $clue1list2 is &quot;保護歷史&quot;&gt;&gt;
			&lt;&lt;replace &#39;#clue1result&#39;&gt;&gt;觀看[[推理結果|傳教保護歷史]]！&lt;&lt;/replace&gt;&gt;
		&lt;&lt;elseif $clue1list1 is &quot;保護歷史&quot; and $clue1list2 is &quot;傳教&quot;&gt;&gt;
			&lt;&lt;replace &#39;#clue1result&#39;&gt;&gt;觀看[[推理結果|傳教保護歷史]]！&lt;&lt;/replace&gt;&gt;
		&lt;&lt;elseif $clue1list1 is &quot;留漢&quot; and $clue1list2 is &quot;陳予仙&quot;&gt;&gt;
			&lt;&lt;replace &#39;#clue1result&#39;&gt;&gt;觀看[[推理結果|留漢陳予仙]]！&lt;&lt;/replace&gt;&gt;
		&lt;&lt;elseif $clue1list1 is &quot;陳予仙&quot; and $clue1list2 is &quot;留漢&quot;&gt;&gt;
			&lt;&lt;replace &#39;#clue1result&#39;&gt;&gt;觀看[[推理結果|留漢陳予仙]]！&lt;&lt;/replace&gt;&gt;
		&lt;&lt;elseif $clue1list1 is &quot;留漢&quot; and $clue1list2 is &quot;天地會&quot;&gt;&gt;
			&lt;&lt;replace &#39;#clue1result&#39;&gt;&gt;觀看[[推理結果|留漢天地會]]！&lt;&lt;/replace&gt;&gt;
		&lt;&lt;elseif $clue1list1 is &quot;天地會&quot; and $clue1list2 is &quot;留漢&quot;&gt;&gt;
			&lt;&lt;replace &#39;#clue1result&#39;&gt;&gt;觀看[[推理結果|留漢天地會]]！&lt;&lt;/replace&gt;&gt;
		&lt;&lt;elseif $clue1list1 is &quot;留漢&quot; and $clue1list2 is &quot;保護歷史&quot;&gt;&gt;
			&lt;&lt;replace &#39;#clue1result&#39;&gt;&gt;觀看[[推理結果|留漢保護歷史]]！&lt;&lt;/replace&gt;&gt;
		&lt;&lt;elseif $clue1list1 is &quot;保護歷史&quot; and $clue1list2 is &quot;留漢&quot;&gt;&gt;
			&lt;&lt;replace &#39;#clue1result&#39;&gt;&gt;觀看[[推理結果|留漢保護歷史]]！&lt;&lt;/replace&gt;&gt;
		&lt;&lt;elseif $clue1list1 is &quot;留漢&quot; and $clue1list2 is &quot;傳教&quot;&gt;&gt;
			&lt;&lt;replace &#39;#clue1result&#39;&gt;&gt;觀看[[推理結果|留漢傳教]]！&lt;&lt;/replace&gt;&gt;
		&lt;&lt;elseif $clue1list1 is &quot;傳教&quot; and $clue1list2 is &quot;留漢&quot;&gt;&gt;
			&lt;&lt;replace &#39;#clue1result&#39;&gt;&gt;觀看[[推理結果|留漢傳教]]！&lt;&lt;/replace&gt;&gt;
		&lt;&lt;else&gt;&gt;
			&lt;&lt;replace &#39;#clue1result&#39;&gt;&gt;沒什麼有用的資訊。&lt;&lt;/replace&gt;&gt;
		&lt;&lt;/if&gt;&gt;
	&lt;&lt;/link&gt;&gt;
	
&lt;div id=&#39;clue1result&#39;&gt;&lt;/div&gt;</tw-passagedata><tw-passagedata pid="79" name="推理2組合選單" tags="noreturn combine" position="550,1425" size="100,100">用&lt;&lt;include &#39;推理2下拉1&#39;&gt;&gt;和&lt;&lt;include &#39;推理2下拉2&#39;&gt;&gt;&lt;&lt;link 進行推理！&gt;&gt;
		&lt;&lt;if $clue2list1 == $clue2list2&gt;&gt;
			&lt;&lt;replace &#39;#clue2result&#39;&gt;&gt;沒什麼有用的資訊。&lt;&lt;/replace&gt;&gt;
		&lt;&lt;elseif $clue2list1 is &quot;鳳山宮&quot; and $clue2list2 is &quot;台灣銀行台南分行&quot;&gt;&gt;
			&lt;&lt;replace &#39;#clue2result&#39;&gt;&gt;觀看[[推理結果|鳳山台銀]]！&lt;&lt;/replace&gt;&gt;
		&lt;&lt;elseif $clue2list1 is &quot;台灣銀行台南分行&quot; and $clue2list2 is &quot;鳳山宮&quot;&gt;&gt;
			&lt;&lt;replace &#39;#clue2result&#39;&gt;&gt;觀看[[推理結果|鳳山台銀]]！&lt;&lt;/replace&gt;&gt;
		&lt;&lt;elseif $clue2list1 is &quot;私塾&quot; and $clue2list2 is &quot;惜字亭&quot;&gt;&gt;
			&lt;&lt;replace &#39;#clue2result&#39;&gt;&gt;觀看[[推理結果|私塾惜字亭]]！&lt;&lt;/replace&gt;&gt;
		&lt;&lt;elseif $clue2list1 is &quot;惜字亭&quot; and $clue2list2 is &quot;私塾&quot;&gt;&gt;
			&lt;&lt;replace &#39;#clue2result&#39;&gt;&gt;觀看[[推理結果|私塾惜字亭]]！&lt;&lt;/replace&gt;&gt;
		&lt;&lt;elseif $clue2list1 is &quot;私塾&quot; and $clue2list2 is &quot;窺園&quot;&gt;&gt;
			&lt;&lt;replace &#39;#clue2result&#39;&gt;&gt;觀看[[推理結果|私塾窺園]]！&lt;&lt;/replace&gt;&gt;
		&lt;&lt;elseif $clue2list1 is &quot;窺園&quot; and $clue2list2 is &quot;私塾&quot;&gt;&gt;
			&lt;&lt;replace &#39;#clue2result&#39;&gt;&gt;觀看[[推理結果|私塾窺園]]！&lt;&lt;/replace&gt;&gt;
		&lt;&lt;elseif $clue2list1 is &quot;私塾&quot; and $clue2list2 is &quot;許特齊&quot;&gt;&gt;
			&lt;&lt;replace &#39;#clue2result&#39;&gt;&gt;觀看[[推理結果|私塾許特齊]]！&lt;&lt;/replace&gt;&gt;
		&lt;&lt;elseif $clue2list1 is &quot;許特齊&quot; and $clue2list2 is &quot;私塾&quot;&gt;&gt;
			&lt;&lt;replace &#39;#clue2result&#39;&gt;&gt;觀看[[推理結果|私塾許特齊]]！&lt;&lt;/replace&gt;&gt;
		&lt;&lt;elseif $clue2list1 is &quot;私塾&quot; and $clue2list2 is &quot;許南英&quot;&gt;&gt;
			&lt;&lt;replace &#39;#clue2result&#39;&gt;&gt;觀看[[推理結果|私塾許南英]]！&lt;&lt;/replace&gt;&gt;
		&lt;&lt;elseif $clue2list1 is &quot;許南英&quot; and $clue2list2 is &quot;私塾&quot;&gt;&gt;
			&lt;&lt;replace &#39;#clue2result&#39;&gt;&gt;觀看[[推理結果|私塾許南英]]！&lt;&lt;/replace&gt;&gt;
		&lt;&lt;elseif $clue2list1 is &quot;私塾&quot; and $clue2list2 is &quot;許南英晚年&quot;&gt;&gt;
			&lt;&lt;replace &#39;#clue2result&#39;&gt;&gt;觀看[[推理結果|私塾許南英晚年]]！&lt;&lt;/replace&gt;&gt;
		&lt;&lt;elseif $clue2list1 is &quot;許南英晚年&quot; and $clue2list2 is &quot;私塾&quot;&gt;&gt;
			&lt;&lt;replace &#39;#clue2result&#39;&gt;&gt;觀看[[推理結果|私塾許南英晚年]]！&lt;&lt;/replace&gt;&gt;
		&lt;&lt;elseif $clue2list1 is &quot;私塾&quot; and $clue2list2 is &quot;日本政府&quot;&gt;&gt;
			&lt;&lt;replace &#39;#clue2result&#39;&gt;&gt;觀看[[推理結果|私塾日本政府]]！&lt;&lt;/replace&gt;&gt;
		&lt;&lt;elseif $clue2list1 is &quot;日本政府&quot; and $clue2list2 is &quot;私塾&quot;&gt;&gt;
			&lt;&lt;replace &#39;#clue2result&#39;&gt;&gt;觀看[[推理結果|私塾日本政府]]！&lt;&lt;/replace&gt;&gt;			
		&lt;&lt;elseif $clue2list1 is &quot;私塾&quot; and $clue2list2 is &quot;窺園留草&quot;&gt;&gt;
			&lt;&lt;replace &#39;#clue2result&#39;&gt;&gt;觀看[[推理結果|私塾窺園留草]]！&lt;&lt;/replace&gt;&gt;
		&lt;&lt;elseif $clue2list1 is &quot;窺園留草&quot; and $clue2list2 is &quot;私塾&quot;&gt;&gt;
			&lt;&lt;replace &#39;#clue2result&#39;&gt;&gt;觀看[[推理結果|私塾窺園留草]]！&lt;&lt;/replace&gt;&gt;
		&lt;&lt;elseif $clue2list1 is &quot;私塾&quot; and $clue2list2 is &quot;許地山&quot;&gt;&gt;
			&lt;&lt;replace &#39;#clue2result&#39;&gt;&gt;觀看[[推理結果|私塾許地山]]！&lt;&lt;/replace&gt;&gt;
		&lt;&lt;elseif $clue2list1 is &quot;許地山&quot; and $clue2list2 is &quot;私塾&quot;&gt;&gt;
			&lt;&lt;replace &#39;#clue2result&#39;&gt;&gt;觀看[[推理結果|私塾許地山]]！&lt;&lt;/replace&gt;&gt;
		&lt;&lt;elseif $clue2list1 is &quot;窺園&quot; and $clue2list2 is &quot;惜字亭&quot;&gt;&gt;
			&lt;&lt;replace &#39;#clue2result&#39;&gt;&gt;觀看[[推理結果|窺園惜字亭]]！&lt;&lt;/replace&gt;&gt;
		&lt;&lt;elseif $clue2list1 is &quot;惜字亭&quot; and $clue2list2 is &quot;窺園&quot;&gt;&gt;
			&lt;&lt;replace &#39;#clue2result&#39;&gt;&gt;觀看[[推理結果|窺園惜字亭]]！&lt;&lt;/replace&gt;&gt;
		&lt;&lt;elseif $clue2list1 is &quot;許特齊&quot; and $clue2list2 is &quot;惜字亭&quot;&gt;&gt;
			&lt;&lt;replace &#39;#clue2result&#39;&gt;&gt;觀看[[推理結果|惜字亭許特齊]]！&lt;&lt;/replace&gt;&gt;
		&lt;&lt;elseif $clue2list1 is &quot;惜字亭&quot; and $clue2list2 is &quot;許特齊&quot;&gt;&gt;
			&lt;&lt;replace &#39;#clue2result&#39;&gt;&gt;觀看[[推理結果|惜字亭許特齊]]！&lt;&lt;/replace&gt;&gt;
		&lt;&lt;elseif $clue2list1 is &quot;許南英&quot; and $clue2list2 is &quot;惜字亭&quot;&gt;&gt;
			&lt;&lt;replace &#39;#clue2result&#39;&gt;&gt;觀看[[推理結果|惜字亭許南英]]！&lt;&lt;/replace&gt;&gt;
		&lt;&lt;elseif $clue2list1 is &quot;惜字亭&quot; and $clue2list2 is &quot;許南英&quot;&gt;&gt;
			&lt;&lt;replace &#39;#clue2result&#39;&gt;&gt;觀看[[推理結果|惜字亭許南英]]！&lt;&lt;/replace&gt;&gt;
		&lt;&lt;elseif $clue2list1 is &quot;許南英晚年&quot; and $clue2list2 is &quot;惜字亭&quot;&gt;&gt;
			&lt;&lt;replace &#39;#clue2result&#39;&gt;&gt;觀看[[推理結果|惜字亭許南英晚年]]！&lt;&lt;/replace&gt;&gt;
		&lt;&lt;elseif $clue2list1 is &quot;惜字亭&quot; and $clue2list2 is &quot;許南英晚年&quot;&gt;&gt;
			&lt;&lt;replace &#39;#clue2result&#39;&gt;&gt;觀看[[推理結果|惜字亭許南英晚年]]！&lt;&lt;/replace&gt;&gt;
		&lt;&lt;elseif $clue2list1 is &quot;日本政府&quot; and $clue2list2 is &quot;惜字亭&quot;&gt;&gt;
			&lt;&lt;replace &#39;#clue2result&#39;&gt;&gt;觀看[[推理結果|惜字亭日本政府]]！&lt;&lt;/replace&gt;&gt;
		&lt;&lt;elseif $clue2list1 is &quot;惜字亭&quot; and $clue2list2 is &quot;日本政府&quot;&gt;&gt;
			&lt;&lt;replace &#39;#clue2result&#39;&gt;&gt;觀看[[推理結果|惜字亭日本政府]]！&lt;&lt;/replace&gt;&gt;
		&lt;&lt;elseif $clue2list1 is &quot;窺園留草&quot; and $clue2list2 is &quot;惜字亭&quot;&gt;&gt;
			&lt;&lt;replace &#39;#clue2result&#39;&gt;&gt;觀看[[推理結果|惜字亭窺園留草]]！&lt;&lt;/replace&gt;&gt;
		&lt;&lt;elseif $clue2list1 is &quot;惜字亭&quot; and $clue2list2 is &quot;窺園留草&quot;&gt;&gt;
			&lt;&lt;replace &#39;#clue2result&#39;&gt;&gt;觀看[[推理結果|惜字亭窺園留草]]！&lt;&lt;/replace&gt;&gt;
		&lt;&lt;elseif $clue2list1 is &quot;許地山&quot; and $clue2list2 is &quot;惜字亭&quot;&gt;&gt;
			&lt;&lt;replace &#39;#clue2result&#39;&gt;&gt;觀看[[推理結果|惜字亭許地山]]！&lt;&lt;/replace&gt;&gt;
		&lt;&lt;elseif $clue2list1 is &quot;惜字亭&quot; and $clue2list2 is &quot;許地山&quot;&gt;&gt;
			&lt;&lt;replace &#39;#clue2result&#39;&gt;&gt;觀看[[推理結果|惜字亭許地山]]！&lt;&lt;/replace&gt;&gt;
		&lt;&lt;elseif $clue2list1 is &quot;窺園&quot; and $clue2list2 is &quot;許特齊&quot;&gt;&gt;
			&lt;&lt;replace &#39;#clue2result&#39;&gt;&gt;觀看[[推理結果|窺園許特齊]]！&lt;&lt;/replace&gt;&gt;
		&lt;&lt;elseif $clue2list1 is &quot;許特齊&quot; and $clue2list2 is &quot;窺園&quot;&gt;&gt;
			&lt;&lt;replace &#39;#clue2result&#39;&gt;&gt;觀看[[推理結果|窺園許特齊]]！&lt;&lt;/replace&gt;&gt;
		&lt;&lt;elseif $clue2list1 is &quot;許南英&quot; and $clue2list2 is &quot;窺園&quot;&gt;&gt;
			&lt;&lt;replace &#39;#clue2result&#39;&gt;&gt;觀看[[推理結果|窺園許南英]]！&lt;&lt;/replace&gt;&gt;
		&lt;&lt;elseif $clue2list1 is &quot;窺園&quot; and $clue2list2 is &quot;許南英&quot;&gt;&gt;
			&lt;&lt;replace &#39;#clue2result&#39;&gt;&gt;觀看[[推理結果|窺園許南英]]！&lt;&lt;/replace&gt;&gt;
		&lt;&lt;elseif $clue2list1 is &quot;許南英晚年&quot; and $clue2list2 is &quot;窺園&quot;&gt;&gt;
			&lt;&lt;replace &#39;#clue2result&#39;&gt;&gt;觀看[[推理結果|許南英晚年窺園]]！&lt;&lt;/replace&gt;&gt;
		&lt;&lt;elseif $clue2list1 is &quot;窺園&quot; and $clue2list2 is &quot;許南英晚年&quot;&gt;&gt;
			&lt;&lt;replace &#39;#clue2result&#39;&gt;&gt;觀看[[推理結果|許南英晚年窺園]]！&lt;&lt;/replace&gt;&gt;
		&lt;&lt;elseif $clue2list1 is &quot;窺園&quot; and $clue2list2 is &quot;日本政府&quot;&gt;&gt;
			&lt;&lt;replace &#39;#clue2result&#39;&gt;&gt;觀看[[推理結果|窺園日本政府]]！&lt;&lt;/replace&gt;&gt;
		&lt;&lt;elseif $clue2list1 is &quot;日本政府&quot; and $clue2list2 is &quot;窺園&quot;&gt;&gt;
			&lt;&lt;replace &#39;#clue2result&#39;&gt;&gt;觀看[[推理結果|窺園日本政府]]！&lt;&lt;/replace&gt;&gt;
		&lt;&lt;elseif $clue2list1 is &quot;窺園&quot; and $clue2list2 is &quot;窺園留草&quot;&gt;&gt;
			&lt;&lt;replace &#39;#clue2result&#39;&gt;&gt;觀看[[推理結果|窺園窺園留草]]！&lt;&lt;/replace&gt;&gt;
		&lt;&lt;elseif $clue2list1 is &quot;窺園留草&quot; and $clue2list2 is &quot;窺園&quot;&gt;&gt;
			&lt;&lt;replace &#39;#clue2result&#39;&gt;&gt;觀看[[推理結果|窺園窺園留草]]！&lt;&lt;/replace&gt;&gt;
		&lt;&lt;elseif $clue2list1 is &quot;窺園&quot; and $clue2list2 is &quot;許地山&quot;&gt;&gt;
			&lt;&lt;replace &#39;#clue2result&#39;&gt;&gt;觀看[[推理結果|窺園許地山]]！&lt;&lt;/replace&gt;&gt;
		&lt;&lt;elseif $clue2list1 is &quot;許地山&quot; and $clue2list2 is &quot;窺園&quot;&gt;&gt;
			&lt;&lt;replace &#39;#clue2result&#39;&gt;&gt;觀看[[推理結果|窺園許地山]]！&lt;&lt;/replace&gt;&gt;
		&lt;&lt;elseif $clue2list1 is &quot;許南英&quot; and $clue2list2 is &quot;許特齊&quot;&gt;&gt;
			&lt;&lt;replace &#39;#clue2result&#39;&gt;&gt;觀看[[推理結果|許特齊許南英]]！&lt;&lt;/replace&gt;&gt;
		&lt;&lt;elseif $clue2list1 is &quot;許特齊&quot; and $clue2list2 is &quot;許南英&quot;&gt;&gt;
			&lt;&lt;replace &#39;#clue2result&#39;&gt;&gt;觀看[[推理結果|許特齊許南英]]！&lt;&lt;/replace&gt;&gt;
		&lt;&lt;elseif $clue2list1 is &quot;許南英晚年&quot; and $clue2list2 is &quot;許特齊&quot;&gt;&gt;
			&lt;&lt;replace &#39;#clue2result&#39;&gt;&gt;觀看[[推理結果|許特齊許南英晚年]]！&lt;&lt;/replace&gt;&gt;
		&lt;&lt;elseif $clue2list1 is &quot;許特齊&quot; and $clue2list2 is &quot;許南英晚年&quot;&gt;&gt;
			&lt;&lt;replace &#39;#clue2result&#39;&gt;&gt;觀看[[推理結果|許特齊許南英晚年]]！&lt;&lt;/replace&gt;&gt;
		&lt;&lt;elseif $clue2list1 is &quot;窺園留草&quot; and $clue2list2 is &quot;許特齊&quot;&gt;&gt;
			&lt;&lt;replace &#39;#clue2result&#39;&gt;&gt;觀看[[推理結果|許特齊窺園留草]]！&lt;&lt;/replace&gt;&gt;
		&lt;&lt;elseif $clue2list1 is &quot;許特齊&quot; and $clue2list2 is &quot;窺園留草&quot;&gt;&gt;
			&lt;&lt;replace &#39;#clue2result&#39;&gt;&gt;觀看[[推理結果|許特齊窺園留草]]！&lt;&lt;/replace&gt;&gt;
		&lt;&lt;elseif $clue2list1 is &quot;許南英&quot; and $clue2list2 is &quot;許南英晚年&quot;&gt;&gt;
			&lt;&lt;replace &#39;#clue2result&#39;&gt;&gt;觀看[[推理結果|許南英許南英晚年]]！&lt;&lt;/replace&gt;&gt;
		&lt;&lt;elseif $clue2list1 is &quot;許南英晚年&quot; and $clue2list2 is &quot;許南英&quot;&gt;&gt;
			&lt;&lt;replace &#39;#clue2result&#39;&gt;&gt;觀看[[推理結果|許南英許南英晚年]]！&lt;&lt;/replace&gt;&gt;
		&lt;&lt;elseif $clue2list1 is &quot;許南英&quot; and $clue2list2 is &quot;日本政府&quot;&gt;&gt;
			&lt;&lt;replace &#39;#clue2result&#39;&gt;&gt;觀看[[推理結果|許南英日本政府]]！&lt;&lt;/replace&gt;&gt;
		&lt;&lt;elseif $clue2list1 is &quot;日本政府&quot; and $clue2list2 is &quot;許南英&quot;&gt;&gt;
			&lt;&lt;replace &#39;#clue2result&#39;&gt;&gt;觀看[[推理結果|許南英日本政府]]！&lt;&lt;/replace&gt;&gt;
		&lt;&lt;elseif $clue2list1 is &quot;許南英&quot; and $clue2list2 is &quot;窺園留草&quot;&gt;&gt;
			&lt;&lt;replace &#39;#clue2result&#39;&gt;&gt;觀看[[推理結果|許南英窺園留草]]！&lt;&lt;/replace&gt;&gt;
		&lt;&lt;elseif $clue2list1 is &quot;窺園留草&quot; and $clue2list2 is &quot;許南英&quot;&gt;&gt;
			&lt;&lt;replace &#39;#clue2result&#39;&gt;&gt;觀看[[推理結果|許南英窺園留草]]！&lt;&lt;/replace&gt;&gt;
		&lt;&lt;elseif $clue2list1 is &quot;許南英&quot; and $clue2list2 is &quot;許地山&quot;&gt;&gt;
			&lt;&lt;replace &#39;#clue2result&#39;&gt;&gt;觀看[[推理結果|許南英許地山]]！&lt;&lt;/replace&gt;&gt;
		&lt;&lt;elseif $clue2list1 is &quot;許地山&quot; and $clue2list2 is &quot;許南英&quot;&gt;&gt;
			&lt;&lt;replace &#39;#clue2result&#39;&gt;&gt;觀看[[推理結果|許南英許地山]]！&lt;&lt;/replace&gt;&gt;
		&lt;&lt;elseif $clue2list1 is &quot;日本政&quot; and $clue2list2 is &quot;許南英晚年&quot;&gt;&gt;
			&lt;&lt;replace &#39;#clue2result&#39;&gt;&gt;觀看[[推理結果|許南英晚年日本政府]]！&lt;&lt;/replace&gt;&gt;
		&lt;&lt;elseif $clue2list1 is &quot;許南英晚年&quot; and $clue2list2 is &quot;日本政&quot;&gt;&gt;
			&lt;&lt;replace &#39;#clue2result&#39;&gt;&gt;觀看[[推理結果|許南英晚年日本政府]]！&lt;&lt;/replace&gt;&gt;
		&lt;&lt;elseif $clue2list1 is &quot;許南英晚年&quot; and $clue2list2 is &quot;窺園留草&quot;&gt;&gt;
			&lt;&lt;replace &#39;#clue2result&#39;&gt;&gt;觀看[[推理結果|許南英晚年窺園留草]]！&lt;&lt;/replace&gt;&gt;
		&lt;&lt;elseif $clue2list1 is &quot;窺園留草&quot; and $clue2list2 is &quot;許南英晚年&quot;&gt;&gt;
			&lt;&lt;replace &#39;#clue2result&#39;&gt;&gt;觀看[[推理結果|許南英晚年窺園留草]]！&lt;&lt;/replace&gt;&gt;
		&lt;&lt;elseif $clue2list1 is &quot;許南英晚年&quot; and $clue2list2 is &quot;許地山&quot;&gt;&gt;
			&lt;&lt;replace &#39;#clue2result&#39;&gt;&gt;觀看[[推理結果|許南英晚年許地山]]！&lt;&lt;/replace&gt;&gt;
		&lt;&lt;elseif $clue2list1 is &quot;許地山&quot; and $clue2list2 is &quot;許南英晚年&quot;&gt;&gt;
			&lt;&lt;replace &#39;#clue2result&#39;&gt;&gt;觀看[[推理結果|許南英晚年許地山]]！&lt;&lt;/replace&gt;&gt;
		&lt;&lt;elseif $clue2list1 is &quot;窺園留草&quot; and $clue2list2 is &quot;日本政府&quot;&gt;&gt;
			&lt;&lt;replace &#39;#clue2result&#39;&gt;&gt;觀看[[推理結果|窺園留草日本政府]]！&lt;&lt;/replace&gt;&gt;
		&lt;&lt;elseif $clue2list1 is &quot;日本政府&quot; and $clue2list2 is &quot;窺園留草&quot;&gt;&gt;
			&lt;&lt;replace &#39;#clue2result&#39;&gt;&gt;觀看[[推理結果|窺園留草日本政府]]！&lt;&lt;/replace&gt;&gt;
		&lt;&lt;elseif $clue2list1 is &quot;許地山&quot; and $clue2list2 is &quot;日本政府&quot;&gt;&gt;
			&lt;&lt;replace &#39;#clue2result&#39;&gt;&gt;觀看[[推理結果|許地山日本政府]]！&lt;&lt;/replace&gt;&gt;
		&lt;&lt;elseif $clue2list1 is &quot;日本政府&quot; and $clue2list2 is &quot;許地山&quot;&gt;&gt;
			&lt;&lt;replace &#39;#clue2result&#39;&gt;&gt;觀看[[推理結果|許地山日本政府]]！&lt;&lt;/replace&gt;&gt;
		&lt;&lt;elseif $clue2list1 is &quot;許地山&quot; and $clue2list2 is &quot;窺園留草&quot;&gt;&gt;
			&lt;&lt;replace &#39;#clue2result&#39;&gt;&gt;觀看[[推理結果|許地山窺園留草]]！&lt;&lt;/replace&gt;&gt;
		&lt;&lt;elseif $clue2list1 is &quot;窺園留草&quot; and $clue2list2 is &quot;許地山&quot;&gt;&gt;
			&lt;&lt;replace &#39;#clue2result&#39;&gt;&gt;觀看[[推理結果|許地山窺園留草]]！&lt;&lt;/replace&gt;&gt;
		&lt;&lt;elseif $clue2list1 is &quot;許丙丁&quot; and $clue2list2 is &quot;窺園留草&quot;&gt;&gt;
			&lt;&lt;replace &#39;#clue2result&#39;&gt;&gt;觀看[[推理結果|許丙丁窺園留草]]！&lt;&lt;/replace&gt;&gt;
		&lt;&lt;elseif $clue2list1 is &quot;窺園留草&quot; and $clue2list2 is &quot;許丙丁&quot;&gt;&gt;
			&lt;&lt;replace &#39;#clue2result&#39;&gt;&gt;觀看[[推理結果|許丙丁窺園留草]]！&lt;&lt;/replace&gt;&gt;
		&lt;&lt;elseif $clue2list1 is &quot;許丙丁&quot; and $clue2list2 is &quot;日本政府&quot;&gt;&gt;
			&lt;&lt;replace &#39;#clue2result&#39;&gt;&gt;觀看[[推理結果|許丙丁日本政府]]！&lt;&lt;/replace&gt;&gt;
		&lt;&lt;elseif $clue2list1 is &quot;日本政府&quot; and $clue2list2 is &quot;許丙丁&quot;&gt;&gt;
			&lt;&lt;replace &#39;#clue2result&#39;&gt;&gt;觀看[[推理結果|許丙丁日本政府]]！&lt;&lt;/replace&gt;&gt;
		&lt;&lt;elseif $clue2list1 is &quot;日本戰敗&quot; and $clue2list2 is &quot;日本政府&quot;&gt;&gt;
			&lt;&lt;replace &#39;#clue2result&#39;&gt;&gt;觀看[[推理結果|日本政府日本戰敗]]！&lt;&lt;/replace&gt;&gt;
		&lt;&lt;elseif $clue2list1 is &quot;日本政府&quot; and $clue2list2 is &quot;日本戰敗&quot;&gt;&gt;
			&lt;&lt;replace &#39;#clue2result&#39;&gt;&gt;觀看[[推理結果|日本政府日本戰敗]]！&lt;&lt;/replace&gt;&gt;
		&lt;&lt;elseif $clue2list1 is &quot;日本戰敗&quot; and $clue2list2 is &quot;窺園留草&quot;&gt;&gt;
			&lt;&lt;replace &#39;#clue2result&#39;&gt;&gt;觀看[[推理結果|窺園留草日本戰敗]]！&lt;&lt;/replace&gt;&gt;
		&lt;&lt;elseif $clue2list1 is &quot;窺園留草&quot; and $clue2list2 is &quot;日本戰敗&quot;&gt;&gt;
			&lt;&lt;replace &#39;#clue2result&#39;&gt;&gt;觀看[[推理結果|窺園留草日本戰敗]]！&lt;&lt;/replace&gt;&gt;
		&lt;&lt;elseif $clue2list1 is &quot;日本戰敗&quot; and $clue2list2 is &quot;許地山&quot;&gt;&gt;
			&lt;&lt;replace &#39;#clue2result&#39;&gt;&gt;觀看[[推理結果|許地山日本戰敗]]！&lt;&lt;/replace&gt;&gt;
		&lt;&lt;elseif $clue2list1 is &quot;許地山&quot; and $clue2list2 is &quot;日本戰敗&quot;&gt;&gt;
			&lt;&lt;replace &#39;#clue2result&#39;&gt;&gt;觀看[[推理結果|許地山日本戰敗]]！&lt;&lt;/replace&gt;&gt;
		&lt;&lt;elseif $clue2list1 is &quot;許丙丁&quot; and $clue2list2 is &quot;日本戰敗&quot;&gt;&gt;
			&lt;&lt;replace &#39;#clue2result&#39;&gt;&gt;觀看[[推理結果|許丙丁日本戰敗]]！&lt;&lt;/replace&gt;&gt;
		&lt;&lt;elseif $clue2list1 is &quot;日本戰敗&quot; and $clue2list2 is &quot;許丙丁&quot;&gt;&gt;
			&lt;&lt;replace &#39;#clue2result&#39;&gt;&gt;觀看[[推理結果|許丙丁日本戰敗]]！&lt;&lt;/replace&gt;&gt;
		&lt;&lt;elseif $clue2list1 is &quot;湯德章&quot; and $clue2list2 is &quot;日本戰敗&quot;&gt;&gt;
			&lt;&lt;replace &#39;#clue2result&#39;&gt;&gt;觀看[[推理結果|湯德章日本戰敗]]！&lt;&lt;/replace&gt;&gt;
		&lt;&lt;elseif $clue2list1 is &quot;日本戰敗&quot; and $clue2list2 is &quot;湯德章&quot;&gt;&gt;
			&lt;&lt;replace &#39;#clue2result&#39;&gt;&gt;觀看[[推理結果|湯德章日本戰敗]]！&lt;&lt;/replace&gt;&gt;
		&lt;&lt;elseif $clue2list1 is &quot;傳承台灣文化&quot; and $clue2list2 is &quot;日本戰敗&quot;&gt;&gt;
			&lt;&lt;replace &#39;#clue2result&#39;&gt;&gt;觀看[[推理結果|傳承台灣文化日本戰敗]]！&lt;&lt;/replace&gt;&gt;
		&lt;&lt;elseif $clue2list1 is &quot;日本戰敗&quot; and $clue2list2 is &quot;傳承台灣文化&quot;&gt;&gt;
			&lt;&lt;replace &#39;#clue2result&#39;&gt;&gt;觀看[[推理結果|傳承台灣文化日本戰敗]]！&lt;&lt;/replace&gt;&gt;
		&lt;&lt;elseif $clue2list1 is &quot;俠士&quot; and $clue2list2 is &quot;日本戰敗&quot;&gt;&gt;
			&lt;&lt;replace &#39;#clue2result&#39;&gt;&gt;觀看[[推理結果|俠士日本戰敗]]！&lt;&lt;/replace&gt;&gt;
		&lt;&lt;elseif $clue2list1 is &quot;日本戰敗&quot; and $clue2list2 is &quot;俠士&quot;&gt;&gt;
			&lt;&lt;replace &#39;#clue2result&#39;&gt;&gt;觀看[[推理結果|俠士日本戰敗]]！&lt;&lt;/replace&gt;&gt;
		&lt;&lt;elseif $clue2list1 is &quot;湯德章&quot; and $clue2list2 is &quot;日本政府&quot;&gt;&gt;
			&lt;&lt;replace &#39;#clue2result&#39;&gt;&gt;觀看[[推理結果|湯德章日本政府]]！&lt;&lt;/replace&gt;&gt;
		&lt;&lt;elseif $clue2list1 is &quot;日本政府&quot; and $clue2list2 is &quot;湯德章&quot;&gt;&gt;
			&lt;&lt;replace &#39;#clue2result&#39;&gt;&gt;觀看[[推理結果|湯德章日本政府]]！&lt;&lt;/replace&gt;&gt;
		&lt;&lt;elseif $clue2list1 is &quot;傳承台灣文化&quot; and $clue2list2 is &quot;日本政府&quot;&gt;&gt;
			&lt;&lt;replace &#39;#clue2result&#39;&gt;&gt;觀看[[推理結果|傳承台灣文化日本政府]]！&lt;&lt;/replace&gt;&gt;
		&lt;&lt;elseif $clue2list1 is &quot;日本政府&quot; and $clue2list2 is &quot;傳承台灣文化&quot;&gt;&gt;
			&lt;&lt;replace &#39;#clue2result&#39;&gt;&gt;觀看[[推理結果|傳承台灣文化日本政府]]！&lt;&lt;/replace&gt;&gt;
		&lt;&lt;elseif $clue2list1 is &quot;傳承台灣文化&quot; and $clue2list2 is &quot;窺園留草&quot;&gt;&gt;
			&lt;&lt;replace &#39;#clue2result&#39;&gt;&gt;觀看[[推理結果|傳承台灣文化窺園留草]]！&lt;&lt;/replace&gt;&gt;
		&lt;&lt;elseif $clue2list1 is &quot;窺園留草&quot; and $clue2list2 is &quot;傳承台灣文化&quot;&gt;&gt;
			&lt;&lt;replace &#39;#clue2result&#39;&gt;&gt;觀看[[推理結果|傳承台灣文化窺園留草]]！&lt;&lt;/replace&gt;&gt;
		&lt;&lt;elseif $clue2list1 is &quot;傳承台灣文化&quot; and $clue2list2 is &quot;許地山&quot;&gt;&gt;
			&lt;&lt;replace &#39;#clue2result&#39;&gt;&gt;觀看[[推理結果|傳承台灣文化窺園留草]]！&lt;&lt;/replace&gt;&gt;
		&lt;&lt;elseif $clue2list1 is &quot;許地山&quot; and $clue2list2 is &quot;傳承台灣文化&quot;&gt;&gt;
			&lt;&lt;replace &#39;#clue2result&#39;&gt;&gt;觀看[[推理結果|傳承台灣文化窺園留草]]！&lt;&lt;/replace&gt;&gt;
		&lt;&lt;elseif $clue2list1 is &quot;傳承台灣文化&quot; and $clue2list2 is &quot;許丙丁&quot;&gt;&gt;
			&lt;&lt;replace &#39;#clue2result&#39;&gt;&gt;觀看[[推理結果|傳承台灣文化許丙丁]]！&lt;&lt;/replace&gt;&gt;
		&lt;&lt;elseif $clue2list1 is &quot;許丙丁&quot; and $clue2list2 is &quot;傳承台灣文化&quot;&gt;&gt;
			&lt;&lt;replace &#39;#clue2result&#39;&gt;&gt;觀看[[推理結果|傳承台灣文化許丙丁]]！&lt;&lt;/replace&gt;&gt;
		&lt;&lt;elseif $clue2list1 is &quot;傳承台灣文化&quot; and $clue2list2 is &quot;俠士&quot;&gt;&gt;
			&lt;&lt;replace &#39;#clue2result&#39;&gt;&gt;觀看[[推理結果|俠士傳承台灣文化]]！&lt;&lt;/replace&gt;&gt;
		&lt;&lt;elseif $clue2list1 is &quot;俠士&quot; and $clue2list2 is &quot;傳承台灣文化&quot;&gt;&gt;
			&lt;&lt;replace &#39;#clue2result&#39;&gt;&gt;觀看[[推理結果|俠士傳承台灣文化]]！&lt;&lt;/replace&gt;&gt;
		&lt;&lt;elseif $clue2list1 is &quot;日本政府&quot; and $clue2list2 is &quot;俠士&quot;&gt;&gt;
			&lt;&lt;replace &#39;#clue2result&#39;&gt;&gt;觀看[[推理結果|俠士日本政府]]！&lt;&lt;/replace&gt;&gt;
		&lt;&lt;elseif $clue2list1 is &quot;俠士&quot; and $clue2list2 is &quot;日本政府&quot;&gt;&gt;
			&lt;&lt;replace &#39;#clue2result&#39;&gt;&gt;觀看[[推理結果|俠士日本政府]]！&lt;&lt;/replace&gt;&gt;
		&lt;&lt;elseif $clue2list1 is &quot;窺園留草&quot; and $clue2list2 is &quot;俠士&quot;&gt;&gt;
			&lt;&lt;replace &#39;#clue2result&#39;&gt;&gt;觀看[[推理結果|俠士窺園留草]]！&lt;&lt;/replace&gt;&gt;
		&lt;&lt;elseif $clue2list1 is &quot;俠士&quot; and $clue2list2 is &quot;窺園留草&quot;&gt;&gt;
			&lt;&lt;replace &#39;#clue2result&#39;&gt;&gt;觀看[[推理結果|俠士窺園留草]]！&lt;&lt;/replace&gt;&gt;
		&lt;&lt;elseif $clue2list1 is &quot;許地山&quot; and $clue2list2 is &quot;俠士&quot;&gt;&gt;
			&lt;&lt;replace &#39;#clue2result&#39;&gt;&gt;觀看[[推理結果|俠士許地山]]！&lt;&lt;/replace&gt;&gt;
		&lt;&lt;elseif $clue2list1 is &quot;俠士&quot; and $clue2list2 is &quot;許地山&quot;&gt;&gt;
			&lt;&lt;replace &#39;#clue2result&#39;&gt;&gt;觀看[[推理結果|俠士許地山]]！&lt;&lt;/replace&gt;&gt;
		&lt;&lt;elseif $clue2list1 is &quot;許丙丁&quot; and $clue2list2 is &quot;俠士&quot;&gt;&gt;
			&lt;&lt;replace &#39;#clue2result&#39;&gt;&gt;觀看[[推理結果|俠士許丙丁]]！&lt;&lt;/replace&gt;&gt;
		&lt;&lt;elseif $clue2list1 is &quot;俠士&quot; and $clue2list2 is &quot;許丙丁&quot;&gt;&gt;
			&lt;&lt;replace &#39;#clue2result&#39;&gt;&gt;觀看[[推理結果|俠士許丙丁]]！&lt;&lt;/replace&gt;&gt;
		&lt;&lt;elseif $clue2list1 is &quot;許丙丁&quot; and $clue2list2 is &quot;革命日本政府&quot;&gt;&gt;
			&lt;&lt;replace &#39;#clue2result&#39;&gt;&gt;觀看[[推理結果|許丙丁革命日本政府]]！&lt;&lt;/replace&gt;&gt;
		&lt;&lt;elseif $clue2list1 is &quot;革命日本政府&quot; and $clue2list2 is &quot;許丙丁&quot;&gt;&gt;
			&lt;&lt;replace &#39;#clue2result&#39;&gt;&gt;觀看[[推理結果|許丙丁革命日本政府]]！&lt;&lt;/replace&gt;&gt;
		&lt;&lt;elseif $clue2list1 is &quot;湯德章&quot; and $clue2list2 is &quot;革命日本政府&quot;&gt;&gt;
			&lt;&lt;replace &#39;#clue2result&#39;&gt;&gt;觀看[[推理結果|湯德章革命日本政府]]！&lt;&lt;/replace&gt;&gt;
		&lt;&lt;elseif $clue2list1 is &quot;革命日本政府&quot; and $clue2list2 is &quot;湯德章&quot;&gt;&gt;
			&lt;&lt;replace &#39;#clue2result&#39;&gt;&gt;觀看[[推理結果|湯德章革命日本政府]]！&lt;&lt;/replace&gt;&gt;
		&lt;&lt;elseif $clue2list1 is &quot;俠士&quot; and $clue2list2 is &quot;革命日本政府&quot;&gt;&gt;
			&lt;&lt;replace &#39;#clue2result&#39;&gt;&gt;觀看[[推理結果|俠士革命日本政府]]！&lt;&lt;/replace&gt;&gt;
		&lt;&lt;elseif $clue2list1 is &quot;革命日本政府&quot; and $clue2list2 is &quot;俠士&quot;&gt;&gt;
			&lt;&lt;replace &#39;#clue2result&#39;&gt;&gt;觀看[[推理結果|俠士革命日本政府]]！&lt;&lt;/replace&gt;&gt;
		&lt;&lt;elseif $clue2list1 is &quot;湯德章&quot; and $clue2list2 is &quot;許丙丁&quot;&gt;&gt;
			&lt;&lt;replace &#39;#clue2result&#39;&gt;&gt;觀看[[推理結果|許丙丁湯德章]]！&lt;&lt;/replace&gt;&gt;
		&lt;&lt;elseif $clue2list1 is &quot;許丙丁&quot; and $clue2list2 is &quot;湯德章&quot;&gt;&gt;
			&lt;&lt;replace &#39;#clue2result&#39;&gt;&gt;觀看[[推理結果|許丙丁湯德章]]！&lt;&lt;/replace&gt;&gt;
		&lt;&lt;elseif $clue2list1 is &quot;湯德章&quot; and $clue2list2 is &quot;俠士&quot;&gt;&gt;
			&lt;&lt;replace &#39;#clue2result&#39;&gt;&gt;觀看[[推理結果|俠士湯德章]]！&lt;&lt;/replace&gt;&gt;
		&lt;&lt;elseif $clue2list1 is &quot;俠士&quot; and $clue2list2 is &quot;湯德章&quot;&gt;&gt;
			&lt;&lt;replace &#39;#clue2result&#39;&gt;&gt;觀看[[推理結果|俠士湯德章]]！&lt;&lt;/replace&gt;&gt;
		&lt;&lt;else&gt;&gt;
			&lt;&lt;replace &#39;#clue2result&#39;&gt;&gt;沒什麼有用的資訊。&lt;&lt;/replace&gt;&gt;
		&lt;&lt;/if&gt;&gt;
	&lt;&lt;/link&gt;&gt;
	
&lt;div id=&#39;clue2result&#39;&gt;&lt;/div&gt;</tw-passagedata><tw-passagedata pid="80" name="推理1下拉1" tags="noreturn combine" position="150,1425" size="100,100">&lt;&lt;listbox &quot;$clue1list1&quot;&gt;&gt;
&lt;&lt;optionsfrom $clue1&gt;&gt;
&lt;&lt;/listbox&gt;&gt;</tw-passagedata><tw-passagedata pid="81" name="推理1下拉2" tags="noreturn combine" position="250,1425" size="100,100">&lt;&lt;listbox &quot;$clue1list2&quot;&gt;&gt;
&lt;&lt;optionsfrom $clue1&gt;&gt;
&lt;&lt;/listbox&gt;&gt;</tw-passagedata><tw-passagedata pid="82" name="推理2下拉1" tags="noreturn combine" position="650,1425" size="100,100">&lt;&lt;listbox &quot;$clue2list1&quot;&gt;&gt;
&lt;&lt;optionsfrom $clue2&gt;&gt;
&lt;&lt;/listbox&gt;&gt;</tw-passagedata><tw-passagedata pid="83" name="推理2下拉2" tags="noreturn combine" position="750,1425" size="100,100">&lt;&lt;listbox &quot;$clue2list2&quot;&gt;&gt;
&lt;&lt;optionsfrom $clue2&gt;&gt;
&lt;&lt;/listbox&gt;&gt;</tw-passagedata><tw-passagedata pid="84" name="鳳山台銀" tags="result noreturn" position="500,1575" size="100,100">&lt;&lt;if $cluecount.includes(&#39;鳳山台銀&#39;)&gt;&gt;
你先前已推理出該結果。&lt;&lt;linkreplace 回憶推理結果。&gt;&gt;
//@@color:GRAY;經過幾次翻修，鳳山宮於清領時期更名為「永華宮」，並用於對陳永華的追念，後來又在日治時期被迫遷廟至六合境柱子行。@@//&lt;&lt;/linkreplace&gt;&gt;
&lt;&lt;else&gt;&gt;
//@@color:GRAY;經過幾次翻修，鳳山宮於清領時期更名為「永華宮」，並用於對陳永華的追念，後來又在日治時期被迫遷廟至六合境柱子行。@@//&lt;&lt;run $cluecount.pushUnique(&#39;鳳山台銀&#39;)&gt;&gt;
&lt;&lt;/if&gt;&gt;
[[繼續推理|previous()]]</tw-passagedata><tw-passagedata pid="85" name="望向主殿" tags="" position="1650,325" size="100,100">//@@color:GRAY;望向主殿，除了廟與本身主祀神像外，還有更多的其他神像被擺在廟裡。
透過廟內柱子上的對聯，你發現到原來永華宮內並非主要祭祀著陳永華，而是來自福建泉州南安，本名郭忠福的廣澤尊王，信眾、官府都因為其神蹟又追封了不少封號。

傳說他除了替信眾提醒了盜匪的到來，也替當地居民鎮住了不少瘟疫、邪靈，更有名的就是陳守娘的這一軼事。

廟內人員表示，相傳廟內尊王神像乃明永曆十六年 (1662年) 由鄭成功諮議參軍陳永華隨軍恭迎來臺，是台灣最早之「軟身」廣澤尊王金身。

※軟身神像是一種裝置有關節、四肢可活動的雕像，雕刻內容是道教或佛教的神祇，用途是奉祀於寺廟之中，通常為木雕。

之所以廟內有很多神像矗立，廟內人員說明是因為其他廟宇也會將新製作好的尊王以及他的兩位部將「陳差欽」、「黃太尉」都一齊帶來廟與開光。

廟內人員又補充了放置的方位，一般情況下，陳差欽因為官位較大，會站立在龍邊；留鬚的黃太尉則立於虎邊。@@//
&lt;&lt;run $visit.pushUnique(&#39;主殿&#39;)&gt;&gt;
[[觀察廟內的其他地方|自廟的左側、「龍門」處，往廟裡走去。]]</tw-passagedata><tw-passagedata pid="86" name="望向左右的偏殿處" tags="" position="1550,325" size="100,100">//@@color:GRAY;望向左右的偏殿處，廟內還有數尊陪祀神。依照上方的文字，你看到，左側有福德正神、北斗星君、五營官將；右側則有三坪祖師、南斗星君、達摩祖師等。依照廟方人員所說，廟內還祭祀有月下老人、中壇元帥、妙應仙妃 (廣澤尊王夫人)，以及陳永華參軍等神明。

廟內人員還說明，達摩祖師原本僅有牆上壁畫，後來顯靈要求彫塑金身，才有了今天的神像。@@//
&lt;&lt;run $visit.pushUnique(&#39;偏殿&#39;)&gt;&gt;
[[觀察廟內的其他地方|自廟的左側、「龍門」處，往廟裡走去。]]</tw-passagedata><tw-passagedata pid="87" name="望向廟內牆面的圖像" tags="" position="1450,375" size="100,100">//@@color:GRAY;望向廟內牆面的圖像，牆面隨著香火不斷，記載著廣澤尊王生平的圖像被燻得充滿古意。從堪輿師感其孝心指點吉地；到後來登上郭山山頂，坐在古藤上蛻化升天，甚至是顯靈於世間的眾多功績。

廟內人員還打趣地說，當初委託的彩繪師本來想要簡單勾勒一些意象便想交貨，但是被他們要求要把盜匪、皇帝等群眾的聲勢畫到盡可能盛大，來恭頌尊王的神蹟。@@//
&lt;&lt;run $visit.pushUnique(&#39;廟內圖像&#39;)&gt;&gt;
[[觀察廟內的其他地方|自廟的左側、「龍門」處，往廟裡走去。]]</tw-passagedata><tw-passagedata pid="88" name="望向掛滿了的匾額" tags="" position="1750,425" size="100,100">//@@color:GRAY;望向屋架上方掛滿了的匾額，同樣是被薰的黑黑的，其中龍邊偏殿有塊寫著「廣澤尊王」的匾額，明顯的有更為悠遠的歷史。

廟方人員介紹到這是自明朝便賜與的一塊匾額，但是之所以不掛在正殿之上，完全是隨尊王的意思辦的。

現在掛在正殿的反而是由成大中文系教授「吳榮富」教授在近年所撰寫，可惜教授於2015年病逝。

除了匾額，當時細膩到連廟裡長度不對稱的柱子、柱子的裝飾、門口以石鼓代替石獅……等，都是徵求尊王的同意才這樣設計。規格的掌握甚至讓當時建造廟宇的師傅感到緊張，因為他從沒聽過這樣的要求。@@//
&lt;&lt;run $visit.pushUnique(&#39;廟內匾額&#39;)&gt;&gt;
[[觀察廟內的其他地方|自廟的左側、「龍門」處，往廟裡走去。]]</tw-passagedata><tw-passagedata pid="89" name="望向廟內的紅柱" tags="" position="1750,350" size="100,100">//@@color:GRAY;與廟內的一塊匾額一樣，都是由成大中文系教授「吳榮富」特別撰寫給尊王的詞句。從詞句上平仄、對稱之講究，可以自對聯之上看出吳榮富教授在國學知識上的造詣。

吳教授因為幼時貧困而輟學成為童工，後來在海尾朝皇宮鄉塾隨著邱登榜先生學習國學、詩學的知識，之後又在水墨畫領域，師承蔣承贊先生與鍾壽仁先生，可謂才高八斗。

除了不輟的創作、出版書籍，吳教授在校內對學生教育貢獻也很多。曾在成大校內的新聞中，有「不吝以金針度人」的評價，這完全來源於曾受點播的學生在創作上的亮麗成績。

在吳教授身故後，甚至有學生透過廟內的對聯，取得其筆跡留作紀念、研究；現在透過廟內、外的匾額、對聯來追憶吳教授，略感遺憾的同時，也讓人欽佩其才華與奉獻！@@//
&lt;&lt;run $visit.pushUnique(&#39;廟內紅柱&#39;)&gt;&gt;
[[觀察廟內的其他地方|自廟的左側、「龍門」處，往廟裡走去。]]</tw-passagedata><tw-passagedata pid="90" name="望向廟宇木門圖樣" tags="" position="1550,425" size="100,100">//@@color:GRAY;從圖案的色澤上，你看出圖案的年代久遠。雖有幾處裂痕卻是保存良好，上面的天兵神將依然神情肅穆、姿態威武。

相傳這些作品是由潘麗水大師所繪製，可惜上面沒有落款可以追溯，甚為可惜。

後來，連同廟內的諸多圖畫，均由同為巨匠的徒弟王妙舜大師重修彩繪。

有別於全新繪製，重新修復時所使用的古意盎然的用色，更讓人感受到一股溫暖的生活感，彷彿時光被凝結在廟甫建成的遙遠過去。@@//
&lt;&lt;run $visit.pushUnique(&#39;廟內木門&#39;)&gt;&gt;
[[觀察廟內的其他地方|自廟的左側、「龍門」處，往廟裡走去。]]</tw-passagedata><tw-passagedata pid="91" name="詢問陳永華參軍的祭祀位置" tags="" position="1650,425" size="100,100">//@@color:GRAY;廟方人員告訴你目前供奉於廟的後方，要出廟之後，自廟逞左轉往廟的後面走去，往三樓移動才能看到。

看來，那邊會是對測驗來說，有更多相關資訊的地方。
所以事不宜遲趕緊@@//[[往廟外移動]]。
&lt;&lt;run $visit.pushUnique(&#39;詢問祭祀&#39;)&gt;&gt;&lt;&lt;run $visit.pushUnique(&#39;廟外&#39;)&gt;&gt;
[[觀察廟內的其他地方|自廟的左側、「龍門」處，往廟裡走去。]]</tw-passagedata><tw-passagedata pid="92" name="望向白色的牆壁" tags="" position="1650,700" size="100,100">//@@color:GRAY;眼前的牆壁也不高，上方還有類似屋頂的裝飾物，用做區隔空間還可以，但是要能夠作為高樓建築的結構，看起來不是太合理。@@

@@color:Orange;凜夜@@@@color:GRAY;見你望著牆壁像在思索什麼，對你說道@@//
「這是照牆，有人也叫它照壁或影壁。」//@@color:GRAY;他向你笑了笑，又接著說@@//
「我不是說過『我會盡力在謎題上向你支援的』嗎？這點程度的知識我就不需要廟裡的那個老爺爺幫忙了!」//@@color:GRAY;他充滿自信的向你回覆，見你了解了之後，又繼續補述@@//

「過去建造這個，多半是用於提供防禦、阻隔海風、避邪和遮蔽效果，但你看它被漆成明亮的顏色，其實也同時能透過反射光線，來多少替室內空間提供……，用現在的話說，就叫『間接照明』吧!」

//@@color:Orange;凜夜@@@@color:GRAY;說完後，想了一下，然後對你表示@@//
「不過這對測驗來說，似乎沒有什麼幫助呢」//@@color:GRAY;語罷便是一陣苦笑。@@//
&lt;&lt;run $visit.pushUnique(&#39;廟外白牆&#39;)&gt;&gt;
[[觀察廟外的其他地方|往廟外移動]]</tw-passagedata><tw-passagedata pid="93" name="望向掛滿許願牌的榕樹" tags="" position="1750,700" size="100,100">//@@color:GRAY;從樹上掛滿的許願牌，你們可以感受到這裡對於吸引觀光客、信徒這件事，實在是不遺餘力。得益於附近就是台南孔廟，此處總是不乏觀光客，對向的泮宮坊也是氣勢輝煌。

深入泮宮坊來到的老街也是別有風光。在假日時，這個古今交錯的氣息讓附近的攤販對遊客接應不暇，這些許願牌也是透過這樣的環境一點一滴地逐漸掛滿的吧。@@

@@color:Orange;凜夜@@@@color:GRAY;幾個箭步跑向廟方人員問了一下之後，就馬上告訴你@@//「這個牌子已經有很久的歷史了，你看，這裡有很新很新的、也有早已斑駁老舊的牌子」//@@color:GRAY;說完就馬上往樹上一指，接著又說@@//「廟裡的人說，其實這些牌子也有掉下來的時候，但是這就意味著事情已經圓滿了，所以他們就不會再繼續把牌子掛回去了」

//@@color:GRAY;就像日本神社的繪馬的習俗一樣，在台灣有這樣的事情能夠祈願、紀念自己的一番心意，倒也挺浪漫的，但這和測驗的關聯似乎不大。@@//

&lt;&lt;run $visit.pushUnique(&#39;廟外祈願榕樹&#39;)&gt;&gt;
[[觀察廟外的其他地方|往廟外移動]]</tw-passagedata><tw-passagedata pid="94" name="望向另一棵榕樹" tags="" position="1650,800" size="100,100">//@@color:GRAY;看向另一棵榕樹，你發現它是被金屬支架給固定著的，旁邊還有一座小廟。@@
@@color:Orange;凜夜@@@@color:GRAY;見你看著這棵樹，馬上對你說道@@//「當初這棵樹是一起被移來這裡種植的，但這棵樹的根被削掉大半，不如還紮根到孔廟前的另一棵來的穩健，所以僅能用這種方式將它固定、防止倒塌」//@@color:GRAY;然後又補充道@@//

「雖然這好像對測驗沒有幫助，不過它門邊的小廟也是有著多年歷史喔！！曾經有老樹倒下來，卻奇蹟的沒有壓到它與其他信眾呢！」

&lt;&lt;run $visit.pushUnique(&#39;廟外榕樹&#39;)&gt;&gt;
[[觀察廟外的其他地方|往廟外移動]]</tw-passagedata><tw-passagedata pid="95" name="望向一旁磚塊裸露的牆面" tags="" position="1750,800" size="100,100">//@@color:Orange;凜夜@@@@color:GRAY;和你都凝視了以「之」字方式錯落鋪排的紅磚結構牆面。

整面牆有著完整的漆面進行裝飾，唯獨右下區域以類似花瓣的圖案，裸露出磚頭結構，似乎是在展示著什麼。@@

@@color:Orange;凜夜@@@@color:GRAY;沉思許久，終於像是想到什麼一樣的說道@@//
「我想起來了，這是一種能夠用於抵抗地震的結構!應該是廟方為了展示這項特色才特別製作的展示區域，真是有心。」//@@color:GRAY;雖然像是解答了什麼，但是@@@@color:Orange;凜夜@@@@color:GRAY;搔了搔腦袋，似乎是覺得這跟測驗半點關係也沒有。@@//

&lt;&lt;run $visit.pushUnique(&#39;廟外裸牆&#39;)&gt;&gt;
[[觀察廟外的其他地方|往廟外移動]]</tw-passagedata><tw-passagedata pid="96" name="陳永華祭祀二樓" tags="include noreturn" position="2025,600" size="100,100">//@@color:GRAY;來到廟宇第二層處，雖然門窗封畢，無法觀賞任何東西，但是走廊處的圍牆滿是精緻的雕刻。

往原先的廟宇處望去，永華宮廟宇上方的結構、裝飾直映入眼簾，本僅能仰視之的諸多細節都變得清晰無比，霎時間讓你們感到心曠神怡！@@//
&lt;&lt;run $visit.pushUnique(&#39;陳永華祭祀二樓&#39;)&gt;&gt;
&lt;&lt;linkreplace 繼續向上方樓層前進&gt;&gt;@@color:GRAY;抵達三樓後，你們僅走個幾步便看到陳永華參軍的祭祀位置。
@@@@color:Orange;凜夜@@@@color:GRAY;告訴你剛剛廟方人員有和他說明，本來廟方爭取過要將此處的布製作的更加豐富，但礙於與周邊環境的溝通結果不如預期，僅能以目前的形勢進行展示與祭祀。@@//

@@color:GRAY;來到室內空間，除了兩側陪祀的神明，這裡主要祭祀著的，就是陳永華參軍的神像；兩側也撰有由吳榮富教授所提的對聯。@@

//@@color:GRAY;精簡的空間內，你們發現能夠考究的東西看來沒有很多。@@//
&lt;&lt;run $visit.pushUnique(&#39;陳永華祭祀三樓&#39;)&gt;&gt;
[[再仔細看看祭祀處|仔細看看祭祀處]]&lt;&lt;/linkreplace&gt;&gt;</tw-passagedata><tw-passagedata pid="97" name="永華宮全探索" tags="include noreturn" position="2125,600" size="100,100">//@@color:Orange;凜夜@@@@color:GRAY;與你在廟內、廟外都跑遍了，就是沒有找到與天地會、拳師相關的痕跡，難道這件事情隱密到無法從這些觀察來得出答案嗎？

還是說是你們找錯了方向呢？

方才的一陣折騰讓你與@@@@color:Orange;凜夜@@@@color:GRAY;感到疲倦，於是@@@@color:Orange;凜夜@@@@color:GRAY;提議道@@//「我們到樹下陰涼處歇歇吧。」

//@@color:GRAY;來到樹下，@@@@color:Orange;凜夜@@@@color:GRAY;捶了捶雙腿，深深換一口氣，像是在重整狀態。

你沒有它這麼疲倦，[[只是往永華宮呆呆的望著。]]</tw-passagedata><tw-passagedata pid="98" name="只是往永華宮呆呆的望著。" tags="" position="2275,550" size="100,100">//@@color:GRAY;永華宮不少人像你們一樣在廟內、廟外走動。

當地本就有不少信徒，加上受試驗的各位之後，更是熱鬧。

這時@@@@color:BLUE;宗哥@@@@color:GRAY;也出現了，他悠哉的和@@@@color:RED;莉莉@@@@color:GRAY;慢慢走來，兩人不像是有在調查的樣子。@@//

//@@color:GRAY;你馬上轉頭要告訴@@@@color:Orange;凜夜@@@@color:GRAY;，但卻見他一改親切的表情，像是警戒著什麼一樣的收起微笑。

還沒來得及問他怎麼了，你便聽到……@@//
「唉呦！乘個涼休息一下是很重要的，適當的休息也是拳師的工作。」

「這個部份我都做得很認真的在做，也實行的很徹底，哈哈哈哈……。」
//@@color:BLUE;宗哥@@@@color:GRAY;莫名的自豪感，讓一旁的@@@@color:RED;莉莉@@@@color:GRAY;表現出嗤之以鼻的態度，

但他也沒有很在意自己形象，還繼續說道@@//「不過休息歸休息，你們可要小心這棵樹，他們會這樣固定可不是沒有原因的」
@@color:GRAY;接著又說@@「你們繼續吧，我去祭祀一下老前輩，都來這裡了總不能不打個招呼，加油啊！」
@@color:GRAY;說完就和@@@@color:RED;莉莉@@@@color:GRAY;往廟裡走去，應該是想先從天公和廣澤尊王開始參拜。

這時你循著@@@@color:BLUE;宗哥@@@@color:GRAY;的背影，在一個角落，發現了一個明顯與廟宇的保存狀況不同、類似金爐的建築。@@//

&lt;&lt;linkreplace 你馬上將這個發現告訴@@color:Orange;凜夜@@&gt;&gt;
@@color:GRAY;一轉頭，你看到@@@@color:Orange;凜夜@@@@color:GRAY;正盯著宗哥遠去的身影，直到聽到你跟他說話。@@
「廟裡有金爐，這有什麼奇怪的嗎？？」//@@color:Orange;凜夜@@@@color:GRAY;恢復了親切的神色，但是仍以略帶疑惑的表情，向你說的方位望去。@@//

「夥伴！！！」//@@color:Orange;凜夜@@@@color:GRAY;話語中帶著驚喜，馬上說道@@//「這個發現很不得了啊！」@@color:GRAY;接著就拉著你的手，@@[[一起去「香爐」前仔細觀察。|一起去「香爐」前仔細觀察]]//
&lt;&lt;/linkreplace&gt;&gt;</tw-passagedata><tw-passagedata pid="99" name="私塾惜字亭" tags="result noreturn" position="500,1675" size="100,100">&lt;&lt;if $cluecount.includes(&#39;私塾惜字亭&#39;)&gt;&gt;
你先前已推理出該結果。&lt;&lt;linkreplace 回憶推理結果。&gt;&gt;
//@@color:GRAY;原來這裡曾經是個叫作「窺園」的私塾，昔日占地甚廣，是由一名叫作許廷彰，字特齊的人所建！@@//&lt;&lt;/linkreplace&gt;&gt;
&lt;&lt;else&gt;&gt;
//@@color:GRAY;原來這裡曾經是個叫作「窺園」的私塾，昔日占地甚廣，是由一名叫作許廷彰，字特齊的人所建！@@//&lt;&lt;run $clue2.pushUnique(&#39;窺園&#39;)&gt;&gt;&lt;&lt;run $clue2.pushUnique(&#39;許特齊&#39;)&gt;&gt;&lt;&lt;run $cluecount.pushUnique(&#39;私塾惜字亭&#39;)&gt;&gt;
&lt;&lt;/if&gt;&gt;
&lt;span class=&quot;blink&quot;&gt;@@color:orange;你得到了關鍵資訊：窺園、許特齊。@@&lt;/span&gt;

[[繼續推理|previous()]]</tw-passagedata><tw-passagedata pid="100" name="窺園許特齊" tags="result noreturn" position="700,1875" size="100,100">&lt;&lt;if $cluecount.includes(&#39;窺園許特齊&#39;)&gt;&gt;
你先前已推理出該結果。&lt;&lt;linkreplace 回憶推理結果。&gt;&gt;
//@@color:GRAY;此處是許特齊在他的兒子許南英在六歲時，舉家搬遷至「南門里東安坊馬公廟」處，闢住宅四周的空地，悉心種植花木並設立私塾開館授徒，昔日的住家位置就在今日的延平郡王祠附近。@@//&lt;&lt;/linkreplace&gt;&gt;
&lt;&lt;else&gt;&gt;
//@@color:GRAY;此處是許特齊在他的兒子許南英在六歲時，舉家搬遷至「南門里東安坊馬公廟」處，闢住宅四周的空地，悉心種植花木並設立私塾開館授徒，昔日的住家位置就在今日的延平郡王祠附近。@@//&lt;&lt;run $clue2.pushUnique(&#39;許南英&#39;)&gt;&gt;&lt;&lt;run $cluecount.pushUnique(&#39;窺園許特齊&#39;)&gt;&gt;
&lt;&lt;/if&gt;&gt;
&lt;span class=&quot;blink&quot;&gt;@@color:orange;你得到了關鍵資訊：許南英。@@&lt;/span&gt;

[[繼續推理|previous()]]</tw-passagedata><tw-passagedata pid="101" name="窺園許南英" tags="result noreturn" position="800,1875" size="100,100">&lt;&lt;if $cluecount.includes(&#39;窺園許南英&#39;)&gt;&gt;
你先前已推理出該結果。&lt;&lt;linkreplace 回憶推理結果。&gt;&gt;
//@@color:GRAY;許南英於成年後，在窺園之內也創辦了「聞樨學舍」開館授徒，並廣為交遊。
當時與吳樵山、丘逢甲、陳卜五、王永翔、施雲舫等名士和學人往來。許南英晚年在中國徐聞仍同時任有官職。@@//&lt;&lt;/linkreplace&gt;&gt;
&lt;&lt;else&gt;&gt;
//@@color:GRAY;許南英於成年後，在窺園之內也創辦了「聞樨學舍」開館授徒，並廣為交遊。
當時與吳樵山、丘逢甲、陳卜五、王永翔、施雲舫等名士和學人往來。許南英晚年在中國徐聞仍同時任有官職。@@//&lt;&lt;run $clue2.pushUnique(&#39;許南英晚年&#39;)&gt;&gt;&lt;&lt;run $cluecount.pushUnique(&#39;窺園許南英&#39;)&gt;&gt;
&lt;&lt;/if&gt;&gt;
&lt;span class=&quot;blink&quot;&gt;@@color:orange;你得到了關鍵資訊：許南英晚年。@@&lt;/span&gt;

[[繼續推理|previous()]]</tw-passagedata><tw-passagedata pid="102" name="私塾許南英" tags="result noreturn" position="800,1675" size="100,100">&lt;&lt;if $cluecount.includes(&#39;私塾窺園&#39;)&gt;&gt;
你先前已推理出該結果。&lt;&lt;linkreplace 回憶推理結果。&gt;&gt;
//@@color:GRAY;許南英於成年後，在窺園之內也創辦了「聞樨學舍」開館授徒，並廣為交遊。
當時與吳樵山、丘逢甲、陳卜五、王永翔、施雲舫等名士和學人往來。許南英晚年在中國徐聞仍同時任有官職。@@//&lt;&lt;/linkreplace&gt;&gt;
&lt;&lt;else&gt;&gt;
//@@color:GRAY;許南英於成年後，在窺園之內也創辦了「聞樨學舍」開館授徒，並廣為交遊。
當時與吳樵山、丘逢甲、陳卜五、王永翔、施雲舫等名士和學人往來。許南英晚年在中國徐聞仍同時任有官職。@@//&lt;&lt;run $clue2.pushUnique(&#39;許南英晚年&#39;)&gt;&gt;&lt;&lt;run $cluecount.pushUnique(&#39;私塾許南英&#39;)&gt;&gt;
&lt;&lt;/if&gt;&gt;
&lt;span class=&quot;blink&quot;&gt;@@color:orange;你得到了關鍵資訊：許南英晚年。@@&lt;/span&gt;

[[繼續推理|previous()]]</tw-passagedata><tw-passagedata pid="103" name="許南英推理完畢" tags="include noreturn" position="400,675" size="100,100">//@@color:GRAY;若說許南英除了窺園之外，尚繼承了父業，延續了那些天地會活動，那麼當年與他有往來的那些人們，可能也多半有著類似的志趣！

迄今為止的發現是個重大的突破，但是怎麼會說這裡是第二次險些失傳的相關地點呢？@@//

//@@color:Orange;凜夜@@@@color:GRAY;似乎與你有同樣的疑惑，所以他說：@@
「目前的發現來蠻重要的，我覺得我有必要把這些發現加以運用，在對廟裡的環境做一些調查！！」

@@color:GRAY;說完便將月琴袋子提到肩上背起來。@@//

「我們暫時分頭行動吧，你在這裡繼續想想，我若有任何發現都會再和你說的。」

「如果你有發現，也要和我分享呦！」
//@@color:GRAY;接著@@@@color:Orange;凜夜@@@@color:GRAY;就轉身要離開，但你隱隱覺得不妥：「拳師都是兩人活動」的這一條件讓你有些疑慮，於是你……@@//

[[叫住凜夜]]

[[讓凜夜獨自離開|繼續許南英這個線索的推理]]</tw-passagedata><tw-passagedata pid="104" name="許南英晚年窺園" tags="result noreturn" position="900,1875" size="100,100">&lt;&lt;if $cluecount.includes(&#39;許南英晚年窺園&#39;)&gt;&gt;
你先前已推理出該結果。&lt;&lt;linkreplace 回憶推理結果。&gt;&gt;
//@@color:GRAY;日據時期前，許南英本來在台南台南任公職，協助唐景崧幫忙修台灣通志的台南部分。直到甲午年清政府戰敗，乙未年割讓與日本政府，時任臺灣民主國總統的唐景崧敗逃，他與劉永福共同在台南勉力支撐數月，苦等之原未果，才一同逃亡至廈門，最後在其他地方與在台的家人團聚。@@//

//@@color:GRAY;有了這層認知，你不禁產生一個想法：「難道，拳師的志業，就是中斷在日本政府殖民台灣、許南英敗逃廈門？」

這層想法似乎很合理，略為破敗的敬字亭，也似乎是用自己的狀況，向你敘述著許南英的晚景，以及窺園最後的景色。@@//&lt;&lt;/linkreplace&gt;&gt;
&lt;&lt;else&gt;&gt;
//@@color:GRAY;日據時期前，許南英本來在台南台南任公職，協助唐景崧幫忙修台灣通志的台南部分。直到甲午年清政府戰敗，乙未年割讓與日本政府，時任臺灣民主國總統的唐景崧敗逃，他與劉永福共同在台南勉力支撐數月，苦等之原未果，才一同逃亡至廈門，最後在其他地方與在台的家人團聚。@@//

//@@color:GRAY;有了這層認知，你不禁產生一個想法：「難道，拳師的志業，就是中斷在日本政府殖民台灣、許南英敗逃廈門？」

這層想法似乎很合理，略為破敗的敬字亭，也似乎是用自己的狀況，向你敘述著許南英的晚景，以及窺園最後的景色。@@//&lt;&lt;run $clue2.pushUnique(&#39;日本政府&#39;)&gt;&gt;&lt;&lt;run $cluecount.pushUnique(&#39;許南英晚年窺園&#39;)&gt;&gt;
&lt;&lt;/if&gt;&gt;
&lt;span class=&quot;blink&quot;&gt;@@color:orange;你得到了關鍵資訊：日本政府。@@&lt;/span&gt;

[[繼續推理|previous()]]</tw-passagedata><tw-passagedata pid="105" name="許南英日本政府" tags="noreturn result" position="1000,2075" size="100,100">&lt;&lt;if $cluecount.includes(&#39;許南英日本政府&#39;)&gt;&gt;
你先前已推理出該結果。&lt;&lt;linkreplace 回憶推理結果。&gt;&gt;
//@@color:GRAY;過去許南英並非沒有回到台灣看過自己的房子、朋友，而是曾2度來台。來台的時候，日本政府因為他在地方的威望與影響力而提議過要他認領舊有的房產物業，並會派給他地方官職。但許南英因為自己的風骨，而婉拒了這些邀請，僅僅是將這些房子、產物發散於族人。

永華宮遷廟至此，可能也是許南英當年來台的同時，動用了影響力交辦給地方的朋友們，力保了這個與拳師淵源頗深的精神建築吧。

後來許南英回到中國徐聞當官，還著有《窺園留草》一書，並在之後由其子許地山整理、邀稿序文並限量出版。

五百份的書籍除了自家收藏外，還另外分贈親友之用。如此低調的處理，應該就是許南英在撰寫時，多少摻入了拳師相關的內容，並且也在年譜內作有文章吧!
我們手上的年譜，估計就是當時候撰寫的部分內容。@@//&lt;&lt;/linkreplace&gt;&gt;
&lt;&lt;else&gt;&gt;
//@@color:GRAY;過去許南英並非沒有回到台灣看過自己的房子、朋友，而是曾2度來台。來台的時候，日本政府因為他在地方的威望與影響力而提議過要他認領舊有的房產物業，並會派給他地方官職。但許南英因為自己的風骨，而婉拒了這些邀請，僅僅是將這些房子、產物發散於族人。

永華宮遷廟至此，可能也是許南英當年來台的同時，動用了影響力交辦給地方的朋友們，力保了這個與拳師淵源頗深的精神建築吧。

後來許南英回到中國徐聞當官，還著有《窺園留草》一書，並在之後由其子許地山整理、邀稿序文並限量出版。

五百份的書籍除了自家收藏外，還另外分贈親友之用。如此低調的處理，應該就是許南英在撰寫時，多少摻入了拳師相關的內容，並且也在年譜內作有文章吧!
我們手上的年譜，估計就是當時候撰寫的部分內容。@@//&lt;&lt;run $clue2.pushUnique(&#39;窺園留草&#39;)&gt;&gt;&lt;&lt;run $clue2.pushUnique(&#39;許地山&#39;)&gt;&gt;&lt;&lt;run $cluecount.pushUnique(&#39;許南英日本政府&#39;)&gt;&gt;
&lt;&lt;/if&gt;&gt;
&lt;span class=&quot;blink&quot;&gt;@@color:orange;你得到了關鍵資訊：窺園留草、許地山。@@&lt;/span&gt;

[[繼續推理|previous()]]</tw-passagedata><tw-passagedata pid="106" name="許地山窺園留草" tags="result noreturn" position="1200,2375" size="100,100">&lt;&lt;if $cluecount.includes(&#39;許地山窺園留草&#39;)&gt;&gt;
你先前已推理出該結果。&lt;&lt;linkreplace 回憶推理結果。&gt;&gt;
//@@color:GRAY;窺園留草一書由許地山彙整出版，當時序文附有《窺園先生自定年譜》，另外也附有「窺園詞」一冊。詩、詞集本身有著許多許南英對台灣的思念以及亡國的心念；序文部分則多有許南英故友對許南英的不捨之情。
@@//&lt;&lt;/linkreplace&gt;&gt;
&lt;&lt;else&gt;&gt;
//@@color:GRAY;窺園留草一書由許地山彙整出版，當時序文附有《窺園先生自定年譜》，另外也附有「窺園詞」一冊。詩、詞集本身有著許多許南英對台灣的思念以及亡國的心念；序文部分則多有許南英故友對許南英的不捨之情。
@@//&lt;&lt;run $cluecount.pushUnique(&#39;許地山窺園留草&#39;)&gt;&gt;
&lt;&lt;/if&gt;&gt;
[[繼續推理|previous()]]</tw-passagedata><tw-passagedata pid="107" name="許地山日本政府" tags="result noreturn" position="1200,2275" size="100,100">&lt;&lt;if $cluecount.includes(&#39;許地山日本政府&#39;)&gt;&gt;
你先前已推理出該結果。&lt;&lt;linkreplace 回憶推理結果。&gt;&gt;
//@@color:GRAY;1933年，四十多歲的許地山曾自中國赴臺灣與日本學者進行交流，當時就拜訪了許多與他們家族素來交好的許多世家，並將窺園留草一書帶給了時年33歲的許丙丁。

但，為什麼是許丙丁？？@@//&lt;&lt;/linkreplace&gt;&gt;
&lt;&lt;else&gt;&gt;
//@@color:GRAY;1933年，四十多歲的許地山曾自中國赴臺灣與日本學者進行交流，當時就拜訪了許多與他們家族素來交好的許多世家，並將窺園留草一書帶給了時年33歲的許丙丁。

但，為什麼是許丙丁？？@@//&lt;&lt;run $clue2.pushUnique(&#39;許丙丁&#39;)&gt;&gt;&lt;&lt;run $cluecount.pushUnique(&#39;許地山日本政府&#39;)&gt;&gt;
&lt;&lt;/if&gt;&gt;
&lt;span class=&quot;blink&quot;&gt;@@color:orange;你得到了關鍵資訊：許丙丁。@@&lt;/span&gt;

[[繼續推理|previous()]]</tw-passagedata><tw-passagedata pid="108" name="窺園留草日本政府" tags="result noreturn" position="1100,2275" size="100,100">&lt;&lt;if $cluecount.includes(&#39;窺園留草日本政府&#39;)&gt;&gt;
你先前已推理出該結果。&lt;&lt;linkreplace 回憶推理結果。&gt;&gt;
//@@color:GRAY;1933年，四十多歲的許地山曾自中國赴臺灣與日本學者進行交流，當時就拜訪了許多與他們家族素來交好的許多世家，並將窺園留草一書帶給了時年33歲的許丙丁。

但，為什麼是許丙丁？？@@//&lt;&lt;/linkreplace&gt;&gt;
&lt;&lt;else&gt;&gt;
//@@color:GRAY;1933年，四十多歲的許地山曾自中國赴臺灣與日本學者進行交流，當時就拜訪了許多與他們家族素來交好的許多世家，並將窺園留草一書帶給了時年33歲的許丙丁。

但，為什麼是許丙丁？？@@//&lt;&lt;run $clue2.pushUnique(&#39;許丙丁&#39;)&gt;&gt;&lt;&lt;run $cluecount.pushUnique(&#39;窺園留草日本政府&#39;)&gt;&gt;
&lt;&lt;/if&gt;&gt;
&lt;span class=&quot;blink&quot;&gt;@@color:orange;你得到了關鍵資訊：許丙丁。@@&lt;/span&gt;

[[繼續推理|previous()]]</tw-passagedata><tw-passagedata pid="109" name="找凜夜新發現" tags="include noreturn" position="650,675" size="100,100">//@@color:GRAY;去廟裡找凜夜看看他那邊有沒有什麼新發現。@@//

//@@color:GRAY;才一轉身，你就聽到@@//

&lt;h3&gt;「磅！磅、磅……！！」&lt;/h3&gt;

&lt;h3&gt;「碰！」&lt;/h3&gt;

&lt;h3&gt;「誆啷！」&lt;/h3&gt;

//@@color:GRAY;……等，此起彼落的撞擊聲與人們的哀號聲。@@//

//@@color:GRAY;接著，一個急促的腳步聲逼近，原來是@@@@color:BLUE;宗哥@@@@color:GRAY;攙扶著一兩個傷者出來到你附近@@//
「不好意思，要請你讓一讓」//@@color:BLUE;宗哥@@@@color:GRAY;手一擺，要你先往其他地方離開一點，接著喊道@@//
「莉莉、其它的弟兄們！在這裡安置他們！」

//@@color:RED;莉莉@@@@color:GRAY;幾乎是在@@@@color:BLUE;宗哥@@@@color:GRAY;說完的當下將其它傷者抬來廟埕處安置，接著就是一些穿著俐落、沒有受傷的男男女女攙扶著其它人過來。

霎時間，整個廟的內內外外像是炸開了鍋一樣，@@@@color:BLUE;宗哥@@@@color:GRAY;、@@@@color:RED;莉莉@@@@color:GRAY;以及其它完好無事的人們，又繼續忙進忙出的，整個空間也從剛道這裡時的清幽感，變成了充滿呻吟的痛苦哀號。@@//

見到此景，你無法按奈自己的衝動，[[上前去慰問傷者]]。</tw-passagedata><tw-passagedata pid="110" name="凜夜人呢？" tags="" position="925,725" size="100,100">&lt;h3&gt;@@color:Orange;凜夜@@@@color:GRAY;人在哪裡？！@@&lt;/h3&gt;

//@@color:GRAY;你突然意識到@@@@color:Orange;凜夜@@@@color:GRAY;可能有危險，於是開始左右張望，但那人又再次抓著你，這次的力道有點大，讓你感受道疼痛感，於是你的注意力又被拉了過去……@@//

「不然怎麼可能一次就有這麼多人受傷？而且他們的人看起來都沒事……」//@@color:GRAY;接著，他像是受到驚嚇，突然的把抓著你手縮了回去，用著顫抖的聲音微微地說道……@@//

「你也沒事……為什麼你會沒事？你們也是一伙的嗎？！」//@@color:GRAY;然後你就看到了一張前所未有，驚恐的臉龐。@@//

「你別聽他胡說！」//@@color:BLUE;宗哥@@@@color:GRAY;口氣十分憤慨的打斷了這場對話，並帶來了一個傷患，並接著說@@//

「你就和你的夥伴好好呆著吧！」//@@color:GRAY;接著就將一個雙手被綁緮於身後的人拉了過來，然後又趕緊去忙了。

先前和藹可親的形象現在完全破滅。

難道@@@@color:Orange;凜夜@@@@color:GRAY;口中需要注意的就是這個情況嗎？那我豈不也暴露在危險裡面了？！

剛想到這裡，你就聽到了有人叫喚你，[[於是你循聲音望去……]]。</tw-passagedata><tw-passagedata pid="111" name="許丙丁日本政府" tags="result noreturn" position="1300,2275" size="100,100">&lt;&lt;if $cluecount.includes(&#39;許丙丁日本政府&#39;)&gt;&gt;
你先前已推理出該結果。&lt;&lt;linkreplace 回憶推理結果。&gt;&gt;
//@@color:GRAY;許丙丁出生於日治時期，在音樂、著作方面多有成就，長期擔任警務直至二戰結束日本戰敗前。辭職後著有《實話偵探密帖》，其中還有律師湯德章的序文。@@//&lt;&lt;/linkreplace&gt;&gt;
&lt;&lt;else&gt;&gt;
//@@color:GRAY;許丙丁出生於日治時期，在音樂、著作方面多有成就，長期擔任警務直至二戰結束日本戰敗前。辭職後著有《實話偵探密帖》，其中還有律師湯德章的序文。@@//&lt;&lt;run $clue2.pushUnique(&#39;湯德章&#39;)&gt;&gt;&lt;&lt;run $clue2.pushUnique(&#39;日本戰敗&#39;)&gt;&gt;&lt;&lt;run $cluecount.pushUnique(&#39;許丙丁日本政府&#39;)&gt;&gt;
&lt;&lt;/if&gt;&gt;
&lt;span class=&quot;blink&quot;&gt;@@color:orange;你得到了關鍵資訊：湯德章、日本戰敗。@@&lt;/span&gt;

[[繼續推理|previous()]]</tw-passagedata><tw-passagedata pid="112" name="許丙丁日本戰敗" tags="result noreturn" position="1400,2575" size="100,100">&lt;&lt;if $cluecount.includes(&#39;許丙丁日本戰敗&#39;)&gt;&gt;
你先前已推理出該結果。&lt;&lt;linkreplace 回憶推理結果。&gt;&gt;
//@@color:GRAY;許丙丁直至戰敗前都認有警職，並且在擔任警務時，以漫畫、音樂等才華，延續著傳承台灣文化，其中的《小封神》漫畫更是將台灣的神明文化發揮的精彩萬分！@@//&lt;&lt;/linkreplace&gt;&gt;
&lt;&lt;else&gt;&gt;
//@@color:GRAY;許丙丁直至戰敗前都認有警職，並且在擔任警務時，以漫畫、音樂等才華，延續著傳承台灣文化，其中的《小封神》漫畫更是將台灣的神明文化發揮的精彩萬分！@@//&lt;&lt;run $clue2.pushUnique(&#39;傳承台灣文化&#39;)&gt;&gt;&lt;&lt;run $cluecount.pushUnique(&#39;許丙丁日本戰敗&#39;)&gt;&gt;
&lt;&lt;/if&gt;&gt;
&lt;span class=&quot;blink&quot;&gt;@@color:orange;你得到了關鍵資訊：傳承台灣文化。@@&lt;/span&gt;

[[繼續推理|previous()]]</tw-passagedata><tw-passagedata pid="113" name="湯德章日本戰敗" tags="result noreturn" position="1400,2675" size="100,100">&lt;&lt;if $cluecount.includes(&#39;湯德章日本戰敗&#39;)&gt;&gt;
你先前已推理出該結果。&lt;&lt;linkreplace 回憶推理結果。&gt;&gt;
//@@color:GRAY;湯德章身為台灣鄒族人與日本人混血，因為感到台灣人與日本人之間的不平等，加上日本警務同仁對他的排擠行為，早已在戰前辭去警務赴日求學。若干年後，學成返台的他開啟了律師事業，在地方上替台灣人對抗諸多不公平的地方。
由於少時就以武術曾勇退地痞，學成歸台後的義舉更是讓他在地方上的俠士稱號更盛於當年。@@//&lt;&lt;/linkreplace&gt;&gt;
&lt;&lt;else&gt;&gt;
//@@color:GRAY;湯德章身為台灣鄒族人與日本人混血，因為感到台灣人與日本人之間的不平等，加上日本警務同仁對他的排擠行為，早已在戰前辭去警務赴日求學。若干年後，學成返台的他開啟了律師事業，在地方上替台灣人對抗諸多不公平的地方。
由於少時就以武術曾勇退地痞，學成歸台後的義舉更是讓他在地方上的俠士稱號更盛於當年。@@//&lt;&lt;run $clue2.pushUnique(&#39;俠士&#39;)&gt;&gt;&lt;&lt;run $clue2.pushUnique(&#39;革命日本政府&#39;)&gt;&gt;&lt;&lt;run $cluecount.pushUnique(&#39;湯德章日本戰敗&#39;)&gt;&gt;
&lt;&lt;/if&gt;&gt;
&lt;span class=&quot;blink&quot;&gt;@@color:orange;你得到了關鍵資訊：俠士、革命日本政府。@@&lt;/span&gt;

[[繼續推理|previous()]]</tw-passagedata><tw-passagedata pid="114" name="許丙丁湯德章" tags="result noreturn" position="1500,2575" size="100,100">&lt;&lt;if $cluecount.includes(&#39;許丙丁湯德章&#39;)&gt;&gt;
你先前已推理出該結果。&lt;&lt;linkreplace 回憶推理結果。&gt;&gt;
//@@color:GRAY;除了乙未革命，日治時期的漢人仍對日本政府多有革命活動，其中一起焦吧哖事件的受害者家屬之中，就有湯德章。可能是正義感使然，同為好友的他們都曾擔任警務，並在國共內戰後，擔任過治安組長。@@//&lt;&lt;/linkreplace&gt;&gt;
&lt;&lt;else&gt;&gt;
//@@color:GRAY;除了乙未革命，日治時期的漢人仍對日本政府多有革命活動，其中一起焦吧哖事件的受害者家屬之中，就有湯德章。可能是正義感使然，同為好友的他們都曾擔任警務，並在國共內戰後，擔任過治安組長。@@//&lt;&lt;run $cluecount.pushUnique(&#39;許丙丁湯德章&#39;)&gt;&gt;
&lt;&lt;/if&gt;&gt;

[[繼續推理|previous()]]</tw-passagedata><tw-passagedata pid="115" name="俠士傳承台灣文化" tags="result noreturn" position="1700,2775" size="100,100">&lt;&lt;if $cluecount.includes(&#39;俠士傳承台灣文化&#39;)&gt;&gt;
你先前已推理出該結果。&lt;&lt;linkreplace 回憶推理結果。&gt;&gt;
//@@color:GRAY;許南英、許地山中國的生活已經太長，在台灣早已沒有了當年的活動能力與影響力，有了新一輩的能人志士，加上台灣人自治的風氣漸長，自然會選擇在地方上貢獻甚廣、文武兼備的兩位俠士：許丙丁、湯德章，做為拳師志業的傳承對象。@@//&lt;&lt;/linkreplace&gt;&gt;
&lt;&lt;else&gt;&gt;
//@@color:GRAY;許南英、許地山中國的生活已經太長，在台灣早已沒有了當年的活動能力與影響力，有了新一輩的能人志士，加上台灣人自治的風氣漸長，自然會選擇在地方上貢獻甚廣、文武兼備的兩位俠士：許丙丁、湯德章，做為拳師志業的傳承對象。@@//&lt;&lt;run $cluecount.pushUnique(&#39;俠士傳承台灣文化&#39;)&gt;&gt;&lt;&lt;run $cluecount.pushUnique(&#39;時機成熟1&#39;)&gt;&gt;
&lt;&lt;/if&gt;&gt;
[[繼續推理|previous()]]</tw-passagedata><tw-passagedata pid="116" name="推理出拳師傳承" tags="include noreturn" position="400,975" size="100,100">//@@color:GRAY;曾三次險些失傳的拳師志業，原來最後是由許丙丁、湯德章兩人所繼承。

但是既然第二次沒有失傳，第三次又是發生在何時何地，又是為什麼而發生呢？

依照剛剛的眾多資訊，還可以整理出國共內戰、治安組長、革命日本政府的關鍵字才對。

稍加推理，一定能很快將謎底揭曉。@@//

[[事不宜遲，馬上繼續推理。|事不宜遲，馬上繼續推理]]</tw-passagedata><tw-passagedata pid="117" name="許丙丁國民政府遷台" tags="result noreturn" position="1425,1600" size="100,100">&lt;&lt;if $cluecount.includes(&#39;許丙丁國民政府遷台&#39;)&gt;&gt;
你先前已推理出該結果。&lt;&lt;linkreplace 回憶推理結果。&gt;&gt;
//@@color:GRAY;許丙丁在國共內戰期間轉戰政壇，擔任台南市參議員。@@//&lt;&lt;/linkreplace&gt;&gt;
&lt;&lt;else&gt;&gt;
//@@color:GRAY;許丙丁在國共內戰期間轉戰政壇，擔任台南市參議員。@@//&lt;&lt;run $cluecount.pushUnique(&#39;許丙丁國民政府遷台&#39;)&gt;&gt;
&lt;&lt;/if&gt;&gt;
[[繼續推理|previous()]]</tw-passagedata><tw-passagedata pid="118" name="湯德章國民政府遷台" tags="result noreturn" position="1525,1600" size="100,100">&lt;&lt;if $cluecount.includes(&#39;湯德章國民政府遷台&#39;)&gt;&gt;
你先前已推理出該結果。&lt;&lt;linkreplace 回憶推理結果。&gt;&gt;
//@@color:GRAY;國共內戰期間，台灣爆發舉國震驚的228事件。時任台灣省行政長官的陳儀假借協商名義，在中山堂舉行二二八事件處理委員會，台灣各縣市、地區也在數天後成立當地的處理委員會，其中台南就由韓石泉擔任主任委員，與地方人士共同處理相關事務。其中，由湯德章抱病擔任治安組組長，維持該市治安。@@//&lt;&lt;/linkreplace&gt;&gt;
&lt;&lt;else&gt;&gt;
//@@color:GRAY;國共內戰期間，台灣爆發舉國震驚的228事件。時任台灣省行政長官的陳儀假借協商名義，在中山堂舉行二二八事件處理委員會，台灣各縣市、地區也在數天後成立當地的處理委員會，其中台南就由韓石泉擔任主任委員，與地方人士共同處理相關事務。其中，由湯德章抱病擔任治安組組長，維持該市治安。@@//&lt;&lt;run $clue3.pushUnique(&#39;二二八事件&#39;)&gt;&gt;&lt;&lt;run $cluecount.pushUnique(&#39;湯德章國民政府遷台&#39;)&gt;&gt;
&lt;&lt;/if&gt;&gt;
&lt;span class=&quot;blink&quot;&gt;@@color:orange;你得到了關鍵資訊：二二八事件。@@&lt;/span&gt;

[[繼續推理|previous()]]</tw-passagedata><tw-passagedata pid="119" name="許丙丁治安組長" tags="result noreturn" position="1425,1700" size="100,100">&lt;&lt;if $cluecount.includes(&#39;許丙丁治安組長&#39;)&gt;&gt;
你先前已推理出該結果。&lt;&lt;linkreplace 回憶推理結果。&gt;&gt;
//@@color:GRAY;二二八事件時，許丙丁曾替湯德章出任事件處理委員會代理治安組長。@@//&lt;&lt;/linkreplace&gt;&gt;
&lt;&lt;else&gt;&gt;
//@@color:GRAY;二二八事件時，許丙丁曾替湯德章出任事件處理委員會代理治安組長。@@//&lt;&lt;run $cluecount.pushUnique(&#39;許丙丁治安組長&#39;)&gt;&gt;
&lt;&lt;/if&gt;&gt;
[[繼續推理|previous()]]</tw-passagedata><tw-passagedata pid="120" name="二二八事件國民政府遷台" tags="result noreturn" position="1625,1800" size="100,100">&lt;&lt;if $cluecount.includes(&#39;二二八事件國民政府遷台&#39;)&gt;&gt;
你先前已推理出該結果。&lt;&lt;linkreplace 回憶推理結果。&gt;&gt;
//@@color:GRAY;1947年2月27日，6名專賣局緝私組查緝員會同其他4名警員與線民，相繼在淡水港、延平區天馬茶房查找走私菸品。當時40歲寡婦林江邁手上的全數菸品以及現金，甚至是專賣局製的香菸都被沒收殆盡。林婦求情未果，引來周遭攤販、民眾圍觀，並一同求情。衝突在來來往往之中莫名地爆發開來，從拳腳上的打鬥，演變成開槍射擊的慘劇。
逐漸升溫的官、民衝突最後演變成2月28日的示威遊行，全台激憤。@@//&lt;&lt;/linkreplace&gt;&gt;
&lt;&lt;else&gt;&gt;
//@@color:GRAY;1947年2月27日，6名專賣局緝私組查緝員會同其他4名警員與線民，相繼在淡水港、延平區天馬茶房查找走私菸品。當時40歲寡婦林江邁手上的全數菸品以及現金，甚至是專賣局製的香菸都被沒收殆盡。林婦求情未果，引來周遭攤販、民眾圍觀，並一同求情。衝突在來來往往之中莫名地爆發開來，從拳腳上的打鬥，演變成開槍射擊的慘劇。
逐漸升溫的官、民衝突最後演變成2月28日的示威遊行，全台激憤。@@//&lt;&lt;run $cluecount.pushUnique(&#39;二二八事件國民政府遷台&#39;)&gt;&gt;
&lt;&lt;/if&gt;&gt;

[[繼續推理|previous()]]</tw-passagedata><tw-passagedata pid="121" name="二二八事件治安組長" tags="result noreturn" position="1725,1800" size="100,100">&lt;&lt;if $cluecount.includes(&#39;二二八事件治安組長&#39;)&gt;&gt;
你先前已推理出該結果。&lt;&lt;linkreplace 回憶推理結果。&gt;&gt;
//@@color:GRAY;湯德章在二二八事件發生時，因為當時人權律師的威望與影響力，被推任擔任二二八事件處理委員會臺南市分會治安組組長。

不顧病痛，他親自到了擁槍自重的百名年輕人之中，說服他們繳出槍械，並由當時台南工學院學生(現為成功大學)組成的治安隊，以保台南民眾的安全，台南當地的暴亂隨之平息功勞甚鉅。

然而在陳儀的陰謀之下，表面和平的台灣各地，再次發生血洗的慘案。@@//&lt;&lt;/linkreplace&gt;&gt;
&lt;&lt;else&gt;&gt;
//@@color:GRAY;湯德章在二二八事件發生時，因為當時人權律師的威望與影響力，被推任擔任二二八事件處理委員會臺南市分會治安組組長。

不顧病痛，他親自到了擁槍自重的百名年輕人之中，說服他們繳出槍械，並由當時台南工學院學生(現為成功大學)組成的治安隊，以保台南民眾的安全，台南當地的暴亂隨之平息功勞甚鉅。

然而在陳儀的陰謀之下，表面和平的台灣各地，再次發生血洗的慘案。@@//&lt;&lt;run $clue3.pushUnique(&#39;血洗慘案&#39;)&gt;&gt;&lt;&lt;run $cluecount.pushUnique(&#39;二二八事件治安組長&#39;)&gt;&gt;
&lt;&lt;/if&gt;&gt;
&lt;span class=&quot;blink&quot;&gt;@@color:orange;你得到了關鍵資訊：血洗慘案。@@&lt;/span&gt;

[[繼續推理|previous()]]</tw-passagedata><tw-passagedata pid="122" name="湯德章治安組長" tags="result noreturn" position="1525,1700" size="100,100">&lt;&lt;if $cluecount.includes(&#39;湯德章治安組長&#39;)&gt;&gt;
你先前已推理出該結果。&lt;&lt;linkreplace 回憶推理結果。&gt;&gt;
//@@color:GRAY;湯德章在二二八事件發生時，因為當時人權律師的威望與影響力，被推任擔任二二八事件處理委員會臺南市分會治安組組長。

不顧病痛，他親自到了擁槍自重的百名年輕人之中，說服他們繳出槍械，並由當時台南工學院學生(現為成功大學)組成的治安隊，以保台南民眾的安全，台南當地的暴亂隨之平息功勞甚鉅。

然而在陳儀的陰謀之下，表面和平的台灣各地，再次發生血洗的慘案。@@//&lt;&lt;/linkreplace&gt;&gt;
&lt;&lt;else&gt;&gt;
//@@color:GRAY;湯德章在二二八事件發生時，因為當時人權律師的威望與影響力，被推任擔任二二八事件處理委員會臺南市分會治安組組長。

不顧病痛，他親自到了擁槍自重的百名年輕人之中，說服他們繳出槍械，並由當時台南工學院學生(現為成功大學)組成的治安隊，以保台南民眾的安全，台南當地的暴亂隨之平息功勞甚鉅。

然而在陳儀的陰謀之下，表面和平的台灣各地，再次發生血洗的慘案。@@//&lt;&lt;run $clue3.pushUnique(&#39;二二八事件&#39;)&gt;&gt;&lt;&lt;run $cluecount.pushUnique(&#39;湯德章治安組長&#39;)&gt;&gt;
&lt;&lt;/if&gt;&gt;
&lt;span class=&quot;blink&quot;&gt;@@color:orange;你得到了關鍵資訊：二二八事件。@@&lt;/span&gt;

[[繼續推理|previous()]]</tw-passagedata><tw-passagedata pid="123" name="湯德章血洗慘案" tags="result noreturn" position="1525,1900" size="100,100">&lt;&lt;if $cluecount.includes(&#39;湯德章血洗慘案&#39;)&gt;&gt;
你先前已推理出該結果。&lt;&lt;linkreplace 回憶推理結果。&gt;&gt;
//@@color:GRAY;台南當地隨著湯德章的努力，在暴亂之中迎來平靜。但這個三月天沒等台灣人民喘息太久，就又再次掀起大浪。

隨著陳儀暗自的調度，國軍精銳進入台南，湯德章在住所之內施展畢生所學武術，力擋二、三十名來犯的憲警特務，但仍不敵於勢單力搏和身上病痛。

不過他本就志不在抵抗，而是暗自的命人焚燒了大量的資料，當中就有拳師相關的資料。
他到此時還在用一切可能的機會，想要保全台南人民，於是在知道關鍵的那些資訊都被拓善處理過後，心理卸下了壓力的他才出現了招式上的破綻，最後慘遭逮捕。

來人當然知道他的計謀，於是他因為那些資料是什麼，而被逼共了一整晚，身上重傷無數。

但他仍不改對自身台灣人身分的驕傲，直至死亡，都仍然相信自己的舉措，是對這片土地最大的貢獻。@@//&lt;&lt;/linkreplace&gt;&gt;
&lt;&lt;else&gt;&gt;
//@@color:GRAY;台南當地隨著湯德章的努力，在暴亂之中迎來平靜。但這個三月天沒等台灣人民喘息太久，就又再次掀起大浪。

隨著陳儀暗自的調度，國軍精銳進入台南，湯德章在住所之內施展畢生所學武術，力擋二、三十名來犯的憲警特務，但仍不敵於勢單力搏和身上病痛。

不過他本就志不在抵抗，而是暗自的命人焚燒了大量的資料，當中就有拳師相關的資料。
他到此時還在用一切可能的機會，想要保全台南人民，於是在知道關鍵的那些資訊都被拓善處理過後，心理卸下了壓力的他才出現了招式上的破綻，最後慘遭逮捕。

來人當然知道他的計謀，於是他因為那些資料是什麼，而被逼共了一整晚，身上重傷無數。

但他仍不改對自身台灣人身分的驕傲，直至死亡，都仍然相信自己的舉措，是對這片土地最大的貢獻。@@//&lt;&lt;run $cluecount.pushUnique(&#39;湯德章血洗慘案&#39;)&gt;&gt;&lt;&lt;run $cluecount.pushUnique(&#39;結論出現&#39;)&gt;&gt;
&lt;&lt;/if&gt;&gt;

[[繼續推理|previous()]]</tw-passagedata><tw-passagedata pid="124" name="治安組長血洗慘案" tags="result noreturn" position="1725,1900" size="100,100">&lt;&lt;if $cluecount.includes(&#39;治安組長血洗慘案&#39;)&gt;&gt;
你先前已推理出該結果。&lt;&lt;linkreplace 回憶推理結果。&gt;&gt;
//@@color:GRAY;台南當地隨著湯德章的努力，在暴亂之中迎來平靜。但這個三月天沒等台灣人民喘息太久，就又再次掀起大浪。

隨著陳儀暗自的調度，國軍精銳進入台南，湯德章在住所之內施展畢生所學武術，力擋二、三十名來犯的憲警特務，但仍不敵於勢單力搏和身上病痛。

不過他本就志不在抵抗，而是暗自的命人焚燒了大量的資料，當中就有拳師相關的資料。
他到此時還在用一切可能的機會，想要保全台南人民，於是在知道關鍵的那些資訊都被拓善處理過後，心理卸下了壓力的他才出現了招式上的破綻，最後慘遭逮捕。

來人當然知道他的計謀，於是他因為那些資料是什麼，而被逼共了一整晚，身上重傷無數。

但他仍不改對自身台灣人身分的驕傲，直至死亡，都仍然相信自己的舉措，是對這片土地最大的貢獻。@@//&lt;&lt;/linkreplace&gt;&gt;
&lt;&lt;else&gt;&gt;
//@@color:GRAY;台南當地隨著湯德章的努力，在暴亂之中迎來平靜。但這個三月天沒等台灣人民喘息太久，就又再次掀起大浪。

隨著陳儀暗自的調度，國軍精銳進入台南，湯德章在住所之內施展畢生所學武術，力擋二、三十名來犯的憲警特務，但仍不敵於勢單力搏和身上病痛。

不過他本就志不在抵抗，而是暗自的命人焚燒了大量的資料，當中就有拳師相關的資料。
他到此時還在用一切可能的機會，想要保全台南人民，於是在知道關鍵的那些資訊都被拓善處理過後，心理卸下了壓力的他才出現了招式上的破綻，最後慘遭逮捕。

來人當然知道他的計謀，於是他因為那些資料是什麼，而被逼共了一整晚，身上重傷無數。

但他仍不改對自身台灣人身分的驕傲，直至死亡，都仍然相信自己的舉措，是對這片土地最大的貢獻。@@//&lt;&lt;run $cluecount.pushUnique(&#39;治安組長血洗慘案&#39;)&gt;&gt;&lt;&lt;run $cluecount.pushUnique(&#39;結論出現&#39;)&gt;&gt;
&lt;&lt;/if&gt;&gt;

[[繼續推理|previous()]]</tw-passagedata><tw-passagedata pid="125" name="將結論告訴莉莉" tags="" position="1575,1150" size="100,100">@@color:GRAY;他全程神情肅穆的聽完了你的結論，並點了點頭表示你的推理沒錯。@@//

「這，不僅是台灣人全體的傷痛，更是深為拳師的同志們感受最深的一段往事。」
//@@color:RED;莉莉@@@@color:GRAY;雖然沒表現出什麼激動的神態、語氣，但你仍能看到他眼中難過的淚幾欲低下。@@//

「那麼，你知道有了這個結論的接下來，要做什麼了吧？」

&lt;&lt;linkreplace 拿出謎題&gt;&gt;
//@@color:GREEN;循著謎題本身的結構、平仄等特徵，你完成了年表與詩詞。@@//
&lt;&lt;/linkreplace&gt;&gt;

&lt;&lt;linkreplace 找到宗哥&gt;&gt;
//@@color:gray;回想起來，宗哥曾說過「剛剛各位收到的資料，如果順利，就能在最後的地方完成謎題，並讀懂我們拳師差點失傳的重大歷史，以及那些努力將文化傳承下去的志士的名子。」

這最後的地方，應該就是指「那裡」吧。於是你向@@@@color:RED;莉莉@@@@color:GRAY;點了點頭，一起動身，@@//[[往廟城之外移動。|結結結結結結結結結局]]
&lt;&lt;/linkreplace&gt;&gt;</tw-passagedata><tw-passagedata pid="126" name="仔細看看祭祀處" tags="" position="2050,475" size="100,100">&lt;&lt;if $visit.includesAll($temple1)&gt;&gt;
&lt;&lt;include &#39;永華宮全探索&#39;&gt;&gt;
&lt;&lt;else&gt;&gt;
這邊沒有什麼特別的，是不是前面有漏掉什麼……

[[往廟外移動]]
&lt;&lt;/if&gt;&gt;</tw-passagedata><tw-passagedata pid="127" name="多虧廟方人員，又有新的資料可以推理了！" tags="epoint" position="2275,725" size="100,100">把剛剛獲得的資料，繼續進行推理！&lt;&lt;run $clue2.delete(&#39;鳳山宮&#39;)&gt;&gt;&lt;&lt;run $clue2.delete(&#39;台灣銀行台南分行&#39;)&gt;&gt;
&lt;&lt;include &#39;推理2組合選單&#39;&gt;&gt;

&lt;&lt;if $clue2.includes(&#39;許南英&#39;)&gt;&gt;[[將所有發現與手上資料作比對。|將這一發現與手上資料作比對]]&lt;&lt;else&gt;&gt;&lt;&lt;/if&gt;&gt;</tw-passagedata><tw-passagedata pid="128" name="空結果" tags="result noreturn" position="350,1275" size="100,100"></tw-passagedata><tw-passagedata pid="129" name="1" tags="" position="1725,50" size="100,100">/*白鶴*/
&lt;&lt;goto &#39;往刻有「白鶴」的門走去&#39;&gt;&gt;</tw-passagedata><tw-passagedata pid="130" name="2" tags="" position="1825,50" size="100,100">/*日月*/
&lt;&lt;goto &#39;隨波逐流消逝在歷史之中&#39;&gt;&gt;</tw-passagedata><tw-passagedata pid="131" name="3" tags="" position="1925,50" size="100,100">/*八卦*/
&lt;&lt;goto &#39;隨波逐流消逝在歷史之中&#39;&gt;&gt;</tw-passagedata><tw-passagedata pid="132" name="回頭思考剛剛說的話，尋找線索。" tags="include noreturn" position="1875,275" size="100,100">&lt;&lt;linkappend 思考「接下來的一段話說明了我們的志志」&gt;&gt;
//@@color:GRAY;或許包括詩詞與後面的演說，都會是重要的隻字片語！@@//
&lt;&lt;/linkappend&gt;&gt;

&lt;&lt;linkappend 石碑？&gt;&gt;
//@@color:GRAY;石碑上的詩文……
「日月」一詞道盡對大明江山的不捨，與不願從清廷規定而剃髮的決心。
「豈作順民陳予仙」一句也相傳是化名陳近南的天地會舵主的革命志業。@@//&lt;&lt;run $clue1.pushUnique(&#39;陳予仙&#39;)&gt;&gt;
&lt;&lt;/linkappend&gt;&gt;

&lt;&lt;linkappend 思考「政權時有興衰，以歷史的宏觀視角來看不過是曇花一現。只有民族、土地的記憶才是我們深扎的根。」&gt;&gt;
//@@color:GRAY;看來政權並非重點，他們是想保護歷史。@@//
&lt;&lt;/linkappend&gt;&gt;

&lt;&lt;linkappend 思考「勢要對這樣的頹勢，再次進行革命！」&gt;&gt;
//@@color:GRAY;看來這不是單純的保護活動，而是某種對抗。@@//
&lt;&lt;/linkappend&gt;&gt;

&lt;&lt;linkappend 思考「後面各位踏入的將不是一件容易的志業，就如同求道修行一樣，但又遠比這個更多」&gt;&gt;
//@@color:GRAY;遠比求道修行更多……？@@//
&lt;&lt;/linkappend&gt;&gt;

&lt;&lt;linkappend 「追隨我們也是一個方向，選擇你們的道路……」&gt;&gt;
//@@color:GRAY;追隨...？@@//
&lt;&lt;/linkappend&gt;&gt;</tw-passagedata><tw-passagedata pid="133" name="資訊足夠了，來推理應該往哪一扇門走吧！" tags="" position="2050,275" size="100,100">//@@color:GRAY;利用已獲得的資訊關鍵字，將兩種資訊組合起來推理，也許就能得出新的資訊。@@//
&lt;&lt;linkreplace 立刻來試試吧！&gt;&gt;
&lt;&lt;include &#39;推理1組合選單&#39;&gt;&gt;
&lt;&lt;/linkreplace&gt;&gt;
&lt;&lt;if $cluecount.includes(&#39;陳予仙天地會&#39;)&gt;&gt;&lt;br&gt;[[回憶陳予仙與天地會的資料|陳予仙天地會]]&lt;&lt;else&gt;&gt;&lt;&lt;/if&gt;&gt;&lt;&lt;if $cluecount.includes(&#39;陳予仙保護歷史&#39;)&gt;&gt;&lt;br&gt;[[回憶陳予仙與保護歷史的資料|陳予仙保護歷史]]&lt;&lt;else&gt;&gt;&lt;&lt;/if&gt;&gt;&lt;&lt;if $cluecount.includes(&#39;天地會保護歷史&#39;)&gt;&gt;&lt;br&gt;[[回憶天地會與保護歷史的資料|天地會保護歷史]]&lt;&lt;else&gt;&gt;&lt;&lt;/if&gt;&gt;&lt;&lt;if $cluecount.includes(&#39;傳教天地會&#39;)&gt;&gt;&lt;br&gt;[[回憶天地會與傳教的資料|傳教天地會]]&lt;&lt;else&gt;&gt;&lt;&lt;/if&gt;&gt;&lt;&lt;if $cluecount.includes(&#39;傳教陳予仙&#39;)&gt;&gt;&lt;br&gt;[[回憶陳予仙與傳教的資料|傳教陳予仙]]&lt;&lt;else&gt;&gt;&lt;&lt;/if&gt;&gt;&lt;&lt;if $cluecount.includes(&#39;傳教保護歷史&#39;)&gt;&gt;&lt;br&gt;[[回憶保護歷史與傳教的資料|傳教保護歷史]]&lt;&lt;else&gt;&gt;&lt;&lt;/if&gt;&gt;&lt;&lt;if $cluecount.includes(&#39;留漢陳予仙&#39;)&gt;&gt;&lt;br&gt;[[回憶陳予仙與留漢的資料|留漢陳予仙]]&lt;&lt;else&gt;&gt;&lt;&lt;/if&gt;&gt;&lt;&lt;if $cluecount.includes(&#39;留漢天地會&#39;)&gt;&gt;&lt;br&gt;[[回憶天地會與留漢的資料|留漢天地會]]&lt;&lt;else&gt;&gt;&lt;&lt;/if&gt;&gt;&lt;&lt;if $cluecount.includes(&#39;留漢保護歷史&#39;)&gt;&gt;&lt;br&gt;[[回憶留漢與保護歷史的資料|留漢保護歷史]]&lt;&lt;else&gt;&gt;&lt;&lt;/if&gt;&gt;&lt;&lt;if $cluecount.includes(&#39;留漢傳教&#39;)&gt;&gt;&lt;br&gt;[[回憶留漢與傳教的資料|留漢傳教]]&lt;&lt;else&gt;&gt;&lt;&lt;/if&gt;&gt;
&lt;&lt;if $clue1.includes(&#39;傳教&#39;)&gt;&gt;&lt;br&gt;//八卦門楣似乎不是解答……//&lt;&lt;else&gt;&gt;&lt;&lt;/if&gt;&gt;&lt;&lt;if $clue1.includes(&#39;留漢&#39;)&gt;&gt;&lt;br&gt;//日月門楣似乎不是解答……//&lt;&lt;else&gt;&gt;&lt;&lt;/if&gt;&gt;&lt;&lt;if $clue1.includes(&#39;汗青&#39;)&gt;&gt;&lt;br&gt;//竹子門楣似乎是應該追尋的道路……//&lt;&lt;else&gt;&gt;&lt;&lt;/if&gt;&gt;
[[訊息已經足夠，選擇前進的道路！|道路的選擇]]</tw-passagedata><tw-passagedata pid="134" name="陳予仙天地會" tags="result noreturn" position="0,1600" size="100,100">&lt;&lt;if $cluecount.includes(&#39;陳予仙天地會&#39;)&gt;&gt;
你先前已推理出該結果。&lt;&lt;linkreplace 回憶推理結果。&gt;&gt;
//@@color:GRAY;相傳陳進南就是天地會之領袖，當年他就是以傳道的名義進行成員的聯繫，以及廣召志士的手段，這也是石碑之上的詩詞的由來。
又有傳說說道他過去曾結廬白鶴洞，故有白鶴道人之自稱。
但是，剛剛發話人有講過「遠超求道」的說法，似乎八卦門楣不是解答呢……@@//&lt;&lt;/linkreplace&gt;&gt;
&lt;&lt;else&gt;&gt;
//@@color:GRAY;相傳陳進南就是天地會之領袖，當年他就是以傳道的名義進行成員的聯繫，以及廣召志士的手段，這也是石碑之上的詩詞的由來。
又有傳說說道他過去曾結廬白鶴洞，故有白鶴道人之自稱。
但是，剛剛發話人有講過「遠超求道」的說法，似乎八卦門楣不是解答呢……@@//&lt;&lt;run $clue1.pushUnique(&#39;傳教&#39;)&gt;&gt;&lt;&lt;run $cluecount.pushUnique(&#39;陳予仙天地會&#39;)&gt;&gt;
&lt;&lt;/if&gt;&gt;
&lt;span class=&quot;blink&quot;&gt;@@color:orange;你得到了關鍵資訊：傳教。@@&lt;/span&gt;

[[繼續推理|previous()]]</tw-passagedata><tw-passagedata pid="135" name="陳予仙保護歷史" tags="result noreturn" position="100,1600" size="100,100">&lt;&lt;if $cluecount.includes(&#39;陳予仙保護歷史&#39;)&gt;&gt;
你先前已推理出該結果。&lt;&lt;linkreplace 回憶推理結果。&gt;&gt;
//@@color:GRAY;當年延平郡王攻台不久便逝世，或許是自知實力不夠，鄭氏政權後來把方針自留漢轉做復明，這對天地會來說，應該是個重大的改變。
但是剛剛提到了政權並非重點，那麼應該不會將明朝視做是首要傳承的對象，這樣象徵明朝的日月門，可能就沒有了進去的價值……@@//&lt;&lt;/linkreplace&gt;&gt;
&lt;&lt;else&gt;&gt;
//@@color:GRAY;當年延平郡王攻台不久便逝世，或許是自知實力不夠，鄭氏政權後來把方針自留漢轉做復明，這對天地會來說，應該是個重大的改變。
但是剛剛提到了政權並非重點，那麼應該不會將明朝視做是首要傳承的對象，這樣象徵明朝的日月門，可能就沒有了進去的價值……@@//&lt;&lt;run $clue1.pushUnique(&#39;留漢&#39;)&gt;&gt;&lt;&lt;run $cluecount.pushUnique(&#39;陳予仙保護歷史&#39;)&gt;&gt;
&lt;&lt;/if&gt;&gt;
&lt;span class=&quot;blink&quot;&gt;@@color:orange;你得到了關鍵資訊：留漢。@@&lt;/span&gt;

[[繼續推理|previous()]]</tw-passagedata><tw-passagedata pid="136" name="天地會保護歷史" tags="result noreturn" position="100,1700" size="100,100">&lt;&lt;if $cluecount.includes(&#39;天地會保護歷史&#39;)&gt;&gt;
你先前已推理出該結果。&lt;&lt;linkreplace 回憶推理結果。&gt;&gt;
//@@color:GRAY;當年延平郡王攻台不久便逝世，或許是自知實力不夠，鄭氏政權後來把方針自留漢轉做復明，這對天地會來說，應該是個重大的改變。
但是剛剛提到了政權並非重點，那麼應該不會將明朝視做是首要傳承的對象，這樣象徵明朝的日月門，可能就沒有了進去的價值……@@//&lt;&lt;/linkreplace&gt;&gt;
&lt;&lt;else&gt;&gt;
//@@color:GRAY;當年延平郡王攻台不久便逝世，或許是自知實力不夠，鄭氏政權後來把方針自留漢轉做復明，這對天地會來說，應該是個重大的改變。
但是剛剛提到了政權並非重點，那麼應該不會將明朝視做是首要傳承的對象，這樣象徵明朝的日月門，可能就沒有了進去的價值……@@//&lt;&lt;run $clue1.pushUnique(&#39;傳教&#39;)&gt;&gt;&lt;&lt;run $cluecount.pushUnique(&#39;天地會保護歷史&#39;)&gt;&gt;
&lt;&lt;/if&gt;&gt;
&lt;span class=&quot;blink&quot;&gt;@@color:orange;你得到了關鍵資訊：傳教。@@&lt;/span&gt;

[[繼續推理|previous()]]</tw-passagedata><tw-passagedata pid="137" name="傳教天地會" tags="result noreturn" position="200,1700" size="100,100">&lt;&lt;if $cluecount.includes(&#39;傳教天地會&#39;)&gt;&gt;
你先前已推理出該結果。&lt;&lt;linkreplace 回憶推理結果。&gt;&gt;
//@@color:GRAY;相傳陳進南就是天地會之領袖，當年他就是以傳道的名義進行成員的聯繫，以及廣召志士的手段，這也是石碑之上的詩詞的由來。
又有傳說說道他過去曾結廬白鶴洞，故有白鶴道人之自稱。
但是，剛剛發話人有講過「遠超求道」的說法，似乎八卦門楣不是解答呢……@@//&lt;&lt;/linkreplace&gt;&gt;
&lt;&lt;else&gt;&gt;
//@@color:GRAY;相傳陳進南就是天地會之領袖，當年他就是以傳道的名義進行成員的聯繫，以及廣召志士的手段，這也是石碑之上的詩詞的由來。
又有傳說說道他過去曾結廬白鶴洞，故有白鶴道人之自稱。
但是，剛剛發話人有講過「遠超求道」的說法，似乎八卦門楣不是解答呢……@@//&lt;&lt;run $cluecount.pushUnique(&#39;傳教天地會&#39;)&gt;&gt;
&lt;&lt;/if&gt;&gt;

[[繼續推理|previous()]]</tw-passagedata><tw-passagedata pid="138" name="傳教陳予仙" tags="result noreturn" position="200,1600" size="100,100">&lt;&lt;if $cluecount.includes(&#39;傳教陳予仙&#39;)&gt;&gt;
你先前已推理出該結果。&lt;&lt;linkreplace 回憶推理結果。&gt;&gt;
//@@color:GRAY;相傳陳進南就是天地會之領袖，當年他就是以傳道的名義進行成員的聯繫，以及廣召志士的手段，這也是石碑之上的詩詞的由來。
又有傳說說道他過去曾結廬白鶴洞，故有白鶴道人之自稱。
但是，剛剛發話人有講過「遠超求道」的說法，似乎八卦門楣不是解答呢……@@//&lt;&lt;/linkreplace&gt;&gt;
&lt;&lt;else&gt;&gt;
//@@color:GRAY;相傳陳進南就是天地會之領袖，當年他就是以傳道的名義進行成員的聯繫，以及廣召志士的手段，這也是石碑之上的詩詞的由來。
又有傳說說道他過去曾結廬白鶴洞，故有白鶴道人之自稱。
但是，剛剛發話人有講過「遠超求道」的說法，似乎八卦門楣不是解答呢……@@//&lt;&lt;run $cluecount.pushUnique(&#39;傳教陳予仙&#39;)&gt;&gt;
&lt;&lt;/if&gt;&gt;

[[繼續推理|previous()]]</tw-passagedata><tw-passagedata pid="139" name="傳教保護歷史" tags="result noreturn" position="200,1800" size="100,100">&lt;&lt;if $cluecount.includes(&#39;傳教保護歷史&#39;)&gt;&gt;
你先前已推理出該結果。&lt;&lt;linkreplace 回憶推理結果。&gt;&gt;
//@@color:GRAY;當年延平郡王攻台不久便逝世，或許是自知實力不夠，鄭氏政權後來把方針自留漢轉做復明，這對天地會來說，應該是個重大的改變。
但是剛剛提到了政權並非重點，那麼應該不會將明朝視做是首要傳承的對象，這樣象徵明朝的日月門，可能就沒有了進去的價值……@@//&lt;&lt;/linkreplace&gt;&gt;
&lt;&lt;else&gt;&gt;
//@@color:GRAY;當年延平郡王攻台不久便逝世，或許是自知實力不夠，鄭氏政權後來把方針自留漢轉做復明，這對天地會來說，應該是個重大的改變。
但是剛剛提到了政權並非重點，那麼應該不會將明朝視做是首要傳承的對象，這樣象徵明朝的日月門，可能就沒有了進去的價值……@@//&lt;&lt;run $clue1.pushUnique(&#39;留漢&#39;)&gt;&gt;&lt;&lt;run $cluecount.pushUnique(&#39;傳教保護歷史&#39;)&gt;&gt;
&lt;&lt;/if&gt;&gt;
&lt;span class=&quot;blink&quot;&gt;@@color:orange;你得到了關鍵資訊：留漢。@@&lt;/span&gt;

[[繼續推理|previous()]]</tw-passagedata><tw-passagedata pid="140" name="留漢陳予仙" tags="result noreturn" position="300,1600" size="100,100">&lt;&lt;if $cluecount.includes(&#39;留漢陳予仙&#39;)&gt;&gt;
你先前已推理出該結果。&lt;&lt;linkreplace 回憶推理結果。&gt;&gt;
//@@color:GRAY;若是天地會的傳承已經從狹隘的恢復明朝政權，那麼傳承漢族文化就會是首要的任務。這與發話人所說的保護歷史、保護根的意涵才更為相近。
若說到歷史，由青竹製作的竹簡有汗青之稱，一般被用來作為史冊的稱呼。看來竹子的門會是可以追尋的道路！@@//&lt;&lt;/linkreplace&gt;&gt;
&lt;&lt;else&gt;&gt;
//@@color:GRAY;若是天地會的傳承已經從狹隘的恢復明朝政權，那麼傳承漢族文化就會是首要的任務。這與發話人所說的保護歷史、保護根的意涵才更為相近。
若說到歷史，由青竹製作的竹簡有汗青之稱，一般被用來作為史冊的稱呼。看來竹子的門會是可以追尋的道路！@@//&lt;&lt;run $clue1.pushUnique(&#39;汗青&#39;)&gt;&gt;&lt;&lt;run $cluecount.pushUnique(&#39;留漢陳予仙&#39;)&gt;&gt;
&lt;&lt;/if&gt;&gt;
&lt;span class=&quot;blink&quot;&gt;@@color:orange;你得到了關鍵資訊：汗青。@@&lt;/span&gt;

[[繼續推理|previous()]]</tw-passagedata><tw-passagedata pid="141" name="留漢天地會" tags="result noreturn" position="300,1700" size="100,100">&lt;&lt;if $cluecount.includes(&#39;留漢天地會&#39;)&gt;&gt;
你先前已推理出該結果。&lt;&lt;linkreplace 回憶推理結果。&gt;&gt;
//@@color:GRAY;若是天地會的傳承已經從狹隘的恢復明朝政權，那麼傳承漢族文化就會是首要的任務。這與發話人所說的保護歷史、保護根的意涵才更為相近。
若說到歷史，由青竹製作的竹簡有汗青之稱，一般被用來作為史冊的稱呼。看來竹子的門會是可以追尋的道路！@@//&lt;&lt;/linkreplace&gt;&gt;
&lt;&lt;else&gt;&gt;
//@@color:GRAY;若是天地會的傳承已經從狹隘的恢復明朝政權，那麼傳承漢族文化就會是首要的任務。這與發話人所說的保護歷史、保護根的意涵才更為相近。
若說到歷史，由青竹製作的竹簡有汗青之稱，一般被用來作為史冊的稱呼。看來竹子的門會是可以追尋的道路！@@//&lt;&lt;run $clue1.pushUnique(&#39;汗青&#39;)&gt;&gt;&lt;&lt;run $cluecount.pushUnique(&#39;留漢天地會&#39;)&gt;&gt;
&lt;&lt;/if&gt;&gt;
&lt;span class=&quot;blink&quot;&gt;@@color:orange;你得到了關鍵資訊：汗青。@@&lt;/span&gt;

[[繼續推理|previous()]]</tw-passagedata><tw-passagedata pid="142" name="留漢保護歷史" tags="result noreturn" position="300,1800" size="100,100">&lt;&lt;if $cluecount.includes(&#39;留漢保護歷史&#39;)&gt;&gt;
你先前已推理出該結果。&lt;&lt;linkreplace 回憶推理結果。&gt;&gt;
//@@color:GRAY;若是天地會的傳承已經從狹隘的恢復明朝政權，那麼傳承漢族文化就會是首要的任務。這與發話人所說的保護歷史、保護根的意涵才更為相近。
若說到歷史，由青竹製作的竹簡有汗青之稱，一般被用來作為史冊的稱呼。看來竹子的門會是可以追尋的道路！@@//&lt;&lt;/linkreplace&gt;&gt;
&lt;&lt;else&gt;&gt;
//@@color:GRAY;若是天地會的傳承已經從狹隘的恢復明朝政權，那麼傳承漢族文化就會是首要的任務。這與發話人所說的保護歷史、保護根的意涵才更為相近。
若說到歷史，由青竹製作的竹簡有汗青之稱，一般被用來作為史冊的稱呼。看來竹子的門會是可以追尋的道路！@@//&lt;&lt;run $clue1.pushUnique(&#39;汗青&#39;)&gt;&gt;&lt;&lt;run $cluecount.pushUnique(&#39;留漢保護歷史&#39;)&gt;&gt;
&lt;&lt;/if&gt;&gt;
&lt;span class=&quot;blink&quot;&gt;@@color:orange;你得到了關鍵資訊：汗青。@@&lt;/span&gt;

[[繼續推理|previous()]]</tw-passagedata><tw-passagedata pid="143" name="留漢傳教" tags="result noreturn" position="300,1900" size="100,100">&lt;&lt;if $cluecount.includes(&#39;留漢傳教&#39;)&gt;&gt;
你先前已推理出該結果。&lt;&lt;linkreplace 回憶推理結果。&gt;&gt;
//@@color:GRAY;若是天地會的傳承已經從狹隘的恢復明朝政權，那麼傳承漢族文化就會是首要的任務。這與發話人所說的保護歷史、保護根的意涵才更為相近。
若說到歷史，由青竹製作的竹簡有汗青之稱，一般被用來作為史冊的稱呼。看來竹子的門會是可以追尋的道路！@@//&lt;&lt;/linkreplace&gt;&gt;
&lt;&lt;else&gt;&gt;
//@@color:GRAY;若是天地會的傳承已經從狹隘的恢復明朝政權，那麼傳承漢族文化就會是首要的任務。這與發話人所說的保護歷史、保護根的意涵才更為相近。
若說到歷史，由青竹製作的竹簡有汗青之稱，一般被用來作為史冊的稱呼。看來竹子的門會是可以追尋的道路！@@//&lt;&lt;run $clue1.pushUnique(&#39;汗青&#39;)&gt;&gt;&lt;&lt;run $cluecount.pushUnique(&#39;留漢傳教&#39;)&gt;&gt;
&lt;&lt;/if&gt;&gt;
&lt;span class=&quot;blink&quot;&gt;@@color:orange;你得到了關鍵資訊：汗青。@@&lt;/span&gt;

[[繼續推理|previous()]]</tw-passagedata><tw-passagedata pid="144" name="第三階段推理" tags="combine noreturn" position="1575,1325" size="200,100">推理系統

&lt;&lt;if $clue3.length is 0&gt;&gt;目前擁有的線索不足以搜索。&lt;&lt;else&gt;&gt;&lt;&lt;include &#39;推理3組合選單&#39;&gt;&gt;&lt;&lt;/if&gt;&gt;

----
推理結果：
&lt;&lt;include [[$inferresult]]&gt;&gt;

----
已獲得資訊整合：
</tw-passagedata><tw-passagedata pid="145" name="推理3組合選單" tags="combine noreturn" position="1525,1425" size="100,100">用&lt;&lt;include &#39;推理3下拉1&#39;&gt;&gt;和&lt;&lt;include &#39;推理3下拉2&#39;&gt;&gt;&lt;&lt;link 進行推理！&gt;&gt;
		&lt;&lt;if $clue3list1 == $clue3list2&gt;&gt;
			&lt;&lt;replace &#39;#clue3result&#39;&gt;&gt;沒什麼有用的資訊。&lt;&lt;/replace&gt;&gt;
		&lt;&lt;elseif $clue3list1 is &quot;湯德章&quot; and $clue3list2 is &quot;許丙丁&quot;&gt;&gt;
			&lt;&lt;replace &#39;#clue3result&#39;&gt;&gt;觀看[[推理結果|許丙丁湯德章]]！&lt;&lt;/replace&gt;&gt;
		&lt;&lt;elseif $clue3list1 is &quot;許丙丁&quot; and $clue3list2 is &quot;湯德章&quot;&gt;&gt;
			&lt;&lt;replace &#39;#clue3result&#39;&gt;&gt;觀看[[推理結果|許丙丁湯德章]]！&lt;&lt;/replace&gt;&gt;
		&lt;&lt;elseif $clue3list1 is &quot;許丙丁&quot; and $clue3list2 is &quot;國民政府遷台&quot;&gt;&gt;
			&lt;&lt;replace &#39;#clue3result&#39;&gt;&gt;觀看[[推理結果|許丙丁國民政府遷台]]！&lt;&lt;/replace&gt;&gt;
		&lt;&lt;elseif $clue3list1 is &quot;國民政府遷台&quot; and $clue3list2 is &quot;許丙丁&quot;&gt;&gt;
			&lt;&lt;replace &#39;#clue3result&#39;&gt;&gt;觀看[[推理結果|許丙丁國民政府遷台]]！&lt;&lt;/replace&gt;&gt;
		&lt;&lt;elseif $clue3list1 is &quot;許丙丁&quot; and $clue3list2 is &quot;治安組長&quot;&gt;&gt;
			&lt;&lt;replace &#39;#clue3result&#39;&gt;&gt;觀看[[推理結果|許丙丁治安組長]]！&lt;&lt;/replace&gt;&gt;
		&lt;&lt;elseif $clue3list1 is &quot;治安組長&quot; and $clue3list2 is &quot;許丙丁&quot;&gt;&gt;
			&lt;&lt;replace &#39;#clue3result&#39;&gt;&gt;觀看[[推理結果|許丙丁治安組長]]！&lt;&lt;/replace&gt;&gt;
		&lt;&lt;elseif $clue3list1 is &quot;許丙丁&quot; and $clue3list2 is &quot;二二八事件&quot;&gt;&gt;
			&lt;&lt;replace &#39;#clue3result&#39;&gt;&gt;觀看[[推理結果|許丙丁二二八事件]]！&lt;&lt;/replace&gt;&gt;
		&lt;&lt;elseif $clue3list1 is &quot;二二八事件&quot; and $clue3list2 is &quot;許丙丁&quot;&gt;&gt;
			&lt;&lt;replace &#39;#clue3result&#39;&gt;&gt;觀看[[推理結果|許丙丁二二八事件]]！&lt;&lt;/replace&gt;&gt;
		&lt;&lt;elseif $clue3list1 is &quot;湯德章&quot; and $clue3list2 is &quot;國民政府遷台&quot;&gt;&gt;
			&lt;&lt;replace &#39;#clue3result&#39;&gt;&gt;觀看[[推理結果|湯德章國民政府遷台]]！&lt;&lt;/replace&gt;&gt;
		&lt;&lt;elseif $clue3list1 is &quot;國民政府遷台&quot; and $clue3list2 is &quot;湯德章&quot;&gt;&gt;
			&lt;&lt;replace &#39;#clue3result&#39;&gt;&gt;觀看[[推理結果|湯德章國民政府遷台]]！&lt;&lt;/replace&gt;&gt;
		&lt;&lt;elseif $clue3list1 is &quot;湯德章&quot; and $clue3list2 is &quot;治安組長&quot;&gt;&gt;
			&lt;&lt;replace &#39;#clue3result&#39;&gt;&gt;觀看[[推理結果|湯德章治安組長]]！&lt;&lt;/replace&gt;&gt;
		&lt;&lt;elseif $clue3list1 is &quot;治安組長&quot; and $clue3list2 is &quot;湯德章&quot;&gt;&gt;
			&lt;&lt;replace &#39;#clue3result&#39;&gt;&gt;觀看[[推理結果|湯德章治安組長]]！&lt;&lt;/replace&gt;&gt;
		&lt;&lt;elseif $clue3list1 is &quot;湯德章&quot; and $clue3list2 is &quot;二二八事件&quot;&gt;&gt;
			&lt;&lt;replace &#39;#clue3result&#39;&gt;&gt;觀看[[推理結果|湯德章二二八事件]]！&lt;&lt;/replace&gt;&gt;
		&lt;&lt;elseif $clue3list1 is &quot;二二八事件&quot; and $clue3list2 is &quot;湯德章&quot;&gt;&gt;
			&lt;&lt;replace &#39;#clue3result&#39;&gt;&gt;觀看[[推理結果|湯德章二二八事件]]！&lt;&lt;/replace&gt;&gt;
		&lt;&lt;elseif $clue3list1 is &quot;湯德章&quot; and $clue3list2 is &quot;血洗慘案&quot;&gt;&gt;
			&lt;&lt;replace &#39;#clue3result&#39;&gt;&gt;觀看[[推理結果|湯德章血洗慘案]]！&lt;&lt;/replace&gt;&gt;
		&lt;&lt;elseif $clue3list1 is &quot;血洗慘案&quot; and $clue3list2 is &quot;湯德章&quot;&gt;&gt;
			&lt;&lt;replace &#39;#clue3result&#39;&gt;&gt;觀看[[推理結果|湯德章血洗慘案]]！&lt;&lt;/replace&gt;&gt;
		&lt;&lt;elseif $clue3list1 is &quot;二二八事件&quot; and $clue3list2 is &quot;治安組長&quot;&gt;&gt;
			&lt;&lt;replace &#39;#clue3result&#39;&gt;&gt;觀看[[推理結果|二二八事件治安組長]]！&lt;&lt;/replace&gt;&gt;
		&lt;&lt;elseif $clue3list1 is &quot;國民政府遷台&quot; and $clue3list2 is &quot;二二八事件&quot;&gt;&gt;
			&lt;&lt;replace &#39;#clue3result&#39;&gt;&gt;觀看[[推理結果|二二八事件國民政府遷台]]！&lt;&lt;/replace&gt;&gt;
		&lt;&lt;elseif $clue3list1 is &quot;二二八事件&quot; and $clue3list2 is &quot;國民政府遷台&quot;&gt;&gt;
			&lt;&lt;replace &#39;#clue3result&#39;&gt;&gt;觀看[[推理結果|二二八事件國民政府遷台]]！&lt;&lt;/replace&gt;&gt;
		&lt;&lt;elseif $clue3list1 is &quot;治安組長&quot; and $clue3list2 is &quot;二二八事件&quot;&gt;&gt;
			&lt;&lt;replace &#39;#clue3result&#39;&gt;&gt;觀看[[推理結果|二二八事件治安組長]]！&lt;&lt;/replace&gt;&gt;
		&lt;&lt;elseif $clue3list1 is &quot;治安組長&quot; and $clue3list2 is &quot;國民政府遷台&quot;&gt;&gt;
			&lt;&lt;replace &#39;#clue3result&#39;&gt;&gt;觀看[[推理結果|治安組長國民政府遷台]]！&lt;&lt;/replace&gt;&gt;
		&lt;&lt;elseif $clue3list1 is &quot;國民政府遷台&quot; and $clue3list2 is &quot;治安組長&quot;&gt;&gt;
			&lt;&lt;replace &#39;#clue3result&#39;&gt;&gt;觀看[[推理結果|治安組長國民政府遷台]]！&lt;&lt;/replace&gt;&gt;
		&lt;&lt;elseif $clue3list1 is &quot;二二八事件&quot; and $clue3list2 is &quot;治安組長&quot;&gt;&gt;
			&lt;&lt;replace &#39;#clue3result&#39;&gt;&gt;觀看[[推理結果|二二八事件治安組長]]！&lt;&lt;/replace&gt;&gt;
		&lt;&lt;elseif $clue3list1 is &quot;治安組長&quot; and $clue3list2 is &quot;二二八事件&quot;&gt;&gt;
			&lt;&lt;replace &#39;#clue3result&#39;&gt;&gt;觀看[[推理結果|二二八事件治安組長]]！&lt;&lt;/replace&gt;&gt;
		&lt;&lt;elseif $clue3list1 is &quot;治安組長&quot; and $clue3list2 is &quot;血洗慘案&quot;&gt;&gt;
			&lt;&lt;replace &#39;#clue3result&#39;&gt;&gt;觀看[[推理結果|治安組長血洗慘案]]！&lt;&lt;/replace&gt;&gt;
		&lt;&lt;elseif $clue3list1 is &quot;血洗慘案&quot; and $clue3list2 is &quot;治安組長&quot;&gt;&gt;
			&lt;&lt;replace &#39;#clue3result&#39;&gt;&gt;觀看[[推理結果|治安組長血洗慘案]]！&lt;&lt;/replace&gt;&gt;
		&lt;&lt;else&gt;&gt;
			&lt;&lt;replace &#39;#clue3result&#39;&gt;&gt;沒什麼有用的資訊。&lt;&lt;/replace&gt;&gt;
		&lt;&lt;/if&gt;&gt;
	&lt;&lt;/link&gt;&gt;
	
&lt;div id=&#39;clue3result&#39;&gt;&lt;/div&gt;</tw-passagedata><tw-passagedata pid="146" name="推理3下拉1" tags="combine noreturn" position="1625,1425" size="100,100">&lt;&lt;listbox &quot;$clue3list1&quot;&gt;&gt;
&lt;&lt;optionsfrom $clue3&gt;&gt;
&lt;&lt;/listbox&gt;&gt;</tw-passagedata><tw-passagedata pid="147" name="推理3下拉2" tags="combine noreturn" position="1725,1425" size="100,100">&lt;&lt;listbox &quot;$clue3list2&quot;&gt;&gt;
&lt;&lt;optionsfrom $clue3&gt;&gt;
&lt;&lt;/listbox&gt;&gt;</tw-passagedata><tw-passagedata pid="148" name="私塾窺園" tags="result noreturn" position="600,1675" size="100,100">&lt;&lt;if $cluecount.includes(&#39;私塾窺園&#39;)&gt;&gt;
你先前已推理出該結果。&lt;&lt;linkreplace 回憶推理結果。&gt;&gt;
//@@color:GRAY;私塾和窺園的資訊(E)。@@//&lt;&lt;/linkreplace&gt;&gt;
&lt;&lt;else&gt;&gt;
//@@color:GRAY;私塾和窺園的資訊(E)。@@//&lt;&lt;run $clue2.pushUnique(&#39;許南英&#39;)&gt;&gt;&lt;&lt;run $cluecount.pushUnique(&#39;私塾窺園&#39;)&gt;&gt;
&lt;&lt;/if&gt;&gt;
&lt;span class=&quot;blink&quot;&gt;@@color:orange;你得到了關鍵資訊：許南英。@@&lt;/span&gt;

[[繼續推理|previous()]]</tw-passagedata><tw-passagedata pid="149" name="私塾許特齊" tags="result noreturn" position="700,1675" size="100,100">&lt;&lt;if $cluecount.includes(&#39;私塾許特齊&#39;)&gt;&gt;
你先前已推理出該結果。&lt;&lt;linkreplace 回憶推理結果。&gt;&gt;
//@@color:GRAY;私塾和許特齊的資訊(E)。@@//&lt;&lt;/linkreplace&gt;&gt;
&lt;&lt;else&gt;&gt;
//@@color:GRAY;私塾和許特齊的資訊(E)。@@//&lt;&lt;run $clue2.pushUnique(&#39;許南英&#39;)&gt;&gt;&lt;&lt;run $cluecount.pushUnique(&#39;私塾許特齊&#39;)&gt;&gt;
&lt;&lt;/if&gt;&gt;
&lt;span class=&quot;blink&quot;&gt;@@color:orange;你得到了關鍵資訊：許南英。@@&lt;/span&gt;

[[繼續推理|previous()]]</tw-passagedata><tw-passagedata pid="150" name="私塾許南英晚年" tags="result noreturn" position="900,1675" size="100,100">&lt;&lt;if $cluecount.includes(&#39;私塾許南英晚年&#39;)&gt;&gt;
你先前已推理出該結果。&lt;&lt;linkreplace 回憶推理結果。&gt;&gt;
//@@color:GRAY;私塾和許南英晚年的資訊(G)。@@//&lt;&lt;/linkreplace&gt;&gt;
&lt;&lt;else&gt;&gt;
//@@color:GRAY;私塾和許南英晚年的資訊(G)。@@//&lt;&lt;run $clue2.pushUnique(&#39;日本政府&#39;)&gt;&gt;&lt;&lt;run $cluecount.pushUnique(&#39;私塾許南英晚年&#39;)&gt;&gt;
&lt;&lt;/if&gt;&gt;
&lt;span class=&quot;blink&quot;&gt;@@color:orange;你得到了關鍵資訊：日本政府。@@&lt;/span&gt;

[[繼續推理|previous()]]</tw-passagedata><tw-passagedata pid="151" name="私塾日本政府" tags="result noreturn" position="1000,1675" size="100,100">&lt;&lt;if $cluecount.includes(&#39;私塾日本政府&#39;)&gt;&gt;
你先前已推理出該結果。&lt;&lt;linkreplace 回憶推理結果。&gt;&gt;
//@@color:GRAY;私塾和日本政府的資訊(HI)。@@//&lt;&lt;/linkreplace&gt;&gt;
&lt;&lt;else&gt;&gt;
//@@color:GRAY;私塾和日本政府的資訊(HI)。@@//&lt;&lt;run $clue2.pushUnique(&#39;窺園留草&#39;)&gt;&gt;&lt;&lt;run $clue2.pushUnique(&#39;許地山&#39;)&gt;&gt;&lt;&lt;run $cluecount.pushUnique(&#39;私塾日本政府&#39;)&gt;&gt;
&lt;&lt;/if&gt;&gt;
&lt;span class=&quot;blink&quot;&gt;@@color:orange;你得到了關鍵資訊：窺園留草、許地山。@@&lt;/span&gt;

[[繼續推理|previous()]]</tw-passagedata><tw-passagedata pid="152" name="私塾窺園留草" tags="result noreturn" position="1100,1675" size="100,100">&lt;&lt;if $cluecount.includes(&#39;私塾窺園留草&#39;)&gt;&gt;
你先前已推理出該結果。&lt;&lt;linkreplace 回憶推理結果。&gt;&gt;
//@@color:GRAY;私塾和窺園留草的資訊(F)。@@//&lt;&lt;/linkreplace&gt;&gt;
&lt;&lt;else&gt;&gt;
//@@color:GRAY;私塾和窺園留草的資訊(F)。@@//&lt;&lt;run $clue2.pushUnique(&#39;許南英晚年&#39;)&gt;&gt;&lt;&lt;run $cluecount.pushUnique(&#39;私塾窺園留草&#39;)&gt;&gt;
&lt;&lt;/if&gt;&gt;
&lt;span class=&quot;blink&quot;&gt;@@color:orange;你得到了關鍵資訊：許南英晚年。@@&lt;/span&gt;

[[繼續推理|previous()]]</tw-passagedata><tw-passagedata pid="153" name="私塾許地山" tags="result noreturn" position="1200,1675" size="100,100">&lt;&lt;if $cluecount.includes(&#39;私塾許地山&#39;)&gt;&gt;
你先前已推理出該結果。&lt;&lt;linkreplace 回憶推理結果。&gt;&gt;
//@@color:GRAY;私塾和許地山的資訊(H)。@@//&lt;&lt;/linkreplace&gt;&gt;
&lt;&lt;else&gt;&gt;
//@@color:GRAY;私塾和許地山的資訊(H)。@@//&lt;&lt;run $clue2.pushUnique(&#39;窺園留草&#39;)&gt;&gt;&lt;&lt;run $cluecount.pushUnique(&#39;私塾許地山&#39;)&gt;&gt;
&lt;&lt;/if&gt;&gt;
&lt;span class=&quot;blink&quot;&gt;@@color:orange;你得到了關鍵資訊：窺園留草。@@&lt;/span&gt;

[[繼續推理|previous()]]</tw-passagedata><tw-passagedata pid="154" name="窺園惜字亭" tags="result noreturn" position="600,1775" size="100,100">&lt;&lt;if $cluecount.includes(&#39;窺園惜字亭&#39;)&gt;&gt;
你先前已推理出該結果。&lt;&lt;linkreplace 回憶推理結果。&gt;&gt;
//@@color:GRAY;窺園和惜字亭的資訊(E)。@@//&lt;&lt;/linkreplace&gt;&gt;
&lt;&lt;else&gt;&gt;
//@@color:GRAY;窺園和惜字亭的資訊(E)。@@//&lt;&lt;run $clue2.pushUnique(&#39;許南英&#39;)&gt;&gt;&lt;&lt;run $cluecount.pushUnique(&#39;窺園惜字亭&#39;)&gt;&gt;
&lt;&lt;/if&gt;&gt;
&lt;span class=&quot;blink&quot;&gt;@@color:orange;你得到了關鍵資訊：許南英。@@&lt;/span&gt;

[[繼續推理|previous()]]</tw-passagedata><tw-passagedata pid="155" name="惜字亭許特齊" tags="result noreturn" position="700,1775" size="100,100">&lt;&lt;if $cluecount.includes(&#39;惜字亭許特齊&#39;)&gt;&gt;
你先前已推理出該結果。&lt;&lt;linkreplace 回憶推理結果。&gt;&gt;
//@@color:GRAY;許特齊和惜字亭的資訊(E)。@@//&lt;&lt;/linkreplace&gt;&gt;
&lt;&lt;else&gt;&gt;
//@@color:GRAY;許特齊和惜字亭的資訊(E)。@@//&lt;&lt;run $clue2.pushUnique(&#39;許南英&#39;)&gt;&gt;&lt;&lt;run $cluecount.pushUnique(&#39;惜字亭許特齊&#39;)&gt;&gt;
&lt;&lt;/if&gt;&gt;
&lt;span class=&quot;blink&quot;&gt;@@color:orange;你得到了關鍵資訊：許南英。@@&lt;/span&gt;

[[繼續推理|previous()]]</tw-passagedata><tw-passagedata pid="156" name="惜字亭許南英" tags="result noreturn" position="800,1775" size="100,100">&lt;&lt;if $cluecount.includes(&#39;惜字亭許南英&#39;)&gt;&gt;
你先前已推理出該結果。&lt;&lt;linkreplace 回憶推理結果。&gt;&gt;
//@@color:GRAY;許南英和惜字亭的資訊(F)。@@//&lt;&lt;/linkreplace&gt;&gt;
&lt;&lt;else&gt;&gt;
//@@color:GRAY;許南英和惜字亭的資訊(F)。@@//&lt;&lt;run $clue2.pushUnique(&#39;許南英晚年&#39;)&gt;&gt;&lt;&lt;run $cluecount.pushUnique(&#39;惜字亭許南英&#39;)&gt;&gt;
&lt;&lt;/if&gt;&gt;
&lt;span class=&quot;blink&quot;&gt;@@color:orange;你得到了關鍵資訊：許南英晚年。@@&lt;/span&gt;

[[繼續推理|previous()]]</tw-passagedata><tw-passagedata pid="157" name="惜字亭許南英晚年" tags="result noreturn" position="900,1775" size="100,100">&lt;&lt;if $cluecount.includes(&#39;惜字亭許南英晚年&#39;)&gt;&gt;
你先前已推理出該結果。&lt;&lt;linkreplace 回憶推理結果。&gt;&gt;
//@@color:GRAY;許南英和惜字亭的資訊(G)。@@//&lt;&lt;/linkreplace&gt;&gt;
&lt;&lt;else&gt;&gt;
//@@color:GRAY;許南英和惜字亭的資訊(G)。@@//&lt;&lt;run $clue2.pushUnique(&#39;日本政府&#39;)&gt;&gt;&lt;&lt;run $cluecount.pushUnique(&#39;惜字亭許南英晚年&#39;)&gt;&gt;
&lt;&lt;/if&gt;&gt;
&lt;span class=&quot;blink&quot;&gt;@@color:orange;你得到了關鍵資訊：日本政府。@@&lt;/span&gt;

[[繼續推理|previous()]]</tw-passagedata><tw-passagedata pid="158" name="惜字亭日本政府" tags="result noreturn" position="1000,1775" size="100,100">&lt;&lt;if $cluecount.includes(&#39;惜字亭日本政府&#39;)&gt;&gt;
你先前已推理出該結果。&lt;&lt;linkreplace 回憶推理結果。&gt;&gt;
//@@color:GRAY;許南英和日本政府的資訊(HI)。@@//&lt;&lt;/linkreplace&gt;&gt;
&lt;&lt;else&gt;&gt;
//@@color:GRAY;許南英和日本政府的資訊(HI)。@@//&lt;&lt;run $clue2.pushUnique(&#39;窺園留草&#39;)&gt;&gt;&lt;&lt;run $clue2.pushUnique(&#39;許地山&#39;)&gt;&gt;&lt;&lt;run $cluecount.pushUnique(&#39;惜字亭日本政府&#39;)&gt;&gt;
&lt;&lt;/if&gt;&gt;
&lt;span class=&quot;blink&quot;&gt;@@color:orange;你得到了關鍵資訊：窺園留草、許地山。@@&lt;/span&gt;

[[繼續推理|previous()]]</tw-passagedata><tw-passagedata pid="159" name="惜字亭窺園留草" tags="result noreturn" position="1100,1775" size="100,100">&lt;&lt;if $cluecount.includes(&#39;惜字亭窺園留草&#39;)&gt;&gt;
你先前已推理出該結果。&lt;&lt;linkreplace 回憶推理結果。&gt;&gt;
//@@color:GRAY;惜字亭和窺園留草的資訊(F)。@@//&lt;&lt;/linkreplace&gt;&gt;
&lt;&lt;else&gt;&gt;
//@@color:GRAY;惜字亭和窺園留草的資訊(F)。@@//&lt;&lt;run $clue2.pushUnique(&#39;許南英晚年&#39;)&gt;&gt;&lt;&lt;run $cluecount.pushUnique(&#39;惜字亭窺園留草&#39;)&gt;&gt;
&lt;&lt;/if&gt;&gt;
&lt;span class=&quot;blink&quot;&gt;@@color:orange;你得到了關鍵資訊：許南英晚年。@@&lt;/span&gt;

[[繼續推理|previous()]]</tw-passagedata><tw-passagedata pid="160" name="惜字亭許地山" tags="result noreturn" position="1200,1775" size="100,100">&lt;&lt;if $cluecount.includes(&#39;惜字亭許地山&#39;)&gt;&gt;
你先前已推理出該結果。&lt;&lt;linkreplace 回憶推理結果。&gt;&gt;
//@@color:GRAY;惜字亭和許地山的資訊(H)。@@//&lt;&lt;/linkreplace&gt;&gt;
&lt;&lt;else&gt;&gt;
//@@color:GRAY;惜字亭和許地山的資訊(H)。@@//&lt;&lt;run $clue2.pushUnique(&#39;窺園留草&#39;)&gt;&gt;&lt;&lt;run $cluecount.pushUnique(&#39;惜字亭許地山&#39;)&gt;&gt;
&lt;&lt;/if&gt;&gt;
&lt;span class=&quot;blink&quot;&gt;@@color:orange;你得到了關鍵資訊：窺園留草。@@&lt;/span&gt;

[[繼續推理|previous()]]</tw-passagedata><tw-passagedata pid="161" name="窺園日本政府" tags="result noreturn" position="1000,1875" size="100,100">&lt;&lt;if $cluecount.includes(&#39;窺園日本政府&#39;)&gt;&gt;
你先前已推理出該結果。&lt;&lt;linkreplace 回憶推理結果。&gt;&gt;
//@@color:GRAY;窺園和日本政府的資訊(HI)。@@//&lt;&lt;/linkreplace&gt;&gt;
&lt;&lt;else&gt;&gt;
//@@color:GRAY;窺園和日本政府的資訊(HI)。@@//&lt;&lt;run $clue2.pushUnique(&#39;窺園留草&#39;)&gt;&gt;&lt;&lt;run $clue2.pushUnique(&#39;許地山&#39;)&gt;&gt;&lt;&lt;run $cluecount.pushUnique(&#39;窺園日本政府&#39;)&gt;&gt;
&lt;&lt;/if&gt;&gt;
&lt;span class=&quot;blink&quot;&gt;@@color:orange;你得到了關鍵資訊：窺園留草、許地山。@@&lt;/span&gt;

[[繼續推理|previous()]]</tw-passagedata><tw-passagedata pid="162" name="窺園窺園留草" tags="result noreturn" position="1100,1875" size="100,100">&lt;&lt;if $cluecount.includes(&#39;窺園窺園留草&#39;)&gt;&gt;
你先前已推理出該結果。&lt;&lt;linkreplace 回憶推理結果。&gt;&gt;
//@@color:GRAY;窺園和窺園留草的資訊(F)。@@//&lt;&lt;/linkreplace&gt;&gt;
&lt;&lt;else&gt;&gt;
//@@color:GRAY;窺園和窺園留草的資訊(F)。@@//&lt;&lt;run $clue2.pushUnique(&#39;許南英晚年&#39;)&gt;&gt;&lt;&lt;run $cluecount.pushUnique(&#39;窺園窺園留草&#39;)&gt;&gt;
&lt;&lt;/if&gt;&gt;
&lt;span class=&quot;blink&quot;&gt;@@color:orange;你得到了關鍵資訊：許南英晚年。@@&lt;/span&gt;

[[繼續推理|previous()]]</tw-passagedata><tw-passagedata pid="163" name="窺園許地山" tags="result noreturn" position="1200,1875" size="100,100">&lt;&lt;if $cluecount.includes(&#39;窺園許地山&#39;)&gt;&gt;
你先前已推理出該結果。&lt;&lt;linkreplace 回憶推理結果。&gt;&gt;
//@@color:GRAY;窺園和許地山的資訊(H)。@@//&lt;&lt;/linkreplace&gt;&gt;
&lt;&lt;else&gt;&gt;
//@@color:GRAY;窺園和許地山的資訊(H)。@@//&lt;&lt;run $clue2.pushUnique(&#39;窺園留草&#39;)&gt;&gt;&lt;&lt;run $cluecount.pushUnique(&#39;窺園許地山&#39;)&gt;&gt;
&lt;&lt;/if&gt;&gt;
&lt;span class=&quot;blink&quot;&gt;@@color:orange;你得到了關鍵資訊：窺園留草。@@&lt;/span&gt;

[[繼續推理|previous()]]</tw-passagedata><tw-passagedata pid="164" name="許特齊許南英" tags="result noreturn" position="800,1975" size="100,100">&lt;&lt;if $cluecount.includes(&#39;許特齊許南英&#39;)&gt;&gt;
你先前已推理出該結果。&lt;&lt;linkreplace 回憶推理結果。&gt;&gt;
//@@color:GRAY;父子關係1。@@//&lt;&lt;/linkreplace&gt;&gt;
&lt;&lt;else&gt;&gt;
//@@color:GRAY;父子關係1。@@//&lt;&lt;run $cluecount.pushUnique(&#39;許特齊許南英&#39;)&gt;&gt;
&lt;&lt;/if&gt;&gt;

[[繼續推理|previous()]]</tw-passagedata><tw-passagedata pid="165" name="許特齊許南英晚年" tags="result noreturn" position="900,1975" size="100,100">&lt;&lt;if $cluecount.includes(&#39;許特齊許南英晚年&#39;)&gt;&gt;
你先前已推理出該結果。&lt;&lt;linkreplace 回憶推理結果。&gt;&gt;
//@@color:GRAY;父子關係1。@@//&lt;&lt;/linkreplace&gt;&gt;
&lt;&lt;else&gt;&gt;
//@@color:GRAY;父子關係1。@@//&lt;&lt;run $cluecount.pushUnique(&#39;許特齊許南英晚年&#39;)&gt;&gt;
&lt;&lt;/if&gt;&gt;

[[繼續推理|previous()]]</tw-passagedata><tw-passagedata pid="166" name="許特齊窺園留草" tags="result noreturn" position="1100,1975" size="100,100">&lt;&lt;if $cluecount.includes(&#39;許特齊窺園留草&#39;)&gt;&gt;
你先前已推理出該結果。&lt;&lt;linkreplace 回憶推理結果。&gt;&gt;
//@@color:GRAY;父子關係1。@@//&lt;&lt;/linkreplace&gt;&gt;
&lt;&lt;else&gt;&gt;
//@@color:GRAY;父子關係1。@@//&lt;&lt;run $cluecount.pushUnique(&#39;許特齊窺園留草&#39;)&gt;&gt;
&lt;&lt;/if&gt;&gt;

[[繼續推理|previous()]]</tw-passagedata><tw-passagedata pid="167" name="許南英許南英晚年" tags="result noreturn" position="900,2075" size="100,100">&lt;&lt;if $cluecount.includes(&#39;許南英許南英晚年&#39;)&gt;&gt;
你先前已推理出該結果。&lt;&lt;linkreplace 回憶推理結果。&gt;&gt;
//@@color:GRAY;許南英和許南英晚年的資訊(G)。@@//&lt;&lt;/linkreplace&gt;&gt;
&lt;&lt;else&gt;&gt;
//@@color:GRAY;許南英和許南英晚年的資訊(G)。@@//&lt;&lt;run $clue2.pushUnique(&#39;日本政府&#39;)&gt;&gt;&lt;&lt;run $cluecount.pushUnique(&#39;許南英許南英晚年&#39;)&gt;&gt;
&lt;&lt;/if&gt;&gt;
&lt;span class=&quot;blink&quot;&gt;@@color:orange;你得到了關鍵資訊：日本政府。@@&lt;/span&gt;

[[繼續推理|previous()]]</tw-passagedata><tw-passagedata pid="168" name="許南英窺園留草" tags="result noreturn" position="1100,2075" size="100,100">&lt;&lt;if $cluecount.includes(&#39;許南英窺園留草&#39;)&gt;&gt;
你先前已推理出該結果。&lt;&lt;linkreplace 回憶推理結果。&gt;&gt;
//@@color:GRAY;許南英和窺園留草的資訊(F)。@@//&lt;&lt;/linkreplace&gt;&gt;
&lt;&lt;else&gt;&gt;
//@@color:GRAY;許南英和窺園留草的資訊(F)。@@//&lt;&lt;run $clue2.pushUnique(&#39;許南英晚年&#39;)&gt;&gt;&lt;&lt;run $cluecount.pushUnique(&#39;許南英窺園留草&#39;)&gt;&gt;
&lt;&lt;/if&gt;&gt;
&lt;span class=&quot;blink&quot;&gt;@@color:orange;你得到了關鍵資訊：許南英晚年。@@&lt;/span&gt;

[[繼續推理|previous()]]</tw-passagedata><tw-passagedata pid="169" name="許南英許地山" tags="result noreturn" position="1200,2075" size="100,100">&lt;&lt;if $cluecount.includes(&#39;許南英許地山&#39;)&gt;&gt;
你先前已推理出該結果。&lt;&lt;linkreplace 回憶推理結果。&gt;&gt;
//@@color:GRAY;父子關係1。@@//&lt;&lt;/linkreplace&gt;&gt;
&lt;&lt;else&gt;&gt;
//@@color:GRAY;父子關係1。@@//&lt;&lt;run $cluecount.pushUnique(&#39;許南英許地山&#39;)&gt;&gt;
&lt;&lt;/if&gt;&gt;

[[繼續推理|previous()]]</tw-passagedata><tw-passagedata pid="170" name="許南英晚年日本政府" tags="result noreturn" position="1000,2175" size="100,100">&lt;&lt;if $cluecount.includes(&#39;許南英晚年日本政府&#39;)&gt;&gt;
你先前已推理出該結果。&lt;&lt;linkreplace 回憶推理結果。&gt;&gt;
//@@color:GRAY;許南英晚年和日本政府的資訊(HI)。@@//&lt;&lt;/linkreplace&gt;&gt;
&lt;&lt;else&gt;&gt;
//@@color:GRAY;許南英晚年和日本政府的資訊(HI)。@@//&lt;&lt;run $clue2.pushUnique(&#39;窺園留草&#39;)&gt;&gt;&lt;&lt;run $clue2.pushUnique(&#39;許地山&#39;)&gt;&gt;&lt;&lt;run $cluecount.pushUnique(&#39;許南英晚年日本政府&#39;)&gt;&gt;
&lt;&lt;/if&gt;&gt;
&lt;span class=&quot;blink&quot;&gt;@@color:orange;你得到了關鍵資訊：窺園留草、許地山。@@&lt;/span&gt;

[[繼續推理|previous()]]</tw-passagedata><tw-passagedata pid="171" name="許南英晚年窺園留草" tags="result noreturn" position="1100,2175" size="100,100">&lt;&lt;if $cluecount.includes(&#39;許南英晚年窺園留草&#39;)&gt;&gt;
你先前已推理出該結果。&lt;&lt;linkreplace 回憶推理結果。&gt;&gt;
//@@color:GRAY;許南英晚年和窺園留草的資訊(F)。@@//&lt;&lt;/linkreplace&gt;&gt;
&lt;&lt;else&gt;&gt;
//@@color:GRAY;許南英晚年和窺園留草的資訊(F)。@@//&lt;&lt;run $clue2.pushUnique(&#39;許南英晚年&#39;)&gt;&gt;&lt;&lt;run $cluecount.pushUnique(&#39;許南英晚年窺園留草&#39;)&gt;&gt;
&lt;&lt;/if&gt;&gt;
&lt;span class=&quot;blink&quot;&gt;@@color:orange;你得到了關鍵資訊：許南英晚年。@@&lt;/span&gt;

[[繼續推理|previous()]]</tw-passagedata><tw-passagedata pid="172" name="許南英晚年許地山" tags="result noreturn" position="1200,2175" size="100,100">&lt;&lt;if $cluecount.includes(&#39;許南英晚年許地山&#39;)&gt;&gt;
你先前已推理出該結果。&lt;&lt;linkreplace 回憶推理結果。&gt;&gt;
//@@color:GRAY;許南英晚年和許地山的資訊(H)。@@//&lt;&lt;/linkreplace&gt;&gt;
&lt;&lt;else&gt;&gt;
//@@color:GRAY;許南英晚年和許地山的資訊(H)。@@//&lt;&lt;run $clue2.pushUnique(&#39;窺園留草&#39;)&gt;&gt;&lt;&lt;run $cluecount.pushUnique(&#39;許南英晚年許地山&#39;)&gt;&gt;
&lt;&lt;/if&gt;&gt;
&lt;span class=&quot;blink&quot;&gt;@@color:orange;你得到了關鍵資訊：窺園留草。@@&lt;/span&gt;

[[繼續推理|previous()]]</tw-passagedata><tw-passagedata pid="173" name="許丙丁窺園留草" tags="result noreturn" position="1300,2375" size="100,100">&lt;&lt;if $cluecount.includes(&#39;許丙丁窺園留草&#39;)&gt;&gt;
你先前已推理出該結果。&lt;&lt;linkreplace 回憶推理結果。&gt;&gt;
//@@color:GRAY;許丙丁和窺園留草的資訊(HI)。@@//&lt;&lt;/linkreplace&gt;&gt;
&lt;&lt;else&gt;&gt;
//@@color:GRAY;許丙丁和窺園留草的資訊(HI)。@@//&lt;&lt;run $clue2.pushUnique(&#39;許地山&#39;)&gt;&gt;&lt;&lt;run $cluecount.pushUnique(&#39;許丙丁窺園留草&#39;)&gt;&gt;
&lt;&lt;/if&gt;&gt;
&lt;span class=&quot;blink&quot;&gt;@@color:orange;你得到了關鍵資訊：許地山。@@&lt;/span&gt;

[[繼續推理|previous()]]</tw-passagedata><tw-passagedata pid="174" name="日本政府日本戰敗" tags="result noreturn" position="1400,2275" size="100,100">&lt;&lt;if $cluecount.includes(&#39;日本政府日本戰敗&#39;)&gt;&gt;
你先前已推理出該結果。&lt;&lt;linkreplace 回憶推理結果。&gt;&gt;
//@@color:GRAY;日本政府和日本戰敗的資訊(P)。@@//&lt;&lt;/linkreplace&gt;&gt;
&lt;&lt;else&gt;&gt;
//@@color:GRAY;日本政府和日本戰敗的資訊(P)。@@//&lt;&lt;run $clue2.pushUnique(&#39;國民政府遷台&#39;)&gt;&gt;&lt;&lt;run $cluecount.pushUnique(&#39;日本政府日本戰敗&#39;)&gt;&gt;
&lt;&lt;/if&gt;&gt;
&lt;span class=&quot;blink&quot;&gt;@@color:orange;你得到了關鍵資訊：國民政府遷台。@@&lt;/span&gt;

[[繼續推理|previous()]]</tw-passagedata><tw-passagedata pid="175" name="湯德章日本政府" tags="result noreturn" position="1500,2275" size="100,100">&lt;&lt;if $cluecount.includes(&#39;湯德章日本政府&#39;)&gt;&gt;
你先前已推理出該結果。&lt;&lt;linkreplace 回憶推理結果。&gt;&gt;
//@@color:GRAY;湯德章身為台灣鄒族人與日本人混血，因為感到台灣人與日本人之間的不平等，加上日本警務同仁對他的排擠行為，早已在戰前辭去警務赴日求學。若干年後，學成返台的他開啟了律師事業，在地方上替台灣人對抗諸多不公平的地方。
由於少時就以武術曾勇退地痞，學成歸台後的義舉更是讓他在地方上的俠士稱號更盛於當年。@@//&lt;&lt;/linkreplace&gt;&gt;
&lt;&lt;else&gt;&gt;
//@@color:GRAY;湯德章身為台灣鄒族人與日本人混血，因為感到台灣人與日本人之間的不平等，加上日本警務同仁對他的排擠行為，早已在戰前辭去警務赴日求學。若干年後，學成返台的他開啟了律師事業，在地方上替台灣人對抗諸多不公平的地方。
由於少時就以武術曾勇退地痞，學成歸台後的義舉更是讓他在地方上的俠士稱號更盛於當年。@@//&lt;&lt;run $clue2.pushUnique(&#39;俠士&#39;)&gt;&gt;&lt;&lt;run $clue2.pushUnique(&#39;革命日本政府&#39;)&gt;&gt;&lt;&lt;run $cluecount.pushUnique(&#39;湯德章日本政府&#39;)&gt;&gt;
&lt;&lt;/if&gt;&gt;
&lt;span class=&quot;blink&quot;&gt;@@color:orange;你得到了關鍵資訊：俠士、革命日本政府。@@&lt;/span&gt;

[[繼續推理|previous()]]</tw-passagedata><tw-passagedata pid="176" name="傳承台灣文化日本政府" tags="result noreturn" position="1600,2275" size="100,100">&lt;&lt;if $cluecount.includes(&#39;傳承台灣文化日本政府&#39;)&gt;&gt;
你先前已推理出該結果。&lt;&lt;linkreplace 回憶推理結果。&gt;&gt;
//@@color:GRAY;日本治台對台灣文化的調查也多有著墨。@@//&lt;&lt;/linkreplace&gt;&gt;
&lt;&lt;else&gt;&gt;
//@@color:GRAY;日本治台對台灣文化的調查也多有著墨。@@//&lt;&lt;run $cluecount.pushUnique(&#39;傳承台灣文化日本政府&#39;)&gt;&gt;
&lt;&lt;/if&gt;&gt;

[[繼續推理|previous()]]</tw-passagedata><tw-passagedata pid="177" name="俠士日本政府" tags="result noreturn" position="1700,2275" size="100,100">&lt;&lt;if $cluecount.includes(&#39;俠士日本政府&#39;)&gt;&gt;
你先前已推理出該結果。&lt;&lt;linkreplace 回憶推理結果。&gt;&gt;
//@@color:GRAY;許南英、許地山中國的生活已經太長，在台灣早已沒有了當年的活動能力與影響力，有了新一輩的能人志士，加上台灣人自治的風氣漸長，自然會選擇在地方上貢獻甚廣、文武兼備的人士做為拳師志業的傳承對象。@@//&lt;&lt;/linkreplace&gt;&gt;
&lt;&lt;else&gt;&gt;
//@@color:GRAY;許南英、許地山中國的生活已經太長，在台灣早已沒有了當年的活動能力與影響力，有了新一輩的能人志士，加上台灣人自治的風氣漸長，自然會選擇在地方上貢獻甚廣、文武兼備的人士做為拳師志業的傳承對象。&lt;&lt;run $cluecount.pushUnique(&#39;俠士日本政府&#39;)&gt;&gt;&lt;&lt;run $cluecount.pushUnique(&#39;時機成熟1&#39;)&gt;&gt;
&lt;&lt;/if&gt;&gt;

[[繼續推理|previous()]]</tw-passagedata><tw-passagedata pid="178" name="窺園留草日本戰敗" tags="result noreturn" position="1400,2375" size="100,100">&lt;&lt;if $cluecount.includes(&#39;窺園留草日本戰敗&#39;)&gt;&gt;
你先前已推理出該結果。&lt;&lt;linkreplace 回憶推理結果。&gt;&gt;
//@@color:GRAY;日本戰敗和窺園留草的資訊(HI)。@@//&lt;&lt;/linkreplace&gt;&gt;
&lt;&lt;else&gt;&gt;
//@@color:GRAY;日本戰敗和窺園留草的資訊(HI)。@@//&lt;&lt;run $clue2.pushUnique(&#39;窺園留草&#39;)&gt;&gt;&lt;&lt;run $clue2.pushUnique(&#39;許地山&#39;)&gt;&gt;&lt;&lt;run $cluecount.pushUnique(&#39;窺園留草日本戰敗&#39;)&gt;&gt;
&lt;&lt;/if&gt;&gt;
&lt;span class=&quot;blink&quot;&gt;@@color:orange;你得到了關鍵資訊：許地山。@@&lt;/span&gt;

[[繼續推理|previous()]]</tw-passagedata><tw-passagedata pid="179" name="傳承台灣文化窺園留草" tags="result noreturn" position="1600,2375" size="100,100">&lt;&lt;if $cluecount.includes(&#39;傳承台灣文化窺園留草&#39;)&gt;&gt;
你先前已推理出該結果。&lt;&lt;linkreplace 回憶推理結果。&gt;&gt;
//@@color:GRAY;許特齊、許南英繼續的拳師志業有了傳承。@@//&lt;&lt;/linkreplace&gt;&gt;
&lt;&lt;else&gt;&gt;
//@@color:GRAY;許特齊、許南英繼續的拳師志業有了傳承。@@//&lt;&lt;run $cluecount.pushUnique(&#39;傳承台灣文化窺園留草&#39;)&gt;&gt;
&lt;&lt;/if&gt;&gt;

[[繼續推理|previous()]]</tw-passagedata><tw-passagedata pid="180" name="俠士窺園留草" tags="result noreturn" position="1700,2375" size="100,100">&lt;&lt;if $cluecount.includes(&#39;俠士窺園留草&#39;)&gt;&gt;
你先前已推理出該結果。&lt;&lt;linkreplace 回憶推理結果。&gt;&gt;
//@@color:GRAY;許南英、許地山中國的生活已經太長，在台灣早已沒有了當年的活動能力與影響力，有了新一輩的能人志士，加上台灣人自治的風氣漸長，自然會選擇在地方上貢獻甚廣、文武兼備的人士做為拳師志業的傳承對象。@@//&lt;&lt;/linkreplace&gt;&gt;
&lt;&lt;else&gt;&gt;
//@@color:GRAY;許南英、許地山中國的生活已經太長，在台灣早已沒有了當年的活動能力與影響力，有了新一輩的能人志士，加上台灣人自治的風氣漸長，自然會選擇在地方上貢獻甚廣、文武兼備的人士做為拳師志業的傳承對象。&lt;&lt;run $cluecount.pushUnique(&#39;俠士窺園留草&#39;)&gt;&gt;&lt;&lt;run $cluecount.pushUnique(&#39;時機成熟1&#39;)&gt;&gt;
&lt;&lt;/if&gt;&gt;

[[繼續推理|previous()]]</tw-passagedata><tw-passagedata pid="181" name="許地山日本戰敗" tags="result noreturn" position="1400,2475" size="100,100">&lt;&lt;if $cluecount.includes(&#39;許地山日本戰敗&#39;)&gt;&gt;
你先前已推理出該結果。&lt;&lt;linkreplace 回憶推理結果。&gt;&gt;
//@@color:GRAY;日本戰敗和許地山的資訊(HI)。@@//&lt;&lt;/linkreplace&gt;&gt;
&lt;&lt;else&gt;&gt;
//@@color:GRAY;日本戰敗和許地山的資訊(HI)。@@//&lt;&lt;run $clue2.pushUnique(&#39;窺園留草&#39;)&gt;&gt;&lt;&lt;run $clue2.pushUnique(&#39;許地山&#39;)&gt;&gt;&lt;&lt;run $cluecount.pushUnique(&#39;許地山日本戰敗&#39;)&gt;&gt;
&lt;&lt;/if&gt;&gt;
&lt;span class=&quot;blink&quot;&gt;@@color:orange;你得到了關鍵資訊：窺園留草。@@&lt;/span&gt;

[[繼續推理|previous()]]</tw-passagedata><tw-passagedata pid="182" name="傳承台灣文化許地山" tags="result noreturn" position="1600,2475" size="100,100">&lt;&lt;if $cluecount.includes(&#39;傳承台灣文化許地山&#39;)&gt;&gt;
你先前已推理出該結果。&lt;&lt;linkreplace 回憶推理結果。&gt;&gt;
//@@color:GRAY;許特齊、許南英繼續的拳師志業有了傳承。@@//&lt;&lt;/linkreplace&gt;&gt;
&lt;&lt;else&gt;&gt;
//@@color:GRAY;許特齊、許南英繼續的拳師志業有了傳承。@@//&lt;&lt;run $cluecount.pushUnique(&#39;傳承台灣文化許地山&#39;)&gt;&gt;
&lt;&lt;/if&gt;&gt;

[[繼續推理|previous()]]</tw-passagedata><tw-passagedata pid="183" name="俠士許地山" tags="result noreturn" position="1700,2475" size="100,100">&lt;&lt;if $cluecount.includes(&#39;俠士許地山&#39;)&gt;&gt;
你先前已推理出該結果。&lt;&lt;linkreplace 回憶推理結果。&gt;&gt;
//@@color:GRAY;許南英、許地山中國的生活已經太長，在台灣早已沒有了當年的活動能力與影響力，有了新一輩的能人志士，加上台灣人自治的風氣漸長，自然會選擇在地方上貢獻甚廣、文武兼備的人士做為拳師志業的傳承對象。@@//&lt;&lt;/linkreplace&gt;&gt;
&lt;&lt;else&gt;&gt;
//@@color:GRAY;許南英、許地山中國的生活已經太長，在台灣早已沒有了當年的活動能力與影響力，有了新一輩的能人志士，加上台灣人自治的風氣漸長，自然會選擇在地方上貢獻甚廣、文武兼備的人士做為拳師志業的傳承對象。@@//&lt;&lt;run $cluecount.pushUnique(&#39;俠士許地山&#39;)&gt;&gt;&lt;&lt;run $cluecount.pushUnique(&#39;時機成熟1&#39;)&gt;&gt;
&lt;&lt;/if&gt;&gt;

[[繼續推理|previous()]]</tw-passagedata><tw-passagedata pid="184" name="傳承台灣文化許丙丁" tags="result noreturn" position="1600,2575" size="100,100">&lt;&lt;if $cluecount.includes(&#39;傳承台灣文化許丙丁&#39;)&gt;&gt;
你先前已推理出該結果。&lt;&lt;linkreplace 回憶推理結果。&gt;&gt;
//@@color:GRAY;許特齊、許南英繼續的拳師志業有了傳承。@@//&lt;&lt;/linkreplace&gt;&gt;
&lt;&lt;else&gt;&gt;
//@@color:GRAY;許特齊、許南英繼續的拳師志業有了傳承。@@//&lt;&lt;run $cluecount.pushUnique(&#39;傳承台灣文化許丙丁&#39;)&gt;&gt;
&lt;&lt;/if&gt;&gt;

[[繼續推理|previous()]]</tw-passagedata><tw-passagedata pid="185" name="俠士許丙丁" tags="result noreturn" position="1700,2575" size="100,100">&lt;&lt;if $cluecount.includes(&#39;俠士許丙丁&#39;)&gt;&gt;
你先前已推理出該結果。&lt;&lt;linkreplace 回憶推理結果。&gt;&gt;
//@@color:GRAY;許南英、許地山中國的生活已經太長，在台灣早已沒有了當年的活動能力與影響力，有了新一輩的能人志士，加上台灣人自治的風氣漸長，自然會選擇在地方上貢獻甚廣、文武兼備的許丙丁、湯德章兩人做為拳師志業的傳承對象。@@//&lt;&lt;/linkreplace&gt;&gt;
&lt;&lt;else&gt;&gt;
//@@color:GRAY;許南英、許地山中國的生活已經太長，在台灣早已沒有了當年的活動能力與影響力，有了新一輩的能人志士，加上台灣人自治的風氣漸長，自然會選擇在地方上貢獻甚廣、文武兼備的許丙丁、湯德章兩人做為拳師志業的傳承對象。@@//&lt;&lt;run $cluecount.pushUnique(&#39;俠士許丙丁&#39;)&gt;&gt;&lt;&lt;run $cluecount.pushUnique(&#39;時機成熟1&#39;)&gt;&gt;
&lt;&lt;/if&gt;&gt;

[[繼續推理|previous()]]</tw-passagedata><tw-passagedata pid="186" name="許丙丁革命日本政府" tags="result noreturn" position="1800,2275" size="100,100">&lt;&lt;if $cluecount.includes(&#39;許丙丁革命日本政府&#39;)&gt;&gt;
你先前已推理出該結果。&lt;&lt;linkreplace 回憶推理結果。&gt;&gt;
//@@color:GRAY;日治時期的台灣並非一直安分地接受殖民，而是有著許多運動。除了幾起重大的反抗事件，更有諸如「台灣文化協會」、「台灣民眾黨」……等，串聯台灣各地能人志士的運動。@@//&lt;&lt;/linkreplace&gt;&gt;
&lt;&lt;else&gt;&gt;
//@@color:GRAY;日治時期的台灣並非一直安分地接受殖民，而是有著許多運動。除了幾起重大的反抗事件，更有諸如「台灣文化協會」、「台灣民眾黨」……等，串聯台灣各地能人志士的運動。@@//&lt;&lt;run $cluecount.pushUnique(&#39;許丙丁革命日本政府&#39;)&gt;&gt;&lt;&lt;run $cluecount.pushUnique(&#39;時機成熟2&#39;)&gt;&gt;
&lt;&lt;/if&gt;&gt;

[[繼續推理|previous()]]</tw-passagedata><tw-passagedata pid="187" name="傳承台灣文化日本戰敗" tags="result noreturn" position="1400,2775" size="100,100">&lt;&lt;if $cluecount.includes(&#39;傳承台灣文化日本戰敗&#39;)&gt;&gt;
你先前已推理出該結果。&lt;&lt;linkreplace 回憶推理結果。&gt;&gt;
//@@color:GRAY;日本治台對台灣文化的調查也多有著墨。@@//&lt;&lt;/linkreplace&gt;&gt;
&lt;&lt;else&gt;&gt;
//@@color:GRAY;日本治台對台灣文化的調查也多有著墨。@@//&lt;&lt;run $cluecount.pushUnique(&#39;傳承台灣文化日本戰敗&#39;)&gt;&gt;
&lt;&lt;/if&gt;&gt;

[[繼續推理|previous()]]</tw-passagedata><tw-passagedata pid="188" name="俠士日本戰敗" tags="result noreturn" position="1400,2875" size="100,100">&lt;&lt;if $cluecount.includes(&#39;俠士日本戰敗&#39;)&gt;&gt;
你先前已推理出該結果。&lt;&lt;linkreplace 回憶推理結果。&gt;&gt;
//@@color:GRAY;許南英、許地山中國的生活已經太長，在台灣早已沒有了當年的活動能力與影響力，有了新一輩的能人志士，加上台灣人自治的風氣漸長，自然會選擇在地方上貢獻甚廣、文武兼備的兩人做為拳師志業的傳承對象。@@//&lt;&lt;/linkreplace&gt;&gt;
&lt;&lt;else&gt;&gt;
//@@color:GRAY;許南英、許地山中國的生活已經太長，在台灣早已沒有了當年的活動能力與影響力，有了新一輩的能人志士，加上台灣人自治的風氣漸長，自然會選擇在地方上貢獻甚廣、文武兼備的兩人做為拳師志業的傳承對象。@@//&lt;&lt;run $cluecount.pushUnique(&#39;俠士日本戰敗&#39;)&gt;&gt;
&lt;&lt;/if&gt;&gt;

[[繼續推理|previous()]]</tw-passagedata><tw-passagedata pid="189" name="俠士革命日本政府" tags="result noreturn" position="1700,2975" size="100,100">&lt;&lt;if $cluecount.includes(&#39;俠士革命日本政府&#39;)&gt;&gt;
你先前已推理出該結果。&lt;&lt;linkreplace 回憶推理結果。&gt;&gt;
//@@color:GRAY;日治時期的台灣並非一直安分地接受殖民，而是有著許多運動。除了幾起重大的反抗事件，更有諸如「台灣文化協會」、「台灣民眾黨」……等，串聯台灣各地能人志士的運動。@@//&lt;&lt;/linkreplace&gt;&gt;
&lt;&lt;else&gt;&gt;
//@@color:GRAY;日治時期的台灣並非一直安分地接受殖民，而是有著許多運動。除了幾起重大的反抗事件，更有諸如「台灣文化協會」、「台灣民眾黨」……等，串聯台灣各地能人志士的運動。@@//&lt;&lt;run $cluecount.pushUnique(&#39;俠士革命日本政府&#39;)&gt;&gt;&lt;&lt;run $cluecount.pushUnique(&#39;時機成熟2&#39;)&gt;&gt;
&lt;&lt;/if&gt;&gt;

[[繼續推理|previous()]]</tw-passagedata><tw-passagedata pid="190" name="湯德章革命日本政府" tags="result noreturn" position="1800,2675" size="100,100">&lt;&lt;if $cluecount.includes(&#39;湯德章革命日本政府&#39;)&gt;&gt;
你先前已推理出該結果。&lt;&lt;linkreplace 回憶推理結果。&gt;&gt;
//@@color:GRAY;日治時期的台灣並非一直安分地接受殖民，而是有著許多運動。除了幾起重大的反抗事件，更有諸如「台灣文化協會」、「台灣民眾黨」……等，串聯台灣各地能人志士的運動。@@//&lt;&lt;/linkreplace&gt;&gt;
&lt;&lt;else&gt;&gt;
//@@color:GRAY;日治時期的台灣並非一直安分地接受殖民，而是有著許多運動。除了幾起重大的反抗事件，更有諸如「台灣文化協會」、「台灣民眾黨」……等，串聯台灣各地能人志士的運動。@@//&lt;&lt;run $cluecount.pushUnique(&#39;湯德章革命日本政府&#39;)&gt;&gt;&lt;&lt;run $cluecount.pushUnique(&#39;時機成熟2&#39;)&gt;&gt;
&lt;&lt;/if&gt;&gt;

[[繼續推理|previous()]]</tw-passagedata><tw-passagedata pid="191" name="許丙丁二二八事件" tags="result noreturn" position="1425,1800" size="100,100">&lt;&lt;if $cluecount.includes(&#39;許丙丁二二八事件&#39;)&gt;&gt;
你先前已推理出該結果。&lt;&lt;linkreplace 回憶推理結果。&gt;&gt;
//@@color:GRAY;二二八事件時，許丙丁曾替湯德章出任事件處理委員會代理治安組長。@@//&lt;&lt;/linkreplace&gt;&gt;
&lt;&lt;else&gt;&gt;
//@@color:GRAY;二二八事件時，許丙丁曾替湯德章出任事件處理委員會代理治安組長。@@//&lt;&lt;run $cluecount.pushUnique(&#39;許丙丁二二八事件&#39;)&gt;&gt;
&lt;&lt;/if&gt;&gt;

[[繼續推理|previous()]]</tw-passagedata><tw-passagedata pid="192" name="湯德章二二八事件" tags="" position="1525,1800" size="100,100">&lt;&lt;if $cluecount.includes(&#39;湯德章二二八事件&#39;)&gt;&gt;
你先前已推理出該結果。&lt;&lt;linkreplace 回憶推理結果。&gt;&gt;
//@@color:GRAY;湯德章在二二八事件發生時，因為當時人權律師的威望與影響力，被推任擔任二二八事件處理委員會臺南市分會治安組組長。

不顧病痛，他親自到了擁槍自重的百名年輕人之中，說服他們繳出槍械，並由當時台南工學院學生(現為成功大學)組成的治安隊，以保台南民眾的安全，台南當地的暴亂隨之平息功勞甚鉅。

然而在陳儀的陰謀之下，表面和平的台灣各地，再次發生血洗的慘案。@@//&lt;&lt;/linkreplace&gt;&gt;
&lt;&lt;else&gt;&gt;
//@@color:GRAY;湯德章在二二八事件發生時，因為當時人權律師的威望與影響力，被推任擔任二二八事件處理委員會臺南市分會治安組組長。

不顧病痛，他親自到了擁槍自重的百名年輕人之中，說服他們繳出槍械，並由當時台南工學院學生(現為成功大學)組成的治安隊，以保台南民眾的安全，台南當地的暴亂隨之平息功勞甚鉅。

然而在陳儀的陰謀之下，表面和平的台灣各地，再次發生血洗的慘案。@@//&lt;&lt;run $clue3.pushUnique(&#39;血洗慘案&#39;)&gt;&gt;&lt;&lt;run $cluecount.pushUnique(&#39;湯德章二二八事件&#39;)&gt;&gt;
&lt;&lt;/if&gt;&gt;
&lt;span class=&quot;blink&quot;&gt;@@color:orange;你得到了關鍵資訊：血洗慘案。@@&lt;/span&gt;

[[繼續推理|previous()]]</tw-passagedata><tw-passagedata pid="193" name="治安組長國民政府遷台" tags="" position="1625,1700" size="100,100">&lt;&lt;if $cluecount.includes(&#39;治安組長國民政府遷台&#39;)&gt;&gt;
你先前已推理出該結果。&lt;&lt;linkreplace 回憶推理結果。&gt;&gt;
//@@color:GRAY;湯德章在二二八事件發生時，因為當時人權律師的威望與影響力，被推任擔任二二八事件處理委員會臺南市分會治安組組長。

不顧病痛，他親自到了擁槍自重的百名年輕人之中，說服他們繳出槍械，並由當時台南工學院學生(現為成功大學)組成的治安隊，以保台南民眾的安全，台南當地的暴亂隨之平息功勞甚鉅。

然而在陳儀的陰謀之下，表面和平的台灣各地，再次發生血洗的慘案。@@//&lt;&lt;/linkreplace&gt;&gt;
&lt;&lt;else&gt;&gt;
//@@color:GRAY;湯德章在二二八事件發生時，因為當時人權律師的威望與影響力，被推任擔任二二八事件處理委員會臺南市分會治安組組長。

不顧病痛，他親自到了擁槍自重的百名年輕人之中，說服他們繳出槍械，並由當時台南工學院學生(現為成功大學)組成的治安隊，以保台南民眾的安全，台南當地的暴亂隨之平息功勞甚鉅。

然而在陳儀的陰謀之下，表面和平的台灣各地，再次發生血洗的慘案。@@//&lt;&lt;run $clue3.pushUnique(&#39;血洗慘案&#39;)&gt;&gt;&lt;&lt;run $cluecount.pushUnique(&#39;治安組長國民政府遷台&#39;)&gt;&gt;
&lt;&lt;/if&gt;&gt;
&lt;span class=&quot;blink&quot;&gt;@@color:orange;你得到了關鍵資訊：二二八事件。@@&lt;/span&gt;

[[繼續推理|previous()]]</tw-passagedata><tw-passagedata pid="194" name="許丙丁許地山" tags="result noreturn" position="1200,2575" size="100,100">&lt;&lt;if $cluecount.includes(&#39;許丙丁許地山&#39;)&gt;&gt;
你先前已推理出該結果。&lt;&lt;linkreplace 回憶推理結果。&gt;&gt;
//@@color:GRAY;M。@@//&lt;&lt;/linkreplace&gt;&gt;
&lt;&lt;else&gt;&gt;
//@@color:GRAY;M。@@//&lt;&lt;run $clue2.pushUnique(&#39;傳承台灣文化&#39;)&gt;&gt;&lt;&lt;run $cluecount.pushUnique(&#39;許丙丁許地山&#39;)&gt;&gt;
&lt;&lt;/if&gt;&gt;
&lt;span class=&quot;blink&quot;&gt;@@color:orange;你得到了關鍵資訊：傳承台灣文化。@@&lt;/span&gt;

[[繼續推理|previous()]]</tw-passagedata><tw-passagedata pid="195" name="手機" tags="phone noreturn" position="100,100" size="100,100">&lt;div style=&quot;background-image:url(https://drive.google.com/uc?id=1WQOPAmGiXAl1NzIfbjVn_g6VSCib28KP);width:400px;height:735px;&quot;&gt;
&lt;/div&gt;
[[返回|previous()]]</tw-passagedata><tw-passagedata pid="196" name="俠士湯德章" tags="" position="1700,2675" size="100,100">&lt;&lt;if $cluecount.includes(&#39;俠士湯德章&#39;)&gt;&gt;
你先前已推理出該結果。&lt;&lt;linkreplace 回憶推理結果。&gt;&gt;
//@@color:GRAY;許南英、許地山中國的生活已經太長，在台灣早已沒有了當年的活動能力與影響力，有了新一輩的能人志士，加上台灣人自治的風氣漸長，自然會選擇在地方上貢獻甚廣、文武兼備的許丙丁、湯德章兩人做為拳師志業的傳承對象。@@//&lt;&lt;/linkreplace&gt;&gt;
&lt;&lt;else&gt;&gt;
//@@color:GRAY;許南英、許地山中國的生活已經太長，在台灣早已沒有了當年的活動能力與影響力，有了新一輩的能人志士，加上台灣人自治的風氣漸長，自然會選擇在地方上貢獻甚廣、文武兼備的許丙丁、湯德章兩人做為拳師志業的傳承對象。@@//&lt;&lt;run $cluecount.pushUnique(&#39;俠士湯德章&#39;)&gt;&gt;&lt;&lt;run $cluecount.pushUnique(&#39;時機成熟1&#39;)&gt;&gt;
&lt;&lt;/if&gt;&gt;

[[繼續推理|previous()]]</tw-passagedata></tw-storydata>
	<script id="script-sugarcube" type="text/javascript">
	/*! SugarCube JS */
	if(document.documentElement.getAttribute("data-init")==="loading"){!function(window,document,jQuery,undefined){"use strict";function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _toConsumableArray(e){if(Array.isArray(e)){for(var t=0,r=Array(e.length);t<e.length;t++)r[t]=e[t];return r}return Array.from(e)}var _createClass=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),_slicedToArray=function(){function e(e,t){var r=[],n=!0,a=!1,i=undefined;try{for(var o,s=e[Symbol.iterator]();!(n=(o=s.next()).done)&&(r.push(o.value),!t||r.length!==t);n=!0);}catch(e){a=!0,i=e}finally{try{!n&&s.return&&s.return()}finally{if(a)throw i}}return r}return function(t,r){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,r);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},errorPrologRegExp=/^(?:(?:uncaught\s+(?:exception:\s+)?)?\w*(?:error|exception|_err):\s+)+/i,Alert=function(){function e(e,t,r,n){var a="fatal"===e,i="Apologies! "+(a?"A fatal":"An")+" error has occurred.";i+=a?" Aborting.":" You may be able to continue, but some parts may not work properly.",null==t&&null==r||(i+="\n\nError",null!=t&&(i+=" ["+t+"]"),i+=null!=r?": "+r.replace(errorPrologRegExp,"")+".":": unknown error."),"object"===(void 0===n?"undefined":_typeof(n))&&null!==n&&n.stack&&(i+="\n\nStack Trace:\n"+n.stack),window.alert(i)}function t(t,r,n){e(null,t,r,n)}function r(t,r,n){e("fatal",t,r,n)}return function(e){window.onerror=function(n,a,i,o,s){"complete"===document.readyState?t(null,n,s):(r(null,n,s),window.onerror=e,"function"==typeof window.onerror&&window.onerror.apply(this,arguments))}}(window.onerror),Object.freeze(Object.defineProperties({},{error:{value:t},fatal:{value:r}}))}(),Patterns=function(){var e=function(){var e=new Map([[" ","\\u0020"],["\f","\\f"],["\n","\\n"],["\r","\\r"],["\t","\\t"],["\v","\\v"],[" ","\\u00a0"],[" ","\\u1680"],["᠎","\\u180e"],[" ","\\u2000"],[" ","\\u2001"],[" ","\\u2002"],[" ","\\u2003"],[" ","\\u2004"],[" ","\\u2005"],[" ","\\u2006"],[" ","\\u2007"],[" ","\\u2008"],[" ","\\u2009"],[" ","\\u200a"],["\u2028","\\u2028"],["\u2029","\\u2029"],[" ","\\u202f"],[" ","\\u205f"],["　","\\u3000"],["\ufeff","\\ufeff"]]),t=/^\s$/,r="";return e.forEach(function(e,n){t.test(n)||(r+=e)}),r?"[\\s"+r+"]":"\\s"}(),t="[\\u0020\\f\\t\\v\\u00a0\\u1680\\u180e\\u2000-\\u200a\\u202f\\u205f\\u3000\\ufeff]",r="\\s"===e?"\\S":e.replace(/^\[/,"[^"),n="[0-9A-Z_a-z\\-\\u00c0-\\u00d6\\u00d8-\\u00f6\\u00f8-\\u00ff\\u0150\\u0170\\u0151\\u0171]",a=n.replace("\\-",""),i=function(){return"("+n+"+)\\(([^\\)\\|\\n]+)\\):|"+t+"*("+n+"+)"+t+"*:([^;\\|\\n]+);|"+t+"*((?:[#.]"+n+"+"+t+"*)+);"}();return Object.freeze({space:e,spaceNoTerminator:t,lineTerminator:"[\\n\\r\\u2028\\u2029]",notSpace:r,anyChar:"(?:.|[\\n\\r\\u2028\\u2029])",anyLetter:n,anyLetterStrict:a,identifierFirstChar:"[$A-Z_a-z]",identifierNextChar:"[$0-9A-Z_a-z]",identifier:"[$A-Z_a-z][$0-9A-Z_a-z]*",variableSigil:"[$_]",variable:"[$_][$A-Z_a-z][$0-9A-Z_a-z]*",macroName:"[A-Za-z][\\w-]*|[=-]",templateName:"[A-Za-z][\\w-]*",cssIdOrClassSigil:"[#.]",cssImage:"\\[[<>]?[Ii][Mm][Gg]\\[(?:\\s|\\S)*?\\]\\]+",inlineCss:i,url:"(?:file|https?|mailto|ftp|javascript|irc|news|data):[^\\s'\"]+"})}();!function(){function e(e,t){var r=Number.parseInt(e,10)||0;if(r<1)return"";var n=void 0===t?"":String(t);for(""===n&&(n=" ");n.length<r;){var a=n.length,i=r-a;n+=a>i?n.slice(0,i):n}return n.length>r&&(n=n.slice(0,r)),n}var t=function(){function e(e,n){var a=String(e);if(!a)return a;switch(n){case"start":return t.test(a)?a.replace(t,""):a;case"end":return r.test(a)?a.replace(r,""):a;default:throw new Error('_trimString called with incorrect where parameter value: "'+n+'"')}}var t=new RegExp("^"+Patterns.space+Patterns.space+"*"),r=new RegExp(""+Patterns.space+Patterns.space+"*$");return e}();Array.prototype.flat||Object.defineProperty(Array.prototype,"flat",{configurable:!0,writable:!0,value:function(){function e(){if(null==this)throw new TypeError("Array.prototype.flat called on null or undefined");var t=0===arguments.length?1:Number(arguments[0])||0;return t<1?Array.prototype.slice.call(this):Array.prototype.reduce.call(this,function(r,n){return n instanceof Array?r.push.apply(r,_toConsumableArray(e.call(n,t-1))):r.push(n),r},[])}return e}()}),Array.prototype.flatMap||Object.defineProperty(Array.prototype,"flatMap",{configurable:!0,writable:!0,value:function(){if(null==this)throw new TypeError("Array.prototype.flatMap called on null or undefined");return Array.prototype.map.apply(this,arguments).flat()}}),Array.prototype.includes||Object.defineProperty(Array.prototype,"includes",{configurable:!0,writable:!0,value:function(){if(null==this)throw new TypeError("Array.prototype.includes called on null or undefined");if(0===arguments.length)return!1;var e=this.length>>>0;if(0===e)return!1;var t=arguments[0],r=Number(arguments[1])||0;for(r<0&&(r=Math.max(0,e+r));r<e;++r){var n=this[r];if(n===t||n!==n&&t!==t)return!0}return!1}}),Object.entries||Object.defineProperty(Object,"entries",{configurable:!0,writable:!0,value:function(e){if("object"!==(void 0===e?"undefined":_typeof(e))||null===e)throw new TypeError("Object.entries object parameter must be an object");return Object.keys(e).map(function(t){return[t,e[t]]})}}),Object.fromEntries||Object.defineProperty(Object,"fromEntries",{configurable:!0,writable:!0,value:function(e){return Array.from(e).reduce(function(e,t){if(Object(t)!==t)throw new TypeError("Object.fromEntries iterable parameter must yield objects");return t[0]in e?Object.defineProperty(e,t[0],{configurable:!0,enumerable:!0,writable:!0,value:t[1]}):e[t[0]]=t[1],e},{})}}),Object.getOwnPropertyDescriptors||Object.defineProperty(Object,"getOwnPropertyDescriptors",{configurable:!0,writable:!0,value:function(e){if(null==e)throw new TypeError("Object.getOwnPropertyDescriptors object parameter is null or undefined");var t=Object(e);return Reflect.ownKeys(t).reduce(function(e,r){var n=Object.getOwnPropertyDescriptor(t,r);return void 0!==n&&(r in e?Object.defineProperty(e,r,{configurable:!0,enumerable:!0,writable:!0,value:n}):e[r]=n),e},{})}}),Object.values||Object.defineProperty(Object,"values",{configurable:!0,writable:!0,value:function(e){if("object"!==(void 0===e?"undefined":_typeof(e))||null===e)throw new TypeError("Object.values object parameter must be an object");return Object.keys(e).map(function(t){return e[t]})}}),String.prototype.padStart||Object.defineProperty(String.prototype,"padStart",{configurable:!0,writable:!0,value:function(t,r){if(null==this)throw new TypeError("String.prototype.padStart called on null or undefined");var n=String(this),a=n.length,i=Number.parseInt(t,10);return i<=a?n:e(i-a,r)+n}}),String.prototype.padEnd||Object.defineProperty(String.prototype,"padEnd",{configurable:!0,writable:!0,value:function(t,r){if(null==this)throw new TypeError("String.prototype.padEnd called on null or undefined");var n=String(this),a=n.length,i=Number.parseInt(t,10);return i<=a?n:n+e(i-a,r)}}),String.prototype.trimStart||Object.defineProperty(String.prototype,"trimStart",{configurable:!0,writable:!0,value:function(){if(null==this)throw new TypeError("String.prototype.trimStart called on null or undefined");return t(this,"start")}}),String.prototype.trimLeft||Object.defineProperty(String.prototype,"trimLeft",{configurable:!0,writable:!0,value:function(){if(null==this)throw new TypeError("String.prototype.trimLeft called on null or undefined");return t(this,"start")}}),String.prototype.trimEnd||Object.defineProperty(String.prototype,"trimEnd",{configurable:!0,writable:!0,value:function(){if(null==this)throw new TypeError("String.prototype.trimEnd called on null or undefined");return t(this,"end")}}),String.prototype.trimRight||Object.defineProperty(String.prototype,"trimRight",{configurable:!0,writable:!0,value:function(){if(null==this)throw new TypeError("String.prototype.trimRight called on null or undefined");return t(this,"end")}})}(),function(){function _random(){var e=void 0,t=void 0;switch(arguments.length){case 0:throw new Error("_random called with insufficient parameters");case 1:e=0,t=arguments[0];break;default:e=arguments[0],t=arguments[1]}if(e>t){var r=[t,e];e=r[0],t=r[1]}return Math.floor(_nativeMathRandom()*(t-e+1))+e}function _randomIndex(e,t){var r=void 0,n=void 0;switch(t.length){case 1:r=0,n=e-1;break;case 2:r=0,n=Math.trunc(t[1]);break;default:r=Math.trunc(t[1]),n=Math.trunc(t[2])}return Number.isNaN(r)?r=0:!Number.isFinite(r)||r>=e?r=e-1:r<0&&(r=e+r)<0&&(r=0),Number.isNaN(n)?n=0:!Number.isFinite(n)||n>=e?n=e-1:n<0&&(n=e+n)<0&&(n=e-1),_random(r,n)}function _getCodePointStartAndEnd(e,t){var r=e.charCodeAt(t);if(Number.isNaN(r))return{char:"",start:-1,end:-1};if(r<55296||r>57343)return{char:e.charAt(t),start:t,end:t};if(r>=55296&&r<=56319){var n=t+1;if(n>=e.length)throw new Error("high surrogate without trailing low surrogate");var a=e.charCodeAt(n);if(a<56320||a>57343)throw new Error("high surrogate without trailing low surrogate");return{char:e.charAt(t)+e.charAt(n),start:t,end:n}}if(0===t)throw new Error("low surrogate without leading high surrogate");var i=t-1,o=e.charCodeAt(i);if(o<55296||o>56319)throw new Error("low surrogate without leading high surrogate");return{char:e.charAt(i)+e.charAt(t),start:i,end:t}}var _nativeMathRandom=Math.random;Object.defineProperty(Array,"random",{configurable:!0,writable:!0,value:function(e){if("object"!==(void 0===e?"undefined":_typeof(e))||null===e||!Object.prototype.hasOwnProperty.call(e,"length"))throw new TypeError("Array.random array parameter must be an array or array-lke object");var t=e.length>>>0;if(0!==t){return e[0===arguments.length?_random(0,t-1):_randomIndex(t,Array.prototype.slice.call(arguments,1))]}}}),Object.defineProperty(Array.prototype,"concatUnique",{configurable:!0,writable:!0,value:function(){if(null==this)throw new TypeError("Array.prototype.concatUnique called on null or undefined");var e=Array.from(this);if(0===arguments.length)return e;var t=Array.prototype.reduce.call(arguments,function(e,t){return e.concat(t)},[]),r=t.length;if(0===r)return e;for(var n=Array.prototype.indexOf,a=Array.prototype.push,i=0;i<r;++i){var o=t[i];-1===n.call(e,o)&&a.call(e,o)}return e}}),Object.defineProperty(Array.prototype,"count",{configurable:!0,writable:!0,value:function(){if(null==this)throw new TypeError("Array.prototype.count called on null or undefined");for(var e=Array.prototype.indexOf,t=arguments[0],r=Number(arguments[1])||0,n=0;-1!==(r=e.call(this,t,r));)++n,++r;return n}}),Object.defineProperty(Array.prototype,"delete",{configurable:!0,writable:!0,value:function(){if(null==this)throw new TypeError("Array.prototype.delete called on null or undefined");if(0===arguments.length)return[];var e=this.length>>>0;if(0===e)return[];for(var t=Array.prototype.concat.apply([],arguments),r=t.length,n=[],a=0;a<e;++a)for(var i=this[a],o=0;o<r;++o){var s=t[o];if(i===s||i!==i&&s!==s){n.push(a);break}}for(var u=[],l=0,c=n.length;l<c;++l)u[l]=this[n[l]];for(var d=Array.prototype.splice,f=n.length-1;f>=0;--f)d.call(this,n[f],1);return u}}),Object.defineProperty(Array.prototype,"deleteAt",{configurable:!0,writable:!0,value:function(){if(null==this)throw new TypeError("Array.prototype.deleteAt called on null or undefined");if(0===arguments.length)return[];var e=this.length>>>0;if(0===e)return[];for(var t=Array.prototype.splice,r=[].concat(_toConsumableArray(new Set(Array.prototype.concat.apply([],arguments).map(function(t){return t<0?Math.max(0,e+t):t})).values())),n=[].concat(_toConsumableArray(r)).sort(function(e,t){return t-e}),a=[],i=0,o=r.length;i<o;++i)a[i]=this[r[i]];for(var s=0,u=n.length;s<u;++s)t.call(this,n[s],1);return a}}),Object.defineProperty(Array.prototype,"deleteWith",{configurable:!0,writable:!0,value:function(e,t){if(null==this)throw new TypeError("Array.prototype.deleteWith called on null or undefined");if("function"!=typeof e)throw new Error("Array.prototype.deleteWith predicate parameter must be a function");var r=this.length>>>0;if(0===r)return[];for(var n=Array.prototype.splice,a=[],i=[],o=0;o<r;++o)e.call(t,this[o],o,this)&&(i.push(this[o]),a.push(o));for(var s=a.length-1;s>=0;--s)n.call(this,a[s],1);return i}}),Object.defineProperty(Array.prototype,"first",{configurable:!0,writable:!0,value:function(){if(null==this)throw new TypeError("Array.prototype.first called on null or undefined");if(0!=this.length>>>0)return this[0]}}),Object.defineProperty(Array.prototype,"includesAll",{configurable:!0,writable:!0,value:function(){if(null==this)throw new TypeError("Array.prototype.includesAll called on null or undefined");if(1===arguments.length)return Array.isArray(arguments[0])?Array.prototype.includesAll.apply(this,arguments[0]):Array.prototype.includes.apply(this,arguments);for(var e=0,t=arguments.length;e<t;++e)if(!Array.prototype.some.call(this,function(e){return e===this.val||e!==e&&this.val!==this.val},{val:arguments[e]}))return!1;return!0}}),Object.defineProperty(Array.prototype,"includesAny",{configurable:!0,writable:!0,value:function(){if(null==this)throw new TypeError("Array.prototype.includesAny called on null or undefined");if(1===arguments.length)return Array.isArray(arguments[0])?Array.prototype.includesAny.apply(this,arguments[0]):Array.prototype.includes.apply(this,arguments);for(var e=0,t=arguments.length;e<t;++e)if(Array.prototype.some.call(this,function(e){return e===this.val||e!==e&&this.val!==this.val},{val:arguments[e]}))return!0;return!1}}),Object.defineProperty(Array.prototype,"last",{configurable:!0,writable:!0,value:function(){if(null==this)throw new TypeError("Array.prototype.last called on null or undefined");var e=this.length>>>0;if(0!==e)return this[e-1]}}),Object.defineProperty(Array.prototype,"pluck",{configurable:!0,writable:!0,value:function(){if(null==this)throw new TypeError("Array.prototype.pluck called on null or undefined");var e=this.length>>>0;if(0!==e){var t=0===arguments.length?_random(0,e-1):_randomIndex(e,[].concat(Array.prototype.slice.call(arguments)));return Array.prototype.splice.call(this,t,1)[0]}}}),Object.defineProperty(Array.prototype,"pluckMany",{configurable:!0,writable:!0,value:function(e){if(null==this)throw new TypeError("Array.prototype.pluckMany called on null or undefined");var t=this.length>>>0;if(0===t)return[];var r=Math.trunc(e);if(!Number.isInteger(r))throw new Error("Array.prototype.pluckMany want parameter must be an integer");if(r<1)return[];r>t&&(r=t);var n=Array.prototype.splice,a=[],i=t-1;do{a.push(n.call(this,_random(0,i--),1)[0])}while(a.length<r);return a}}),Object.defineProperty(Array.prototype,"pushUnique",{configurable:!0,writable:!0,value:function(){if(null==this)throw new TypeError("Array.prototype.pushUnique called on null or undefined");var e=arguments.length;if(0===e)return this.length>>>0;for(var t=Array.prototype.indexOf,r=Array.prototype.push,n=0;n<e;++n){var a=arguments[n];-1===t.call(this,a)&&r.call(this,a)}return this.length>>>0}}),Object.defineProperty(Array.prototype,"random",{configurable:!0,writable:!0,value:function(){if(null==this)throw new TypeError("Array.prototype.random called on null or undefined");var e=this.length>>>0;if(0!==e){return this[0===arguments.length?_random(0,e-1):_randomIndex(e,[].concat(Array.prototype.slice.call(arguments)))]}}}),Object.defineProperty(Array.prototype,"randomMany",{configurable:!0,writable:!0,value:function(e){if(null==this)throw new TypeError("Array.prototype.randomMany called on null or undefined");var t=this.length>>>0;if(0===t)return[];var r=Math.trunc(e);if(!Number.isInteger(r))throw new Error("Array.prototype.randomMany want parameter must be an integer");if(r<1)return[];r>t&&(r=t);var n=new Map,a=[],i=t-1;do{var o=void 0;do{o=_random(0,i)}while(n.has(o));n.set(o,!0),a.push(this[o])}while(a.length<r);return a}}),Object.defineProperty(Array.prototype,"shuffle",{configurable:!0,writable:!0,value:function(){if(null==this)throw new TypeError("Array.prototype.shuffle called on null or undefined");var e=this.length>>>0;if(0===e)return this;for(var t=e-1;t>0;--t){var r=Math.floor(_nativeMathRandom()*(t+1));if(t!==r){var n=this[t];this[t]=this[r],this[r]=n}}return this}}),Object.defineProperty(Array.prototype,"unshiftUnique",{configurable:!0,writable:!0,value:function(){if(null==this)throw new TypeError("Array.prototype.unshiftUnique called on null or undefined");var e=arguments.length;if(0===e)return this.length>>>0;for(var t=Array.prototype.indexOf,r=Array.prototype.unshift,n=0;n<e;++n){var a=arguments[n];-1===t.call(this,a)&&r.call(this,a)}return this.length>>>0}}),Object.defineProperty(Function.prototype,"partial",{configurable:!0,writable:!0,value:function(){if(null==this)throw new TypeError("Function.prototype.partial called on null or undefined");var e=Array.prototype.slice,t=this,r=e.call(arguments,0);return function(){for(var n=[],a=0,i=0;i<r.length;++i)n.push(r[i]===undefined?arguments[a++]:r[i]);return t.apply(this,n.concat(e.call(arguments,a)))}}}),Object.defineProperty(Math,"clamp",{configurable:!0,writable:!0,value:function(e,t,r){var n=Number(e);return Number.isNaN(n)?NaN:n.clamp(t,r)}}),Object.defineProperty(Math,"easeInOut",{configurable:!0,writable:!0,value:function(e){return 1-(Math.cos(Number(e)*Math.PI)+1)/2}}),Object.defineProperty(Number.prototype,"clamp",{configurable:!0,writable:!0,value:function(){if(null==this)throw new TypeError("Number.prototype.clamp called on null or undefined");if(2!==arguments.length)throw new Error("Number.prototype.clamp called with an incorrect number of parameters");var e=Number(arguments[0]),t=Number(arguments[1]);if(e>t){var r=[t,e];e=r[0],t=r[1]}return Math.min(Math.max(this,e),t)}}),RegExp.escape||function(){var e=/[\\^$*+?.()|[\]{}]/g,t=new RegExp(e.source);Object.defineProperty(RegExp,"escape",{configurable:!0,writable:!0,value:function(r){var n=String(r);return n&&t.test(n)?n.replace(e,"\\$&"):n}})}(),function(){var e=/{(\d+)(?:,([+-]?\d+))?}/g,t=new RegExp(e.source);Object.defineProperty(String,"format",{configurable:!0,writable:!0,value:function(r){function n(e,t,r){if(!t)return e;var n=Math.abs(t)-e.length;if(n<1)return e;var a=String(r).repeat(n);return t<0?e+a:a+e}if(arguments.length<2)return 0===arguments.length?"":r;var a=2===arguments.length&&Array.isArray(arguments[1])?[].concat(_toConsumableArray(arguments[1])):Array.prototype.slice.call(arguments,1);return 0===a.length?r:t.test(r)?(e.lastIndex=0,r.replace(e,function(e,t,r){var i=a[t];if(null==i)return"";for(;"function"==typeof i;)i=i();switch(void 0===i?"undefined":_typeof(i)){case"string":break;case"object":i=JSON.stringify(i);break;default:i=String(i)}return n(i,r?Number.parseInt(r,10):0," ")})):r}})}(),Object.defineProperty(String.prototype,"contains",{configurable:!0,writable:!0,value:function(){if(null==this)throw new TypeError("String.prototype.contains called on null or undefined");return-1!==String.prototype.indexOf.apply(this,arguments)}}),Object.defineProperty(String.prototype,"count",{configurable:!0,writable:!0,value:function(){if(null==this)throw new TypeError("String.prototype.count called on null or undefined");var e=String(arguments[0]||"");if(""===e)return 0;for(var t=String.prototype.indexOf,r=e.length,n=Number(arguments[1])||0,a=0;-1!==(n=t.call(this,e,n));)++a,n+=r;return a}}),Object.defineProperty(String.prototype,"first",{configurable:!0,writable:!0,value:function(){if(null==this)throw new TypeError("String.prototype.first called on null or undefined");return _getCodePointStartAndEnd(String(this),0).char}}),Object.defineProperty(String.prototype,"last",{configurable:!0,writable:!0,value:function(){if(null==this)throw new TypeError("String.prototype.last called on null or undefined");var e=String(this);return _getCodePointStartAndEnd(e,e.length-1).char}}),Object.defineProperty(String.prototype,"splice",{configurable:!0,writable:!0,value:function(e,t,r){if(null==this)throw new TypeError("String.prototype.splice called on null or undefined");var n=this.length>>>0;if(0===n)return"";var a=Number(e);Number.isSafeInteger(a)?a<0&&(a+=n)<0&&(a=0):a=0,a>n&&(a=n);var i=Number(t);(!Number.isSafeInteger(i)||i<0)&&(i=0);var o=this.slice(0,a);return void 0!==r&&(o+=r),a+i<n&&(o+=this.slice(a+i)),o}}),Object.defineProperty(String.prototype,"splitOrEmpty",{configurable:!0,writable:!0,value:function(){if(null==this)throw new TypeError("String.prototype.splitOrEmpty called on null or undefined");return""===String(this)?[]:String.prototype.split.apply(this,arguments)}}),Object.defineProperty(String.prototype,"toLocaleUpperFirst",{configurable:!0,writable:!0,value:function(){if(null==this)throw new TypeError("String.prototype.toLocaleUpperFirst called on null or undefined");var e=String(this),t=_getCodePointStartAndEnd(e,0),r=t.char,n=t.end;return-1===n?"":r.toLocaleUpperCase()+e.slice(n+1)}}),Object.defineProperty(String.prototype,"toUpperFirst",{configurable:!0,writable:!0,value:function(){if(null==this)throw new TypeError("String.prototype.toUpperFirst called on null or undefined");var e=String(this),t=_getCodePointStartAndEnd(e,0),r=t.char,n=t.end;return-1===n?"":r.toUpperCase()+e.slice(n+1)}}),Object.defineProperty(Date.prototype,"toJSON",{configurable:!0,writable:!0,value:function(){return["(revive:date)",this.toISOString()]}}),Object.defineProperty(Function.prototype,"toJSON",{configurable:!0,writable:!0,value:function(){return["(revive:eval)","("+this.toString()+")"]}}),Object.defineProperty(Map.prototype,"toJSON",{configurable:!0,writable:!0,value:function(){return["(revive:map)",[].concat(_toConsumableArray(this))]}}),Object.defineProperty(RegExp.prototype,"toJSON",{configurable:!0,writable:!0,value:function(){return["(revive:eval)",this.toString()]}}),Object.defineProperty(Set.prototype,"toJSON",{configurable:!0,writable:!0,value:function(){return["(revive:set)",[].concat(_toConsumableArray(this))]}}),Object.defineProperty(JSON,"reviveWrapper",{configurable:!0,writable:!0,value:function(e,t){if("string"!=typeof e)throw new TypeError("JSON.reviveWrapper code parameter must be a string");return["(revive:eval)",[e,t]]}}),Object.defineProperty(JSON,"_real_parse",{value:JSON.parse}),Object.defineProperty(JSON,"parse",{configurable:!0,writable:!0,value:function value(text,reviver){return JSON._real_parse(text,function(key,val){var value=val;if(Array.isArray(value)&&2===value.length)switch(value[0]){case"(revive:set)":value=new Set(value[1]);break;case"(revive:map)":value=new Map(value[1]);break;case"(revive:date)":value=new Date(value[1]);break;case"(revive:eval)":try{if(Array.isArray(value[1])){var $ReviveData$=value[1][1];value=eval(value[1][0])}else value=eval(value[1])}catch(e){}}else if("string"==typeof value&&"@@revive@@"===value.slice(0,10))try{value=eval(value.slice(10))}catch(e){}if("function"==typeof reviver)try{value=reviver(key,value)}catch(e){}return value})}}),Object.defineProperty(Array.prototype,"contains",{configurable:!0,writable:!0,value:function(){if(null==this)throw new TypeError("Array.prototype.contains called on null or undefined");return Array.prototype.includes.apply(this,arguments)}}),Object.defineProperty(Array.prototype,"containsAll",{configurable:!0,writable:!0,value:function(){if(null==this)throw new TypeError("Array.prototype.containsAll called on null or undefined");return Array.prototype.includesAll.apply(this,arguments)}}),Object.defineProperty(Array.prototype,"containsAny",{configurable:!0,writable:!0,value:function(){if(null==this)throw new TypeError("Array.prototype.containsAny called on null or undefined");return Array.prototype.includesAny.apply(this,arguments)}}),Object.defineProperty(Array.prototype,"flatten",{configurable:!0,writable:!0,value:function(){if(null==this)throw new TypeError("Array.prototype.flatten called on null or undefined");return Array.prototype.flat.call(this,1/0)}}),Object.defineProperty(String.prototype,"readBracketedList",{configurable:!0,writable:!0,value:function(){if(null==this)throw new TypeError("String.prototype.readBracketedList called on null or undefined");for(var e=new RegExp("(?:\\[\\[((?:\\s|\\S)*?)\\]\\])|([^\"'\\s]\\S*)","gm"),t=[],r=void 0;null!==(r=e.exec(this));)r[1]?t.push(r[1]):r[2]&&t.push(r[2]);return t}})}();var Browser=function(){var e=navigator.userAgent.toLowerCase(),t=e.includes("windows phone"),r=Object.freeze({Android:!t&&e.includes("android"),BlackBerry:/blackberry|bb10/.test(e),iOS:!t&&/ip(?:hone|ad|od)/.test(e),Opera:!t&&("object"===_typeof(window.operamini)||e.includes("opera mini")),Windows:t||/iemobile|wpdesktop/.test(e),any:function(){return r.Android||r.BlackBerry||r.iOS||r.Opera||r.Windows}}),n=!r.Windows&&!/khtml|trident|edge/.test(e)&&e.includes("gecko"),a=!e.includes("opera")&&/msie|trident/.test(e),i=a?function(){var t=/(?:msie\s+|rv:)(\d+\.\d)/.exec(e);return t?Number(t[1]):0}():null,o=e.includes("opera")||e.includes(" opr/"),s=o?function(){var t=new RegExp((/khtml|chrome/.test(e)?"opr":"version")+"\\/(\\d+\\.\\d+)"),r=t.exec(e);return r?Number(r[1]):0}():null,u=e.includes("vivaldi");return Object.freeze({userAgent:e,isMobile:r,isGecko:n,isIE:a,ieVersion:i,isOpera:o,operaVersion:s,isVivaldi:u})}(),Has=function(){var e=function(){try{return"function"==typeof document.createElement("audio").canPlayType}catch(e){}return!1}(),t=function(){try{return"Blob"in window&&"File"in window&&"FileList"in window&&"FileReader"in window&&!Browser.isMobile.any()&&(!Browser.isOpera||Browser.operaVersion>=15)}catch(e){}return!1}(),r=function(){try{return"geolocation"in navigator&&"function"==typeof navigator.geolocation.getCurrentPosition&&"function"==typeof navigator.geolocation.watchPosition}catch(e){}return!1}(),n=function(){try{return"MutationObserver"in window&&"function"==typeof window.MutationObserver}catch(e){}return!1}(),a=function(){try{return"performance"in window&&"function"==typeof window.performance.now}catch(e){}return!1}(),i=function(){try{return"ontouchstart"in window||!!window.DocumentTouch&&document instanceof window.DocumentTouch||!!navigator.maxTouchPoints||!!navigator.msMaxTouchPoints}catch(e){}return!1}(),o=function(){try{for(var e=new Map([["transition","transitionend"],["MSTransition","msTransitionEnd"],["WebkitTransition","webkitTransitionEnd"],["MozTransition","transitionend"]]),t=[].concat(_toConsumableArray(e.keys())),r=document.createElement("div"),n=0;n<t.length;++n)if(r.style[t[n]]!==undefined)return e.get(t[n])}catch(e){}return!1}();return Object.freeze({audio:e,fileAPI:t,geolocation:r,mutationObserver:n,performance:a,touch:i,transitionEndEvent:o})}(),Visibility=function(){function e(){return a}function t(){return a&&document[a.stateProperty]||"visible"}function r(){return Boolean(a)}function n(){return Boolean(a&&document[a.hiddenProperty])}var a=function(){try{return Object.freeze([{hiddenProperty:"hidden",stateProperty:"visibilityState",changeEvent:"visibilitychange"},{hiddenProperty:"webkitHidden",stateProperty:"webkitVisibilityState",changeEvent:"webkitvisibilitychange"},{hiddenProperty:"mozHidden",stateProperty:"mozVisibilityState",changeEvent:"mozvisibilitychange"},{hiddenProperty:"msHidden",stateProperty:"msVisibilityState",changeEvent:"msvisibilitychange"}].find(function(e){return e.hiddenProperty in document}))}catch(e){}return undefined}();return Object.freeze(Object.defineProperties({},{vendor:{get:e},state:{get:t},isEnabled:{value:r},isHidden:{value:n},hiddenProperty:{value:a&&a.hiddenProperty},stateProperty:{value:a&&a.stateProperty},changeEvent:{value:a&&a.changeEvent}}))}(),Fullscreen=function(){function e(e){var t=e||document.documentElement;return t===document.documentElement&&("msRequestFullscreen"===f.requestFn||Browser.isOpera&&Browser.operaVersion<15)&&(t=document.body),t}function t(){return f}function r(){return(f||null)&&document[f.element]}function n(){return Boolean(f&&document[f.isEnabled])}function a(){return Boolean(f&&document[f.element])}function i(t,r){var n=this;if(!f)return Promise.reject(new Error("fullscreen not supported"));var i=e(r);if("function"!=typeof i[f.requestFn])return Promise.reject(new Error("fullscreen not supported"));if(a())return Promise.resolve();if(p())return i[f.requestFn](t);var o=".Fullscreen_requestFullscreen";return new Promise(function(e,r){jQuery(i).off(o).one(""+f.errorEvent+o+" "+f.changeEvent+o,function(t){jQuery(n).off(o),t.type===f.errorEvent?r(new Error("unknown fullscreen request error")):e()}),i[f.requestFn](t)})}function o(){var e=this;if(!f||"function"!=typeof document[f.exitFn])return Promise.reject(new TypeError("fullscreen not supported"));if(!a())return Promise.reject(new TypeError("fullscreen mode not active"));if(p())return document[f.exitFn]();var t=".Fullscreen_exitFullscreen";return new Promise(function(r,n){jQuery(document).off(t).one(""+f.errorEvent+t+" "+f.changeEvent+t,function(a){jQuery(e).off(t),a.type===f.errorEvent?n(new Error("unknown fullscreen exit error")):r()}),document[f.exitFn]()})}function s(e,t){return a()?o():i(e,t)}function u(t,r){if(f){var n=e(r);$(n).on(f.changeEvent,t)}}function l(t,r){if(f){var n=e(r);t?$(n).off(f.changeEvent,t):$(n).off(f.changeEvent)}}function c(t,r){if(f){var n=e(r);$(n).on(f.errorEvent,t)}}function d(t,r){if(f){var n=e(r);t?$(n).off(f.errorEvent,t):$(n).off(f.errorEvent)}}var f=function(){try{return Object.freeze([{isEnabled:"fullscreenEnabled",element:"fullscreenElement",requestFn:"requestFullscreen",exitFn:"exitFullscreen",changeEvent:"fullscreenchange",errorEvent:"fullscreenerror"},{isEnabled:"webkitFullscreenEnabled",element:"webkitFullscreenElement",requestFn:"webkitRequestFullscreen",exitFn:"webkitExitFullscreen",changeEvent:"webkitfullscreenchange",errorEvent:"webkitfullscreenerror"},{isEnabled:"mozFullScreenEnabled",element:"mozFullScreenElement",requestFn:"mozRequestFullScreen",exitFn:"mozCancelFullScreen",changeEvent:"mozfullscreenchange",errorEvent:"mozfullscreenerror"},{isEnabled:"msFullscreenEnabled",element:"msFullscreenElement",requestFn:"msRequestFullscreen",exitFn:"msExitFullscreen",changeEvent:"MSFullscreenChange",errorEvent:"MSFullscreenError"}].find(function(e){return e.isEnabled in document}))}catch(e){}return undefined}(),p=function(){function e(){if(null!==t)return t;if(t=!1,f)try{var e=document.exitFullscreen();e.catch(function(){}),t=e instanceof Promise}catch(e){}return t}var t=null;return e}();return Object.freeze(Object.defineProperties({},{vendor:{get:t},element:{get:r},isEnabled:{value:n},isFullscreen:{value:a},request:{value:i},exit:{value:o},toggle:{value:s},onChange:{value:u},offChange:{value:l},onError:{value:c},offError:{value:d}}))}(),_ref3=function(){function e(e){for(var t=e.cloneNode(!0),r=document.createDocumentFragment(),n=void 0;null!==(n=t.firstChild);){if(n.nodeType===Node.ELEMENT_NODE)switch(n.nodeName.toUpperCase()){case"BR":case"DIV":case"P":r.appendChild(document.createTextNode(" "))}r.appendChild(n)}return r.textContent}function t(e){if("object"!==(void 0===e?"undefined":_typeof(e))||null===e)return e;if(e instanceof String)return String(e);if(e instanceof Number)return Number(e);if(e instanceof Boolean)return Boolean(e);if("function"==typeof e.clone)return e.clone(!0);if(e.nodeType&&"function"==typeof e.cloneNode)return e.cloneNode(!0);var r=void 0;return e instanceof Array?r=new Array(e.length):e instanceof Date?r=new Date(e.getTime()):e instanceof Map?(r=new Map,e.forEach(function(e,n){return r.set(n,t(e))})):e instanceof RegExp?r=new RegExp(e):e instanceof Set?(r=new Set,e.forEach(function(e){return r.add(t(e))})):r=Object.create(Object.getPrototypeOf(e)),Object.keys(e).forEach(function(n){return r[n]=t(e[n])}),r}function r(e){
for(var t=document.createDocumentFragment(),r=document.createElement("p"),n=void 0;null!==(n=e.firstChild);){if(n.nodeType===Node.ELEMENT_NODE){switch(n.nodeName.toUpperCase()){case"BR":if(null!==n.nextSibling&&n.nextSibling.nodeType===Node.ELEMENT_NODE&&"BR"===n.nextSibling.nodeName.toUpperCase()){e.removeChild(n.nextSibling),e.removeChild(n),t.appendChild(r),r=document.createElement("p");continue}if(!r.hasChildNodes()){e.removeChild(n);continue}break;case"ADDRESS":case"ARTICLE":case"ASIDE":case"BLOCKQUOTE":case"CENTER":case"DIV":case"DL":case"FIGURE":case"FOOTER":case"FORM":case"H1":case"H2":case"H3":case"H4":case"H5":case"H6":case"HEADER":case"HR":case"MAIN":case"NAV":case"OL":case"P":case"PRE":case"SECTION":case"TABLE":case"UL":r.hasChildNodes()&&(t.appendChild(r),r=document.createElement("p")),t.appendChild(n);continue}}r.appendChild(n)}r.hasChildNodes()&&t.appendChild(r),e.appendChild(t)}function n(){try{return document.activeElement||null}catch(e){return null}}function a(t){if("string"!=typeof t)throw new TypeError("story display title must be a string (received: "+Util.getType(t)+")");var r=document.createDocumentFragment();new Wikifier(r,t);var n=e(r).trim();document.title=Config.passages.displayTitles&&""!==State.passage&&State.passage!==Config.passages.start?State.passage+" | "+n:n;var a=document.getElementById("story-title");null!==a&&jQuery(a).empty().append(r)}function i(e,t,r){var n="object"===(void 0===e?"undefined":_typeof(e))?e:document.getElementById(e);if(null==n)return null;var a=Array.isArray(t)?t:[t];jQuery(n).empty();for(var i=0,o=a.length;i<o;++i)if(Story.has(a[i]))return new Wikifier(n,Story.get(a[i]).processText().trim()),n;if(null!=r){var s=String(r).trim();""!==s&&new Wikifier(n,s)}return n}function o(e,t,r){var n=jQuery(document.createElement("div")),a=jQuery(document.createElement("button")),i=jQuery(document.createElement("pre")),o=L10n.get("errorTitle")+": "+(t||"unknown error");return a.addClass("error-toggle").ariaClick({label:L10n.get("errorToggle")},function(){a.hasClass("enabled")?(a.removeClass("enabled"),i.attr({"aria-hidden":!0,hidden:"hidden"})):(a.addClass("enabled"),i.removeAttr("aria-hidden hidden"))}).appendTo(n),jQuery(document.createElement("span")).addClass("error").text(o).appendTo(n),jQuery(document.createElement("code")).text(r).appendTo(i),i.addClass("error-source").attr({"aria-hidden":!0,hidden:"hidden"}).appendTo(n),n.addClass("error-view").appendTo(e),console.warn(o+"\n\t"+r.replace(/\n/g,"\n\t")),!1}function s(e,t){var r=s;switch(void 0===e?"undefined":_typeof(e)){case"number":if(Number.isNaN(e))return t;break;case"object":if(null===e)return t;if(Array.isArray(e))return e.map(function(e){return r(e,t)}).join(", ");if(e instanceof Set)return[].concat(_toConsumableArray(e)).map(function(e){return r(e,t)}).join(", ");if(e instanceof Map){return"{ "+[].concat(_toConsumableArray(e)).map(function(e){var n=_slicedToArray(e,2),a=n[0],i=n[1];return r(a,t)+" → "+r(i,t)}).join(", ")+" }"}return e instanceof Date?e.toLocaleString():"function"==typeof e.toString?e.toString():Object.prototype.toString.call(e);case"function":case"undefined":return t}return String(e)}return Object.freeze(Object.defineProperties({},{clone:{value:t},convertBreaks:{value:r},safeActiveElement:{value:n},setDisplayTitle:{value:a},setPageElement:{value:i},throwError:{value:o},toStringOrDefault:{value:s}}))}(),clone=_ref3.clone,convertBreaks=_ref3.convertBreaks,safeActiveElement=_ref3.safeActiveElement,setDisplayTitle=_ref3.setDisplayTitle,setPageElement=_ref3.setPageElement,throwError=_ref3.throwError,toStringOrDefault=_ref3.toStringOrDefault;!function(){function e(e){13!==e.which&&32!==e.which||(e.preventDefault(),jQuery(safeActiveElement()||this).trigger("click"))}function t(e){return function(){var t=jQuery(this);t.ariaIsDisabled()||(t.is("[aria-pressed]")&&t.attr("aria-pressed","true"===t.attr("aria-pressed")?"false":"true"),e.apply(this,arguments))}}function r(e){return t(function(){jQuery(this).off(".aria-clickable").removeAttr("tabindex aria-controls aria-pressed").not("a,button").removeAttr("role").end().filter("button").prop("disabled",!0),e.apply(this,arguments)})}jQuery.fn.extend({ariaClick:function(n,a){if(0===this.length||0===arguments.length)return this;var i=n,o=a;return null==o&&(o=i,i=undefined),i=jQuery.extend({namespace:undefined,one:!1,selector:undefined,data:undefined,controls:undefined,pressed:undefined,label:undefined},i),"string"!=typeof i.namespace?i.namespace="":"."!==i.namespace[0]&&(i.namespace="."+i.namespace),"boolean"==typeof i.pressed&&(i.pressed=i.pressed?"true":"false"),this.filter("button").prop("type","button"),this.not("a,button").attr("role","button"),this.attr("tabindex",0),null!=i.controls&&this.attr("aria-controls",i.controls),null!=i.pressed&&this.attr("aria-pressed",i.pressed),null!=i.label&&this.attr({"aria-label":i.label,title:i.label}),this.not("button").on("keypress.aria-clickable"+i.namespace,i.selector,e),this.on("click.aria-clickable"+i.namespace,i.selector,i.data,i.one?r(o):t(o)),this},ariaDisabled:function(e){if(0===this.length||0===arguments.length)return this;var t=this.not("button,fieldset,input,menuitem,optgroup,option,select,textarea"),r=this.filter("button,fieldset,input,menuitem,optgroup,option,select,textarea");return e?(t.each(function(){this.setAttribute("disabled",""),this.setAttribute("aria-disabled","true")}),r.each(function(){this.disabled=!0,this.setAttribute("aria-disabled","true")})):(t.each(function(){this.removeAttribute("disabled"),this.removeAttribute("aria-disabled")}),r.each(function(){this.disabled=!1,this.removeAttribute("aria-disabled")})),this},ariaIsDisabled:function(){return this.is("[disabled]")}})}(),function(){jQuery.extend({wikiWithOptions:function(e){for(var t=arguments.length,r=Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];if(0!==r.length){var a=document.createDocumentFragment();r.forEach(function(t){return new Wikifier(a,t,e)});var i=[].concat(_toConsumableArray(a.querySelectorAll(".error"))).map(function(e){return e.textContent.replace(errorPrologRegExp,"")});if(i.length>0)throw new Error(i.join("; "))}},wiki:function(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];this.wikiWithOptions.apply(this,[undefined].concat(t))}}),jQuery.fn.extend({wikiWithOptions:function(e){for(var t=arguments.length,r=Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];if(0===this.length||0===r.length)return this;var a=document.createDocumentFragment();return r.forEach(function(t){return new Wikifier(a,t,e)}),this.append(a),this},wiki:function(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return this.wikiWithOptions.apply(this,[undefined].concat(t))}})}();var Util=function(){function e(e){if(null===e)return"null";var t=void 0===e?"undefined":_typeof(e);return"object"===t?Object.prototype.toString.call(e).slice(8,-1):t}function t(e){return"boolean"==typeof e||"string"==typeof e&&("true"===e||"false"===e)}function r(e){return null!=e&&"function"==typeof e[Symbol.iterator]}function n(e){var t=void 0;switch(void 0===e?"undefined":_typeof(e)){case"number":t=e;break;case"string":t=Number(e);break;default:return!1}return!Number.isNaN(t)&&Number.isFinite(t)}function a(e,t){return e===t||e!==e&&t!==t}function i(e){var t=Object.create(null);if(e instanceof Array)e.forEach(function(e,r){return t[String(e)]=r});else if(e instanceof Set)Array.from(e).forEach(function(e,r){return t[String(e)]=r});else if(e instanceof Map)e.forEach(function(e,r){return t[String(r)]=e});else{if("object"!==(void 0===e?"undefined":_typeof(e))||null===e||Object.getPrototypeOf(e)!==Object.prototype)throw new TypeError("Util.toEnum obj parameter must be an Array, Map, Set, or generic object");Object.assign(t,e)}return Object.freeze(t)}function o(e){return Object.prototype.toString.call(e).slice(8,-1)}function s(e){var t=String(e).trim(),r=t.replace(/[^\w\s\u2013\u2014-]+/g,"").replace(/[_\s\u2013\u2014-]+/g,"-").toLocaleLowerCase();return y.test(r)?t.replace(v,"").replace(/[_\s\u2013\u2014-]+/g,"-"):r}function u(e){if(null==e)return"";var t=String(e);return t&&w.test(t)?t.replace(b,function(e){return k[e]}):t}function l(e){if(null==e)return"";var t=String(e);return t&&E.test(t)?t.replace(S,function(e){return j[e.toLowerCase()]}):t}function c(e,t){var r=String(e),n=Math.trunc(t),a=r.charCodeAt(n);if(Number.isNaN(a))return{char:"",start:-1,end:-1};var i={char:r.charAt(n),start:n,end:n};if(a<55296||a>57343)return i;if(a>=55296&&a<=56319){var o=n+1;if(o>=r.length)return i;var s=r.charCodeAt(o);return s<56320||s>57343?i:(i.char=i.char+r.charAt(o),i.end=o,i)}if(0===n)return i;var u=n-1,l=r.charCodeAt(u);return l<55296||l>56319?i:(i.char=r.charAt(u)+i.char,i.start=u,i)}function d(){return x.now()}function f(e){var t=O.exec(String(e));if(null===t)throw new SyntaxError('invalid time value syntax: "'+e+'"');var r=Number(t[1]);if(1===t[2].length&&(r*=1e3),Number.isNaN(r)||!Number.isFinite(r))throw new RangeError('invalid time value: "'+e+'"');return r}function p(e){if("number"!=typeof e||Number.isNaN(e)||!Number.isFinite(e)){var t=void 0;switch(void 0===e?"undefined":_typeof(e)){case"string":t='"'+e+'"';break;case"number":t=String(e);break;default:t=o(e)}throw new Error("invalid milliseconds: "+t)}return e+"ms"}function h(e){if(!e.includes("-"))switch(e){case"bgcolor":return"backgroundColor";case"float":return"cssFloat";default:return e}return("-ms-"===e.slice(0,4)?e.slice(1):e).split("-").map(function(e,t){return 0===t?e:e.toUpperFirst()}).join("")}function g(e){var t=document.createElement("a"),r=Object.create(null);t.href=e,t.search&&t.search.replace(/^\?/,"").splitOrEmpty(/(?:&(?:amp;)?|;)/).forEach(function(e){var t=e.split("="),n=_slicedToArray(t,2),a=n[0],i=n[1];r[a]=i});var n=t.host&&"/"!==t.pathname[0]?"/"+t.pathname:t.pathname;return{href:t.href,protocol:t.protocol,host:t.host,hostname:t.hostname,port:t.port,path:""+n+t.search,pathname:n,query:t.search,search:t.search,queries:r,searches:r,hash:t.hash}}function m(e,t,r){if("object"!==(void 0===e?"undefined":_typeof(e))||null===e)throw new Error("Util.newExceptionFrom original parameter must be an object");if("function"!=typeof t)throw new Error("Util.newExceptionFrom exceptionType parameter must be an error type constructor");var n=new t(e.message);void 0!==e.name&&(n.name=e.name),void 0!==e.code&&(n.code=e.code),void 0!==e.columnNumber&&(n.columnNumber=e.columnNumber),void 0!==e.description&&(n.description=e.description),void 0!==e.fileName&&(n.fileName=e.fileName),void 0!==e.lineNumber&&(n.lineNumber=e.lineNumber),void 0!==e.number&&(n.number=e.number),void 0!==e.stack&&(n.stack=e.stack);var a=void 0===r?"undefined":_typeof(r);if("undefined"!==a)if("object"===a&&null!==r)Object.assign(n,r);else{if("string"!==a)throw new Error("Util.newExceptionFrom override parameter must be an object or string");n.message=r}return n}var v=/[\x00-\x20!-\/:-@[-^`{-\x9f]+/g,y=/^-*$/,b=/[&<>"'`]/g,w=new RegExp(b.source),k=Object.freeze({"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","`":"&#96;"}),S=/&(?:amp|#38|#x26|lt|#60|#x3c|gt|#62|#x3e|quot|#34|#x22|apos|#39|#x27|#96|#x60);/gi,E=new RegExp(S.source,"i"),j=Object.freeze({"&amp;":"&","&#38;":"&","&#x26;":"&","&lt;":"<","&#60;":"<","&#x3c;":"<","&gt;":">","&#62;":">","&#x3e;":">","&quot;":'"',"&#34;":'"',"&#x22;":'"',"&apos;":"'","&#39;":"'","&#x27;":"'","&#96;":"`","&#x60;":"`"}),x=Has.performance?performance:Date,O=/^([+-]?(?:\d*\.)?\d+)([Mm]?[Ss])$/;return Object.freeze(Object.defineProperties({},{getType:{value:e},isBoolean:{value:t},isIterable:{value:r},isNumeric:{value:n},sameValueZero:{value:a},toEnum:{value:i},toStringTag:{value:o},slugify:{value:s},escape:{value:u},unescape:{value:l},charAndPosAt:{value:c},fromCssTime:{value:f},toCssTime:{value:p},fromCssProperty:{value:h},parseUrl:{value:g},newExceptionFrom:{value:m},now:{value:d},random:{value:Math.random},entityEncode:{value:u},entityDecode:{value:l},evalExpression:{value:function(){return Scripting.evalJavaScript.apply(Scripting,arguments)}},evalStatements:{value:function(){return Scripting.evalJavaScript.apply(Scripting,arguments)}}}))}(),SimpleStore=function(){function e(e,n){if(r)return r.create(e,n);for(var a=0;a<t.length;++a)if(t[a].init(e,n))return r=t[a],r.create(e,n);throw new Error("no valid storage adapters found")}var t=[],r=null;return Object.freeze(Object.defineProperties({},{adapters:{value:t},create:{value:e}}))}();SimpleStore.adapters.push(function(){function e(){function e(e){try{var t=window[e],r="_sc_"+String(Date.now());t.setItem(r,r);var n=t.getItem(r)===r;return t.removeItem(r),n}catch(e){}return!1}return r=e("localStorage")&&e("sessionStorage")}function t(e,t){if(!r)throw new Error("adapter not initialized");return new n(e,t)}var r=!1,n=function(){function e(t,r){_classCallCheck(this,e);var n=t+".",a=null,i=null;r?(a=window.localStorage,i="localStorage"):(a=window.sessionStorage,i="sessionStorage"),Object.defineProperties(this,{_engine:{value:a},_prefix:{value:n},_prefixRe:{value:new RegExp("^"+RegExp.escape(n))},name:{value:i},id:{value:t},persistent:{value:!!r}})}return _createClass(e,[{key:"size",value:function(){return this.keys().length}},{key:"keys",value:function(){for(var e=[],t=0;t<this._engine.length;++t){var r=this._engine.key(t);this._prefixRe.test(r)&&e.push(r.replace(this._prefixRe,""))}return e}},{key:"has",value:function(e){return!("string"!=typeof e||!e)&&this._engine.hasOwnProperty(this._prefix+e)}},{key:"get",value:function(t){if("string"!=typeof t||!t)return null;var r=this._engine.getItem(this._prefix+t);return null==r?null:e._deserialize(r)}},{key:"set",value:function(t,r){if("string"!=typeof t||!t)return!1;try{this._engine.setItem(this._prefix+t,e._serialize(r))}catch(e){if(/quota.?(?:exceeded|reached)/i.test(e.name+e.message))throw Util.newExceptionFrom(e,Error,this.name+" quota exceeded");throw e}return!0}},{key:"delete",value:function(e){return!("string"!=typeof e||!e)&&(this._engine.removeItem(this._prefix+e),!0)}},{key:"clear",value:function(){for(var e=this.keys(),t=0,r=e.length;t<r;++t)this.delete(e[t]);return!0}},{key:"length",get:function(){return this.keys().length}}],[{key:"_serialize",value:function(e){return LZString.compressToUTF16(JSON.stringify(e))}},{key:"_deserialize",value:function(e){return JSON.parse(LZString.decompressFromUTF16(e))}}]),e}();return Object.freeze(Object.defineProperties({},{init:{value:e},create:{value:t}}))}()),SimpleStore.adapters.push(function(){function e(e){try{var t="_sc_"+String(Date.now());o._setCookie(t,o._serialize(t),undefined),i=o._deserialize(o._getCookie(t))===t,o._setCookie(t,undefined,a)}catch(e){i=!1}return i&&r(e),i}function t(e,t){if(!i)throw new Error("adapter not initialized");return new o(e,t)}function r(e){if(""!==document.cookie)for(var t=e+".",r=new RegExp("^"+RegExp.escape(t)),i=e+"!.",s=e+"*.",u=/\.(?:state|rcWarn)$/,l=document.cookie.split(/;\s*/),c=0;c<l.length;++c){var d=l[c].split("="),f=decodeURIComponent(d[0]);if(r.test(f)){var p=decodeURIComponent(d[1]);""!==p&&function(){var e=!u.test(f);o._setCookie(f,undefined,a),o._setCookie(f.replace(r,function(){return e?i:s}),p,e?n:undefined)}()}}}var n="Tue, 19 Jan 2038 03:14:07 GMT",a="Thu, 01 Jan 1970 00:00:00 GMT",i=!1,o=function(){function e(t,r){_classCallCheck(this,e);var n=t+(r?"!":"*")+".";Object.defineProperties(this,{_prefix:{value:n},_prefixRe:{value:new RegExp("^"+RegExp.escape(n))},name:{value:"cookie"},id:{value:t},persistent:{value:!!r}})}return _createClass(e,[{key:"size",value:function(){return this.keys().length}},{key:"keys",value:function(){if(""===document.cookie)return[];for(var e=document.cookie.split(/;\s*/),t=[],r=0;r<e.length;++r){var n=e[r].split("="),a=decodeURIComponent(n[0]);if(this._prefixRe.test(a)){""!==decodeURIComponent(n[1])&&t.push(a.replace(this._prefixRe,""))}}return t}},{key:"has",value:function(t){return!("string"!=typeof t||!t)&&null!==e._getCookie(this._prefix+t)}},{key:"get",value:function(t){if("string"!=typeof t||!t)return null;var r=e._getCookie(this._prefix+t);return null===r?null:e._deserialize(r)}},{key:"set",value:function(t,r){if("string"!=typeof t||!t)return!1;try{if(e._setCookie(this._prefix+t,e._serialize(r),this.persistent?n:undefined),!this.has(t))throw new Error("unknown validation error during set")}catch(e){throw Util.newExceptionFrom(e,Error,"cookie error: "+e.message)}return!0}},{key:"delete",value:function(t){if("string"!=typeof t||!t||!this.has(t))return!1;try{if(e._setCookie(this._prefix+t,undefined,a),this.has(t))throw new Error("unknown validation error during delete")}catch(e){throw Util.newExceptionFrom(e,Error,"cookie error: "+e.message)}return!0}},{key:"clear",value:function(){for(var e=this.keys(),t=0,r=e.length;t<r;++t)this.delete(e[t]);return!0}},{key:"length",get:function(){return this.keys().length}}],[{key:"_getCookie",value:function(e){if(!e||""===document.cookie)return null;for(var t=document.cookie.split(/;\s*/),r=0;r<t.length;++r){var n=t[r].split("=");if(e===decodeURIComponent(n[0])){return decodeURIComponent(n[1])||null}}return null}},{key:"_setCookie",value:function(e,t,r){if(e){var n=encodeURIComponent(e)+"=";null!=t&&(n+=encodeURIComponent(t)),null!=r&&(n+="; expires="+r),n+="; path=/",document.cookie=n}}},{key:"_serialize",value:function(e){return LZString.compressToBase64(JSON.stringify(e))}},{key:"_deserialize",value:function(e){return JSON.parse(LZString.decompressFromBase64(e))}}]),e}();return Object.freeze(Object.defineProperties({},{init:{value:e},create:{value:t}}))}());var DebugView=function(){return function(){function e(t,r,n,a){_classCallCheck(this,e),Object.defineProperties(this,{parent:{value:t},view:{value:document.createElement("span")},break:{value:document.createElement("wbr")}}),jQuery(this.view).attr({title:a,"aria-label":a,"data-type":null!=r?r:"","data-name":null!=n?n:""}).addClass("debug"),jQuery(this.break).addClass("debug hidden"),this.parent.appendChild(this.view),this.parent.appendChild(this.break)}return _createClass(e,[{key:"append",value:function(e){return jQuery(this.view).append(e),this}},{key:"modes",value:function(e){if(null==e){var t={};return this.view.className.splitOrEmpty(/\s+/).forEach(function(e){"debug"!==e&&(t[e]=!0)}),t}if("object"===(void 0===e?"undefined":_typeof(e)))return Object.keys(e).forEach(function(t){this[e[t]?"addClass":"removeClass"](t)},jQuery(this.view)),this;throw new Error("DebugView.prototype.modes options parameter must be an object or null/undefined")}},{key:"remove",value:function(){var e=jQuery(this.view);this.view.hasChildNodes()&&e.contents().appendTo(this.parent),e.remove(),jQuery(this.break).remove()}},{key:"output",get:function(){return this.view}},{key:"type",get:function(){return this.view.getAttribute("data-type")},set:function(e){this.view.setAttribute("data-type",null!=e?e:"")}},{key:"name",get:function(){return this.view.getAttribute("data-name")},set:function(e){this.view.setAttribute("data-name",null!=e?e:"")}},{key:"title",get:function(){return this.view.title},set:function(e){this.view.title=e}}],[{key:"isEnabled",value:function(){return"enabled"===jQuery(document.documentElement).attr("data-debug-view")}},{key:"enable",value:function(){jQuery(document.documentElement).attr("data-debug-view","enabled"),jQuery.event.trigger(":debugviewupdate")}},{key:"disable",value:function(){jQuery(document.documentElement).removeAttr("data-debug-view"),jQuery.event.trigger(":debugviewupdate")}},{key:"toggle",value:function(){"enabled"===jQuery(document.documentElement).attr("data-debug-view")?e.disable():e.enable()}}]),e}()}(),PRNGWrapper=function(){return function(){function e(t,r){_classCallCheck(this,e),Object.defineProperties(this,new Math.seedrandom(t,r,function(e,t){return{_prng:{value:e},seed:{writable:!0,value:t},pull:{writable:!0,value:0},random:{value:function(){return++this.pull,this._prng()}}}}))}return _createClass(e,null,[{key:"marshal",value:function(e){if(!e||!e.hasOwnProperty("seed")||!e.hasOwnProperty("pull"))throw new Error("PRNG is missing required data");return{seed:e.seed,pull:e.pull}}},{key:"unmarshal",value:function(t){if(!t||!t.hasOwnProperty("seed")||!t.hasOwnProperty("pull"))throw new Error("PRNG object is missing required data");for(var r=new e(t.seed,!1),n=t.pull;n>0;--n)r.random();return r}}]),e}()}(),StyleWrapper=function(){var e=new RegExp(Patterns.cssImage,"g"),t=new RegExp(Patterns.cssImage);return function(){function r(e){if(_classCallCheck(this,r),null==e)throw new TypeError("StyleWrapper style parameter must be an HTMLStyleElement object");Object.defineProperties(this,{style:{value:e}})}return _createClass(r,[{key:"isEmpty",value:function(){return 0===this.style.cssRules.length}},{key:"set",value:function(e){this.clear(),this.add(e)}},{key:"add",value:function(r){var n=r;t.test(n)&&(e.lastIndex=0,n=n.replace(e,function(e){var t=Wikifier.helpers.parseSquareBracketedMarkup({source:e,matchStart:0});if(t.hasOwnProperty("error")||t.pos<e.length)return e;var r=t.source;if("data:"!==r.slice(0,5)&&Story.has(r)){var n=Story.get(r);n.tags.includes("Twine.image")&&(r=n.text.trim())}return'url("'+r.replace(/"/g,"%22")+'")'})),this.style.styleSheet?this.style.styleSheet.cssText+=n:this.style.appendChild(document.createTextNode(n))}},{key:"clear",value:function(){this.style.styleSheet?this.style.styleSheet.cssText="":jQuery(this.style).empty()}}]),r}()}(),Diff=function(){function e(t,n){for(var a=Object.prototype.toString,i=t instanceof Array,o=[].concat(Object.keys(t),Object.keys(n)).sort().filter(function(e,t,r){return 0===t||r[t-1]!==e}),s={},u=void 0,l=function(e){return e===u},c=0,d=o.length;c<d;++c){var f=o[c],p=t[f],h=n[f];if(t.hasOwnProperty(f))if(n.hasOwnProperty(f)){if(p===h)continue;if((void 0===p?"undefined":_typeof(p))===(void 0===h?"undefined":_typeof(h)))if("function"==typeof p)p.toString()!==h.toString()&&(s[f]=[r.Copy,h]);else if("object"!==(void 0===p?"undefined":_typeof(p))||null===p)s[f]=[r.Copy,h];else{var g=a.call(p),m=a.call(h);if(g===m)if(p instanceof Date)Number(p)!==Number(h)&&(s[f]=[r.Copy,clone(h)]);else if(p instanceof Map)s[f]=[r.Copy,clone(h)];else if(p instanceof RegExp)p.toString()!==h.toString()&&(s[f]=[r.Copy,clone(h)]);else if(p instanceof Set)s[f]=[r.Copy,clone(h)];else if("[object Object]"!==g)s[f]=[r.Copy,clone(h)];else{var v=e(p,h);null!==v&&(s[f]=v)}else s[f]=[r.Copy,clone(h)]}else s[f]=[r.Copy,"object"!==(void 0===h?"undefined":_typeof(h))||null===h?h:clone(h)]}else if(i&&Util.isNumeric(f)){var y=Number(f);if(!u){u="";do{u+="~"}while(o.some(l));s[u]=[r.SpliceArray,y,y]}y<s[u][1]&&(s[u][1]=y),y>s[u][2]&&(s[u][2]=y)}else s[f]=r.Delete;else s[f]=[r.Copy,"object"!==(void 0===h?"undefined":_typeof(h))||null===h?h:clone(h)]}return Object.keys(s).length>0?s:null}function t(e,n){for(var a=Object.keys(n||{}),i=clone(e),o=0,s=a.length;o<s;++o){var u=a[o],l=n[u];if(l===r.Delete)delete i[u];else if(l instanceof Array)switch(l[0]){case r.SpliceArray:i.splice(l[1],l[2]-l[1]+1);break;case r.Copy:i[u]=clone(l[1]);break;case r.CopyDate:i[u]=new Date(l[1])}else i[u]=t(i[u],l)}return i}var r=Util.toEnum({Delete:0,SpliceArray:1,Copy:2,CopyDate:3});return Object.freeze(Object.defineProperties({},{Op:{value:r},diff:{value:e},patch:{value:t}}))}(),L10n=function(){function e(){r()}function t(e,t){if(!e)return"";var r=function(e){var t=void 0;return e.some(function(e){return!!l10nStrings.hasOwnProperty(e)&&(t=e,!0)}),t}(Array.isArray(e)?e:[e]);if(!r)return"";for(var i=l10nStrings[r],o=0;a.test(i);){if(++o>50)throw new Error("L10n.get exceeded maximum replacement iterations, probable infinite loop");n.lastIndex=0,i=i.replace(n,function(e){var r=e.slice(1,-1);return t&&t.hasOwnProperty(r)?t[r]:l10nStrings.hasOwnProperty(r)?l10nStrings[r]:void 0})}return i}function r(){strings&&Object.keys(strings).length>0&&Object.keys(l10nStrings).forEach(function(e){try{var t=void 0;switch(e){case"identity":t=strings.identity;break;case"aborting":t=strings.aborting;break;case"cancel":t=strings.cancel;break;case"close":t=strings.close;break;case"ok":t=strings.ok;break;case"errorTitle":t=strings.errors.title;break;case"errorNonexistentPassage":t=strings.errors.nonexistentPassage;break;case"errorSaveMissingData":t=strings.errors.saveMissingData;break;case"errorSaveIdMismatch":t=strings.errors.saveIdMismatch;break;case"warningDegraded":t=strings.warnings.degraded;break;case"debugViewTitle":t=strings.debugView.title;break;case"debugViewToggle":t=strings.debugView.toggle;break;case"uiBarToggle":t=strings.uiBar.toggle;break;case"uiBarBackward":t=strings.uiBar.backward;break;case"uiBarForward":t=strings.uiBar.forward;break;case"uiBarJumpto":t=strings.uiBar.jumpto;break;case"jumptoTitle":t=strings.jumpto.title;break;case"jumptoTurn":t=strings.jumpto.turn;break;case"jumptoUnavailable":t=strings.jumpto.unavailable;break;case"savesTitle":t=strings.saves.title;break;case"savesDisallowed":t=strings.saves.disallowed;break;case"savesIncapable":t=strings.saves.incapable;break;case"savesLabelAuto":t=strings.saves.labelAuto;break;case"savesLabelDelete":t=strings.saves.labelDelete;break;case"savesLabelExport":t=strings.saves.labelExport;break;case"savesLabelImport":t=strings.saves.labelImport;break;case"savesLabelLoad":t=strings.saves.labelLoad;break;case"savesLabelClear":t=strings.saves.labelClear;break;case"savesLabelSave":t=strings.saves.labelSave;break;case"savesLabelSlot":t=strings.saves.labelSlot;break;case"savesUnavailable":t=strings.saves.unavailable;break;case"savesUnknownDate":t=strings.saves.unknownDate;break;case"settingsTitle":t=strings.settings.title;break;case"settingsOff":t=strings.settings.off;break;case"settingsOn":t=strings.settings.on;break;case"settingsReset":t=strings.settings.reset;break;case"restartTitle":t=strings.restart.title;break;case"restartPrompt":t=strings.restart.prompt;break;case"shareTitle":t=strings.share.title;break;case"autoloadTitle":t=strings.autoload.title;break;case"autoloadCancel":t=strings.autoload.cancel;break;case"autoloadOk":t=strings.autoload.ok;break;case"autoloadPrompt":t=strings.autoload.prompt;break;case"macroBackText":t=strings.macros.back.text;break;case"macroReturnText":t=strings.macros.return.text}t&&(l10nStrings[e]=t.replace(/%\w+%/g,function(e){return"{"+e.slice(1,-1)+"}"}))}catch(e){}})}var n=/\{\w+\}/g,a=new RegExp(n.source);return Object.freeze(Object.defineProperties({},{init:{value:e},get:{value:t}}))}(),strings={errors:{},warnings:{},debugView:{},uiBar:{},jumpto:{},saves:{},settings:{},restart:{},share:{},autoload:{},macros:{back:{},return:{}}},l10nStrings={identity:"game",aborting:"Aborting",cancel:"Cancel",close:"Close",ok:"OK",errorTitle:"Error",errorToggle:"Toggle the error view",errorNonexistentPassage:'the passage "{passage}" does not exist',errorSaveMissingData:"save is missing required data. Either the loaded file is not a save or the save has become corrupted",errorSaveIdMismatch:"save is from the wrong {identity}",_warningIntroLacking:"Your browser either lacks or has disabled",_warningOutroDegraded:", so this {identity} is running in a degraded mode. You may be able to continue, however, some parts may not work properly.",warningNoWebStorage:"{_warningIntroLacking} the Web Storage API{_warningOutroDegraded}",warningDegraded:"{_warningIntroLacking} some of the capabilities required by this {identity}{_warningOutroDegraded}",debugBarToggle:"Toggle the debug bar",debugBarNoWatches:"— no watches set —",debugBarAddWatch:"Add watch",debugBarDeleteWatch:"Delete watch",debugBarWatchAll:"Watch all",debugBarWatchNone:"Delete all",debugBarLabelAdd:"Add",debugBarLabelWatch:"Watch",debugBarLabelTurn:"Turn",debugBarLabelViews:"Views",debugBarViewsToggle:"Toggle the debug views",debugBarWatchToggle:"Toggle the watch panel",uiBarToggle:"Toggle the UI bar",uiBarBackward:"Go backward within the {identity} history",uiBarForward:"Go forward within the {identity} history",uiBarJumpto:"Jump to a specific point within the {identity} history",jumptoTitle:"Jump To",jumptoTurn:"Turn",jumptoUnavailable:"No jump points currently available…",savesTitle:"Saves",savesDisallowed:"Saving has been disallowed on this passage.",savesIncapable:"{_warningIntroLacking} the capabilities required to support saves, so saves have been disabled for this session.",savesLabelAuto:"Autosave",savesLabelDelete:"Delete",savesLabelExport:"Save to Disk…",savesLabelImport:"Load from Disk…",savesLabelLoad:"Load",savesLabelClear:"Delete All",savesLabelSave:"Save",savesLabelSlot:"Slot",savesUnavailable:"No save slots found…",savesUnknownDate:"unknown",settingsTitle:"Settings",settingsOff:"Off",settingsOn:"On",settingsReset:"Reset to Defaults",restartTitle:"Restart",restartPrompt:"Are you sure that you want to restart? Unsaved progress will be lost.",shareTitle:"Share",autoloadTitle:"Autoload",autoloadCancel:"Go to start",autoloadOk:"Load autosave",autoloadPrompt:"An autosave exists. Load it now or go to the start?",macroBackText:"Back",macroReturnText:"Return"},Config=function(){var e=!1,t=!1,r=!1,n=0,a=!0,i=!0,o=!0,s=100,u=!0,l=1e3,c=void 0,d=void 0,f=!1,p=!1,h=void 0,g=void 0,m=void 0,v=void 0,y=void 0,b="untitled-story",w=void 0,k=void 0,S=void 0,E=8,j=void 0,x=800,O=!0,T="Config.history.mode has been deprecated and is no longer used by SugarCube, please remove it from your code",C="Config.history.tracking has been deprecated, use Config.history.maxStates instead";return Object.freeze({get debug(){return e},set debug(t){e=Boolean(t)},get addVisitedLinkClass(){return t},set addVisitedLinkClass(e){t=Boolean(e)},get cleanupWikifierOutput(){return r},set cleanupWikifierOutput(e){r=Boolean(e)},get loadDelay(){return n},set loadDelay(e){if(!Number.isSafeInteger(e)||e<0)throw new RangeError("Config.loadDelay must be a non-negative integer");n=e},audio:Object.freeze({get pauseOnFadeToZero(){return a},set pauseOnFadeToZero(e){a=Boolean(e)},get preloadMetadata(){return i},set preloadMetadata(e){i=Boolean(e)}}),history:Object.freeze({get controls(){return o},set controls(e){var t=Boolean(e);if(1===s&&t)throw new Error("Config.history.controls must be false when Config.history.maxStates is 1");o=t},get maxStates(){return s},set maxStates(e){if(!Number.isSafeInteger(e)||e<0)throw new RangeError("Config.history.maxStates must be a non-negative integer");s=e,o&&1===e&&(o=!1)},get mode(){throw new Error(T)},set mode(e){throw new Error(T)},get tracking(){throw new Error(C)},set tracking(e){throw new Error(C)}}),macros:Object.freeze({get ifAssignmentError(){return u},set ifAssignmentError(e){u=Boolean(e)},get maxLoopIterations(){return l},set maxLoopIterations(e){if(!Number.isSafeInteger(e)||e<0)throw new RangeError("Config.macros.maxLoopIterations must be a non-negative integer");l=e}}),navigation:Object.freeze({get override(){return c},set override(e){if(!(null==e||e instanceof Function))throw new TypeError("Config.navigation.override must be a function or null/undefined (received: "+Util.getType(e)+")");c=e}}),passages:Object.freeze({get descriptions(){return d},set descriptions(e){if(null!=e){var t=Util.getType(e);if("boolean"!==t&&"Object"!==t&&"function"!==t)throw new TypeError("Config.passages.descriptions must be a boolean, object, function, or null/undefined (received: "+t+")")}d=e},get displayTitles(){return f},set displayTitles(e){f=Boolean(e)},get nobr(){return p},set nobr(e){p=Boolean(e)},get onProcess(){return g},set onProcess(e){if(null!=e){var t=Util.getType(e);if("function"!==t)throw new TypeError("Config.passages.onProcess must be a function or null/undefined (received: "+t+")")}g=e},get start(){return h},set start(e){if(null!=e){var t=Util.getType(e);if("string"!==t)throw new TypeError("Config.passages.start must be a string or null/undefined (received: "+t+")")}h=e},get transitionOut(){return m},set transitionOut(e){if(null!=e){var t=Util.getType(e);if("string"!==t&&("number"!==t||!Number.isSafeInteger(e)||e<0))throw new TypeError("Config.passages.transitionOut must be a string, non-negative integer, or null/undefined (received: "+t+")")}m=e}}),saves:Object.freeze({get autoload(){return v},
set autoload(e){if(null!=e){var t=Util.getType(e);if("boolean"!==t&&"string"!==t&&"function"!==t)throw new TypeError("Config.saves.autoload must be a boolean, string, function, or null/undefined (received: "+t+")")}v=e},get autosave(){return y},set autosave(e){if(null!=e){var t=Util.getType(e);if("string"===t)return void(y=[e]);if("boolean"!==t&&("Array"!==t||!e.every(function(e){return"string"==typeof e}))&&"function"!==t)throw new TypeError("Config.saves.autosave must be a boolean, Array of strings, function, or null/undefined (received: "+t+("Array"===t?" of mixed":"")+")")}y=e},get id(){return b},set id(e){if("string"!=typeof e||""===e)throw new TypeError("Config.saves.id must be a non-empty string (received: "+Util.getType(e)+")");b=e},get isAllowed(){return w},set isAllowed(e){if(!(null==e||e instanceof Function))throw new TypeError("Config.saves.isAllowed must be a function or null/undefined (received: "+Util.getType(e)+")");w=e},get onLoad(){return k},set onLoad(e){if(!(null==e||e instanceof Function))throw new TypeError("Config.saves.onLoad must be a function or null/undefined (received: "+Util.getType(e)+")");k=e},get onSave(){return S},set onSave(e){if(!(null==e||e instanceof Function))throw new TypeError("Config.saves.onSave must be a function or null/undefined (received: "+Util.getType(e)+")");S=e},get slots(){return E},set slots(e){if(!Number.isSafeInteger(e)||e<0)throw new TypeError("Config.saves.slots must be a non-negative integer (received: "+Util.getType(e)+")");E=e},get version(){return j},set version(e){j=e}}),ui:Object.freeze({get stowBarInitially(){return x},set stowBarInitially(e){var t=Util.getType(e);if("boolean"!==t&&("number"!==t||!Number.isSafeInteger(e)||e<0))throw new TypeError("Config.ui.stowBarInitially must be a boolean or non-negative integer (received: "+t+")");x=e},get updateStoryElements(){return O},set updateStoryElements(e){O=Boolean(e)}})})}(),SimpleAudio=function(){function e(){if(arguments.length<2){var e=[];throw arguments.length<1&&e.push("track ID"),arguments.length<2&&e.push("sources"),new Error("no "+e.join(" or ")+" specified")}var t=String(arguments[0]).trim(),r='track ID "'+t+'"';if(_.test(t))throw new Error("invalid "+r+": track IDs must not contain colons or whitespace");var n=Array.isArray(arguments[1])?Array.from(arguments[1]):Array.from(arguments).slice(1),a=void 0;try{a=T(n)}catch(e){throw new Error(r+": error during track initialization: "+e.message)}if(Config.debug&&!a.hasSource())throw new Error(r+": no supported audio sources found");N.has(t)&&N.get(t)._destroy(),N.set(t,a)}function t(e){return N.has(e)&&N.get(e)._destroy(),N.delete(e)}function r(){N.forEach(function(e){return e._destroy()}),N.clear()}function n(e){return N.has(e)}function a(e){return N.get(e)||null}function i(){if(arguments.length<2){var e=[];throw arguments.length<1&&e.push("group ID"),arguments.length<2&&e.push("track IDs"),new Error("no "+e.join(" or ")+" specified")}var t=String(arguments[0]).trim(),r='group ID "'+t+'"';if(":"!==t[0]||_.test(t.slice(1)))throw new Error("invalid "+r+": group IDs must start with a colon and must not contain colons or whitespace");if(A.includes(t))throw new Error("cannot clobber special "+r);var n=Array.isArray(arguments[1])?Array.from(arguments[1]):Array.from(arguments).slice(1),a=void 0;try{a=new Set(n.map(function(e){if(!N.has(e))throw new Error('track "'+e+'" does not exist');return e}))}catch(e){throw new Error(r+": error during group initialization: "+e.message)}I.set(t,Object.freeze(Array.from(a)))}function o(e){return I.delete(e)}function s(){I.clear()}function u(e){return I.has(e)}function l(e){return I.get(e)||null}function c(){if(arguments.length<2){var e=[];throw arguments.length<1&&e.push("list ID"),arguments.length<2&&e.push("track IDs"),new Error("no "+e.join(" or ")+" specified")}var t=String(arguments[0]).trim(),r='list ID "'+t+'"';if(_.test(t))return this.error("invalid "+r+": list IDs must not contain colons or whitespace");var n=Array.isArray(arguments[1])?Array.from(arguments[1]):Array.from(arguments).slice(1),a=void 0;try{a=new V(n.map(function(e){if(null===e)throw new Error("track descriptor must be a string or object (type: null)");switch(void 0===e?"undefined":_typeof(e)){case"string":e={id:e};break;case"object":if(!e.hasOwnProperty("id")&&!e.hasOwnProperty("sources"))throw new Error('track descriptor must contain one of either an "id" or a "sources" property');if(e.hasOwnProperty("id")&&e.hasOwnProperty("sources"))throw new Error('track descriptor must contain either an "id" or a "sources" property, not both');break;default:throw new Error("track descriptor must be a string or object (type: "+(void 0===e?"undefined":_typeof(e))+")")}var t=void 0,r=void 0,n=void 0;if(e.hasOwnProperty("id")){if("string"!=typeof e.id)throw new Error('"id" property must be a string');if(!N.has(e.id))throw new Error('track "'+e.id+'" does not exist');r=N.get(e.id)}else if(e.hasOwnProperty("sources")){if(!Array.isArray(e.sources)||0===e.sources.length)throw new Error('"sources" property must be a non-empty array');if(e.hasOwnProperty("own"))throw new Error('"own" property is not allowed with the "sources" property');try{r=T(e.sources),t=!0}catch(e){throw new Error("error during track initialization: "+e.message)}if(Config.debug&&!r.hasSource())throw new Error("no supported audio sources found")}if(e.hasOwnProperty("own")){if("boolean"!=typeof e.own)throw new Error('"own" property must be a boolean');t=e.own,t&&(r=r.clone())}if(e.hasOwnProperty("volume")){if("number"!=typeof e.volume||Number.isNaN(e.volume)||!Number.isFinite(e.volume)||e.volume<0)throw new Error('"volume" property must be a non-negative finite number');n=e.volume}return{own:null!=t&&t,track:r,volume:null!=n?n:r.volume()}}))}catch(e){throw new Error(r+": error during playlist initialization: "+e.message)}D.has(t)&&D.get(t)._destroy(),D.set(t,a)}function d(e){return D.has(e)&&D.get(e)._destroy(),D.delete(e)}function f(){D.forEach(function(e){return e._destroy()}),D.clear()}function p(e){return D.has(e)}function h(e){return D.get(e)||null}function g(){if(0===arguments.length)throw new Error("no track selector specified");var e=String(arguments[0]).trim(),t=new Set;try{var r=function e(t){var r=t.id,a=void 0;switch(r){case":all":a=n;break;case":looped":a=n.filter(function(e){return N.get(e).loop()});break;case":muted":a=n.filter(function(e){return N.get(e).mute()});break;case":paused":a=n.filter(function(e){return N.get(e).isPaused()});break;case":playing":a=n.filter(function(e){return N.get(e).isPlaying()});break;default:a=":"===r[0]?I.get(r):[r]}if(t.hasOwnProperty("not")){var i=t.not.map(function(t){return e(t)}).flat(1/0);a=a.filter(function(e){return!i.includes(e)})}return a},n=Array.from(N.keys());z(e).forEach(function(e){return r(e).forEach(function(e){if(!N.has(e))throw new Error('track "'+e+'" does not exist');t.add(e)})})}catch(e){throw new Error("error during runner initialization: "+e.message)}return new U(t)}function m(){O("load")}function v(){O("loadwithscreen")}function y(e){if(null==e)return R;R=!!e,O("mute",R)}function b(e){if(!Visibility.isEnabled())return!1;if(null==e)return F;F=!!e;var t=".SimpleAudio_masterMuteOnHidden";if(F){var r=""+Visibility.changeEvent+t;jQuery(document).off(t).on(r,function(){return y(Visibility.isHidden())}),Visibility.isHidden()&&y(!0)}else jQuery(document).off(t)}function w(e){if(null==e)return M;if("number"!=typeof e||Number.isNaN(e)||!Number.isFinite(e))throw new Error("rate must be a finite number");M=Math.clamp(e,.2,5),O("rate",M)}function k(){O("stop")}function S(){O("unload")}function E(e){if(null==e)return Q;if("number"!=typeof e||Number.isNaN(e)||!Number.isFinite(e))throw new Error("volume must be a finite number");Q=Math.clamp(e,0,1),O("volume",Q)}function j(e,t){if("function"!=typeof t)throw new Error("callback parameter must be a function");L.set(e,t)}function x(e){L.delete(e)}function O(e,t){L.forEach(function(r){return r(e,t)})}function T(e){return new B(e.map(function(e){if("data:"!==e.slice(0,5)&&Story.has(e)){var t=Story.get(e);if(t.tags.includes("Twine.audio"))return t.text.trim()}var r=P.exec(e);return null===r?e:{format:r[1],src:r[2]}}))}var C=Object.freeze(["click","contextmenu","dblclick","keyup","mouseup","pointerup","touchend"]),A=Object.freeze([":not",":all",":looped",":muted",":paused",":playing"]),P=/^([\w-]+)\s*\|\s*(\S.*)$/,_=/[:\s]/,N=new Map,I=new Map,D=new Map,L=new Map,M=1,Q=1,R=!1,F=!1,W=function(){function e(){if(null!==t)return t;if(t=!1,Has.audio)try{var e=document.createElement("audio");e.muted=!0;var r=e.play();r.catch(function(){}),t=r instanceof Promise}catch(e){}return t}var t=null;return e}(),B=function(){function e(t){if(_classCallCheck(this,e),t instanceof Array)this._create(t);else{if(!(t instanceof e))throw new Error("sources parameter must be either an array, of URIs or source objects, or an AudioTrack instance");this._copy(t)}}return _createClass(e,[{key:"_create",value:function(t){var r=/^data:\s*audio\/([^;,]+)\s*[;,]/i,n=/\.([^.\/\\]+)$/,a=e.getType,i=[],o=document.createElement("audio");o.preload="none",t.forEach(function(e){var t=null;switch(void 0===e?"undefined":_typeof(e)){case"string":var s=void 0;if("data:"===e.slice(0,5)){if(null===(s=r.exec(e)))throw new Error("source data URI missing media type")}else if(null===(s=n.exec(Util.parseUrl(e).pathname)))throw new Error("source URL missing file extension");var u=a(s[1]);null!==u&&(t={src:e,type:u});break;case"object":if(null===e)throw new Error("source object cannot be null");if(!e.hasOwnProperty("src"))throw new Error('source object missing required "src" property');if(!e.hasOwnProperty("format"))throw new Error('source object missing required "format" property');var l=a(e.format);null!==l&&(t={src:e.src,type:l});break;default:throw new Error("invalid source value (type: "+(void 0===e?"undefined":_typeof(e))+")")}if(null!==t){Browser.isOpera&&(t.type=t.type.replace(/;.*$/,""));var c=document.createElement("source");c.src=t.src,c.type=t.type,o.appendChild(c),i.push(t)}}),o.hasChildNodes()&&Config.audio.preloadMetadata&&(o.preload="metadata"),this._finalize(o,i,clone(t))}},{key:"_copy",value:function(e){this._finalize(e.audio.cloneNode(!0),clone(e.sources),clone(e.originals))}},{key:"_finalize",value:function(e,t,r){var n=this;Object.defineProperties(this,{audio:{configurable:!0,value:e},sources:{value:Object.freeze(t)},originals:{value:Object.freeze(r)},_error:{writable:!0,value:!1},_faderId:{writable:!0,value:null},_mute:{writable:!0,value:!1},_rate:{writable:!0,value:1},_volume:{writable:!0,value:1}}),jQuery(this.audio).on("loadstart.AudioTrack",function(){return n._error=!1}).on("error.AudioTrack",function(){return n._error=!0}).find("source:last-of-type").on("error.AudioTrack",function(){return n._trigger("error")}),j(this,function(e){if(!n.audio)return void x(n);switch(e){case"loadwithscreen":if(n.hasSource()){var t=LoadScreen.lock();n.one("canplaythrough.AudioTrack_loadwithscreen error.AudioTrack_loadwithscreen",function(){jQuery(this).off(".AudioTrack_loadwithscreen"),LoadScreen.unlock(t)}).load()}break;case"load":n.load();break;case"mute":n._updateAudioMute();break;case"rate":n._updateAudioRate();break;case"stop":n.stop();break;case"volume":n._updateAudioVolume();break;case"unload":n.unload()}}),this._updateAudioMute(),this._updateAudioRate(),this._updateAudioVolume()}},{key:"_trigger",value:function(e){jQuery(this.audio).triggerHandler(e)}},{key:"_destroy",value:function(){x(this),this.audio&&(jQuery(this.audio).off(),this.unload(),this._error=!0,delete this.audio)}},{key:"clone",value:function(){return new e(this)}},{key:"load",value:function(){var e=this;if(this.fadeStop(),this.audio.pause(),!this.audio.hasChildNodes()){if(0===this.sources.length)return;this.sources.forEach(function(t){var r=document.createElement("source");r.src=t.src,r.type=t.type,e.audio.appendChild(r)})}"auto"!==this.audio.preload&&(this.audio.preload="auto"),this.isLoading()||this.audio.load()}},{key:"unload",value:function(){this.fadeStop(),this.stop();var e=this.audio;for(e.preload="none";e.hasChildNodes();)e.removeChild(e.firstChild);e.load()}},{key:"play",value:function(){var e=this;if(!this.hasSource())return Promise.reject(new Error("none of the candidate sources were acceptable"));if(this.isUnloaded())return Promise.reject(new Error("no sources are loaded"));if(this.isFailed())return Promise.reject(new Error("failed to load any of the sources"));"auto"!==this.audio.preload&&(this.audio.preload="auto");var t=".AudioTrack_play";return W()?this.audio.play():new Promise(function(r,n){e.isPlaying()?r():(jQuery(e.audio).off(t).one("error"+t+" playing"+t+" timeupdate"+t,function(a){jQuery(e).off(t),"error"===a.type?n(new Error("unknown audio play error")):r()}),e.audio.play())})}},{key:"playWhenAllowed",value:function(){var e=this;this.play().catch(function(){var t=C.map(function(e){return e+".AudioTrack_playWhenAllowed"}).join(" ");jQuery(document).one(t,function(){jQuery(document).off(".AudioTrack_playWhenAllowed"),e.audio.play()})})}},{key:"pause",value:function(){this.audio.pause()}},{key:"stop",value:function(){this.audio.pause(),this.time(0),this._trigger(":stopped")}},{key:"fade",value:function(e,t,r){var n=this;if("number"!=typeof e)throw new TypeError("duration parameter must be a number");if("number"!=typeof t)throw new TypeError("toVolume parameter must be a number");if(null!=r&&"number"!=typeof r)throw new TypeError("fromVolume parameter must be a number");if(!this.hasSource())return Promise.reject(new Error("none of the candidate sources were acceptable"));if(this.isUnloaded())return Promise.reject(new Error("no sources are loaded"));if(this.isFailed())return Promise.reject(new Error("failed to load any of the sources"));this.fadeStop();var a=Math.clamp(null==r?this.volume():r,0,1),i=Math.clamp(t,0,1);return a!==i?(this.volume(a),jQuery(this.audio).off("timeupdate.AudioTrack_fade").one("timeupdate.AudioTrack_fade",function(){var t=void 0,r=void 0;a<i?(t=a,r=i):(t=i,r=a);var o=Math.max(e,1),s=(i-a)/(o/.025);n._trigger(":fading"),n._faderId=setInterval(function(){if(!n.isPlaying())return void n.fadeStop();n.volume(Math.clamp(n.volume()+s,t,r)),Config.audio.pauseOnFadeToZero&&0===n.volume()&&n.pause(),n.volume()===i&&(n.fadeStop(),n._trigger(":faded"))},25)}),this.play()):void 0}},{key:"fadeIn",value:function(e,t){return this.fade(e,1,t)}},{key:"fadeOut",value:function(e,t){return this.fade(e,0,t)}},{key:"fadeStop",value:function(){null!==this._faderId&&(clearInterval(this._faderId),this._faderId=null)}},{key:"loop",value:function(e){function t(t){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}(function(e){return null==e?this.audio.loop:(this.audio.loop=!!e,this)})},{key:"mute",value:function(e){return null==e?this._mute:(this._mute=!!e,this._updateAudioMute(),this)}},{key:"_updateAudioMute",value:function(){this.audio.muted=this._mute||R}},{key:"rate",value:function(e){if(null==e)return this._rate;if("number"!=typeof e)throw new TypeError("rate parameter must be a number");return this._rate=Math.clamp(e,.2,5),this._updateAudioRate(),this}},{key:"_updateAudioRate",value:function(){this.audio.playbackRate=Math.clamp(this._rate*M,.2,5)}},{key:"time",value:function(e){var t=this;if(null==e)return this.audio.currentTime;if("number"!=typeof e)throw new TypeError("time parameter must be a number");return this.hasMetadata()?this.audio.currentTime=e:jQuery(this.audio).off("loadedmetadata.AudioTrack_time").one("loadedmetadata.AudioTrack_time",function(){return t.audio.currentTime=e}),this}},{key:"volume",value:function(e){if(null==e)return this._volume;if("number"!=typeof e)throw new TypeError("volume parameter must be a number");return this._volume=Math.clamp(e,0,1),this._updateAudioVolume(),this}},{key:"_updateAudioVolume",value:function(){this.audio.volume=Math.clamp(this._volume*Q,0,1)}},{key:"duration",value:function(){return this.audio.duration}},{key:"remaining",value:function(){return this.audio.duration-this.audio.currentTime}},{key:"isFailed",value:function(){return this._error}},{key:"isLoading",value:function(){return this.audio.networkState===HTMLMediaElement.NETWORK_LOADING}},{key:"isUnloaded",value:function(){return!this.audio.hasChildNodes()}},{key:"isUnavailable",value:function(){return!this.hasSource()||this.isUnloaded()||this.isFailed()}},{key:"isPlaying",value:function(){return!this.audio.paused&&this.hasSomeData()}},{key:"isPaused",value:function(){return this.audio.paused&&(this.audio.duration===1/0||this.audio.currentTime>0)&&!this.audio.ended}},{key:"isStopped",value:function(){return this.audio.paused&&0===this.audio.currentTime}},{key:"isEnded",value:function(){return this.audio.ended}},{key:"isFading",value:function(){return null!==this._faderId}},{key:"isSeeking",value:function(){return this.audio.seeking}},{key:"hasSource",value:function(){return this.sources.length>0}},{key:"hasNoData",value:function(){return this.audio.readyState===HTMLMediaElement.HAVE_NOTHING}},{key:"hasMetadata",value:function(){return this.audio.readyState>=HTMLMediaElement.HAVE_METADATA}},{key:"hasSomeData",value:function(){return this.audio.readyState>=HTMLMediaElement.HAVE_CURRENT_DATA}},{key:"hasData",value:function(){return this.audio.readyState===HTMLMediaElement.HAVE_ENOUGH_DATA}},{key:"on",value:function(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return jQuery.fn.on.apply(jQuery(this.audio),t),this}},{key:"one",value:function(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return jQuery.fn.one.apply(jQuery(this.audio),t),this}},{key:"off",value:function(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return jQuery.fn.off.apply(jQuery(this.audio),t),this}}],[{key:"_verifyType",value:function(t){if(!t||!Has.audio)return null;var r=e._types;if(!r.hasOwnProperty(t)){var n=document.createElement("audio");r[t]=""!==n.canPlayType(t).replace(/^no$/i,"")}return r[t]?t:null}},{key:"getType",value:function(t){if(!t||!Has.audio)return null;var r=e.formats,n=t.toLowerCase(),a=r.hasOwnProperty(n)?r[n]:"audio/"+n;return e._verifyType(a)}},{key:"canPlayFormat",value:function(t){return null!==e.getType(t)}},{key:"canPlayType",value:function(t){return null!==e._verifyType(t)}}]),e}();Object.defineProperties(B,{formats:{value:{aac:"audio/aac",caf:"audio/x-caf","x-caf":"audio/x-caf",mp3:'audio/mpeg; codecs="mp3"',mpeg:'audio/mpeg; codecs="mp3"',m4a:"audio/mp4",mp4:"audio/mp4","x-m4a":"audio/mp4","x-mp4":"audio/mp4",oga:"audio/ogg",ogg:"audio/ogg",opus:'audio/ogg; codecs="opus"',wav:"audio/wav",wave:"audio/wav",weba:"audio/webm",webm:"audio/webm"}},_types:{value:{}}});var V=function(){function e(t){if(_classCallCheck(this,e),t instanceof Array)this._create(t);else{if(!(t instanceof e))throw new Error("tracks parameter must be either an array, of track objects, or an AudioTrack instance");this._copy(t)}}return _createClass(e,[{key:"_create",value:function(e){var t=this;this._finalize(e.map(function(e){if("object"!==(void 0===e?"undefined":_typeof(e)))throw new Error("tracks parameter array members must be objects");var r=void 0,n=void 0,a=void 0,i=void 0;if(e instanceof B)r=!0,n=e.rate(),a=e.clone(),i=e.volume();else{if(!e.hasOwnProperty("track"))throw new Error('track object missing required "track" property');if(!(e.track instanceof B))throw new Error('track object\'s "track" property must be an AudioTrack object');r=e.hasOwnProperty("own")&&e.own,n=e.hasOwnProperty("rate")?e.rate:e.track.rate(),a=e.track,i=e.hasOwnProperty("volume")?e.volume:e.track.volume()}return a.stop(),a.loop(!1),a.mute(!1),a.rate(n),a.volume(i),a.on("ended.AudioList",function(){return t._onEnd()}),{own:r,track:a,volume:i,rate:n}}))}},{key:"_copy",value:function(e){this._finalize(clone(e.tracks))}},{key:"_finalize",value:function(e){Object.defineProperties(this,{tracks:{configurable:!0,value:Object.freeze(e)},queue:{configurable:!0,value:[]},current:{writable:!0,value:null},_rate:{writable:!0,value:1},_volume:{writable:!0,value:1},_mute:{writable:!0,value:!1},_loop:{writable:!0,value:!1},_shuffle:{writable:!0,value:!1}})}},{key:"_destroy",value:function(){this.stop(),this.tracks.filter(function(e){return e.own}).forEach(function(e){return e.track._destroy()}),delete this.tracks,delete this.queue}},{key:"load",value:function(){this.tracks.forEach(function(e){return e.track.load()})}},{key:"unload",value:function(){this.stop(),this.tracks.forEach(function(e){return e.track.unload()})}},{key:"play",value:function(){return null!==this.current&&!this.current.track.isUnavailable()&&!this.current.track.isEnded()||(0===this.queue.length&&this._fillQueue(),this._next())?this.current.track.play():Promise.reject(new Error("no tracks were available"))}},{key:"playWhenAllowed",value:function(){var e=this;this.play().catch(function(){var t=C.map(function(e){return e+".AudioList_playWhenAllowed"}).join(" ");jQuery(document).one(t,function(){jQuery(document).off(".AudioList_playWhenAllowed"),e.play()})})}},{key:"pause",value:function(){null!==this.current&&this.current.track.pause()}},{key:"stop",value:function(){null!==this.current&&(this.current.track.stop(),this.current=null),this._drainQueue()}},{key:"skip",value:function(){this._next()?this.current.track.play():this._loop&&this.play()}},{key:"fade",value:function(e,t,r){if("number"!=typeof e)throw new TypeError("duration parameter must be a number");if("number"!=typeof t)throw new TypeError("toVolume parameter must be a number");if(null!=r&&"number"!=typeof r)throw new TypeError("fromVolume parameter must be a number");if(0===this.queue.length&&this._fillQueue(),null!==this.current&&!this.current.track.isUnavailable()&&!this.current.track.isEnded()||this._next()){var n=Math.clamp(t,0,1)*this.current.volume,a=void 0;return null!=r&&(a=Math.clamp(r,0,1)*this.current.volume),this._volume=t,this.current.track.fade(e,n,a)}}},{key:"fadeIn",value:function(e,t){return this.fade(e,1,t)}},{key:"fadeOut",value:function(e,t){return this.fade(e,0,t)}},{key:"fadeStop",value:function(){null!==this.current&&this.current.track.fadeStop()}},{key:"loop",value:function(e){function t(t){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}(function(e){return null==e?this._loop:(this._loop=!!e,this)})},{key:"mute",value:function(e){return null==e?this._mute:(this._mute=!!e,null!==this.current&&this.current.track.mute(this._mute),this)}},{key:"rate",value:function(e){if(null==e)return this._rate;if("number"!=typeof e)throw new TypeError("rate parameter must be a number");return this._rate=Math.clamp(e,.2,5),null!==this.current&&this.current.track.rate(this._rate*this.current.rate),this}},{key:"shuffle",value:function(e){var t=this;if(null==e)return this._shuffle;if(this._shuffle=!!e,this.queue.length>0&&(this._fillQueue(),!this._shuffle&&null!==this.current&&this.queue.length>1)){var r=this.queue.findIndex(function(e){return e===t.current});if(-1!==r){var n;(n=this.queue).push.apply(n,_toConsumableArray(this.queue.splice(0,r+1)))}}return this}},{key:"volume",value:function(e){if(null==e)return this._volume;if("number"!=typeof e)throw new TypeError("volume parameter must be a number");return this._volume=Math.clamp(e,0,1),null!==this.current&&this.current.track.volume(this._volume*this.current.volume),this}},{key:"duration",value:function(){if(arguments.length>0)throw new Error("duration takes no parameters");return this.tracks.map(function(e){return e.track.duration()}).reduce(function(e,t){return e+t},0)}},{key:"remaining",value:function(){if(arguments.length>0)throw new Error("remaining takes no parameters");var e=this.queue.map(function(e){return e.track.duration()}).reduce(function(e,t){return e+t},0);return null!==this.current&&(e+=this.current.track.remaining()),e}},{key:"time",value:function(){if(arguments.length>0)throw new Error("time takes no parameters");return this.duration()-this.remaining()}},{key:"isPlaying",value:function(){return null!==this.current&&this.current.track.isPlaying()}},{key:"isPaused",value:function(){return null===this.current||this.current.track.isPaused()}},{key:"isStopped",value:function(){return 0===this.queue.length&&null===this.current}},{key:"isEnded",value:function(){return 0===this.queue.length&&(null===this.current||this.current.track.isEnded())}},{key:"isFading",value:function(){return null!==this.current&&this.current.track.isFading()}},{key:"_next",value:function(){null!==this.current&&(this.current.track.stop(),this.current=null);for(var e=void 0;e=this.queue.shift();)if(!e.track.isUnavailable()){this.current=e;break}return null!==this.current&&(this.current.track.mute(this._mute),this.current.track.rate(this._rate*this.current.rate),this.current.track.volume(this._volume*this.current.volume),this.current.track.loop(!1),!0)}},{key:"_onEnd",value:function(){if(0===this.queue.length){if(!this._loop)return;this._fillQueue()}this._next()&&this.current.track.play()}},{key:"_drainQueue",value:function(){this.queue.splice(0)}},{key:"_fillQueue",value:function(){var e;this._drainQueue(),(e=this.queue).push.apply(e,_toConsumableArray(this.tracks.filter(function(e){return!e.track.isUnavailable()}))),0!==this.queue.length&&this._shuffle&&(this.queue.shuffle(),this.queue.length>1&&this.queue[0]===this.current&&this.queue.push(this.queue.shift()))}}]),e}(),U=function(){function e(t){if(_classCallCheck(this,e),!(t instanceof Set||t instanceof e))throw new TypeError("list parameter must be a Set or a AudioRunner instance");Object.defineProperties(this,{trackIds:{value:new Set(t instanceof e?t.trackIds:t)}})}return _createClass(e,[{key:"load",value:function(){e._run(this.trackIds,B.prototype.load)}},{key:"unload",value:function(){e._run(this.trackIds,B.prototype.unload)}},{key:"play",value:function(){e._run(this.trackIds,B.prototype.play)}},{key:"playWhenAllowed",value:function(){e._run(this.trackIds,B.prototype.playWhenAllowed)}},{key:"pause",value:function(){e._run(this.trackIds,B.prototype.pause)}},{key:"stop",value:function(){e._run(this.trackIds,B.prototype.stop)}},{key:"fade",value:function(t,r,n){if(null==t||null==r)throw new Error("fade requires parameters");e._run(this.trackIds,B.prototype.fade,t,r,n)}},{key:"fadeIn",value:function(t,r){if(null==t)throw new Error("fadeIn requires a parameter");e._run(this.trackIds,B.prototype.fadeIn,t,1,r)}},{key:"fadeOut",value:function(t,r){if(null==t)throw new Error("fadeOut requires a parameter");e._run(this.trackIds,B.prototype.fadeOut,t,0,r)}},{key:"fadeStop",value:function(){e._run(this.trackIds,B.prototype.fadeStop)}},{key:"loop",value:function(e){function t(t){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}(function(t){if(null==t)throw new Error("loop requires a parameter");return e._run(this.trackIds,B.prototype.loop,t),this})},{key:"mute",value:function(t){if(null==t)throw new Error("mute requires a parameter");return e._run(this.trackIds,B.prototype.mute,t),this}},{key:"rate",value:function(t){if(null==t)throw new Error("rate requires a parameter");return e._run(this.trackIds,B.prototype.rate,t),this}},{key:"time",value:function(t){if(null==t)throw new Error("time requires a parameter");return e._run(this.trackIds,B.prototype.time,t),this}},{key:"volume",value:function(t){if(null==t)throw new Error("volume requires a parameter");return e._run(this.trackIds,B.prototype.volume,t),this}},{key:"on",value:function(){for(var t=arguments.length,r=Array(t),n=0;n<t;n++)r[n]=arguments[n];return e._run.apply(e,[this.trackIds,B.prototype.on].concat(r)),this}},{key:"one",value:function(){for(var t=arguments.length,r=Array(t),n=0;n<t;n++)r[n]=arguments[n];return e._run.apply(e,[this.trackIds,B.prototype.one].concat(r)),this}},{key:"off",value:function(){for(var t=arguments.length,r=Array(t),n=0;n<t;n++)r[n]=arguments[n];return e._run.apply(e,[this.trackIds,B.prototype.off].concat(r)),this}}],[{key:"_run",value:function(e,t){for(var r=arguments.length,n=Array(r>2?r-2:0),a=2;a<r;a++)n[a-2]=arguments[a];e.forEach(function(e){var r=N.get(e);r&&t.apply(r,n)})}}]),e}(),z=function(){function e(e,t){var a=void 0;if(r.lastIndex=t,null===(a=r.exec(e))||"("!==a[0])throw new Error('invalid ":not()" syntax: missing parentheticals');n.lastIndex=r.lastIndex;for(var i=r.lastIndex,o={str:"",nextMatch:-1},s=1;null!==(a=n.exec(e));)if("("===a[0]?++s:--s,s<1){o.nextMatch=n.lastIndex,o.str=e.slice(i,o.nextMatch-1);break}return o}function t(r){for(var n=[],a=/:?[^\s:()]+/g,i=void 0;null!==(i=a.exec(r));){var o=i[0];if(":not"===o){if(0===n.length)throw new Error('invalid negation: no group ID preceded ":not()"');var s=n[n.length-1];if(":"!==s.id[0])throw new Error('invalid negation of track "'+s.id+'": only groups may be negated with ":not()"');var u=e(r,a.lastIndex);if(-1===u.nextMatch)throw new Error('unknown error parsing ":not()"');a.lastIndex=u.nextMatch,s.not=t(u.str)}else n.push({id:o})}return n}var r=/\S/g,n=/[()]/g;return t}();return Object.freeze(Object.defineProperties({},{tracks:{value:Object.freeze(Object.defineProperties({},{add:{value:e},delete:{value:t},clear:{value:r},has:{value:n},get:{value:a}}))},groups:{value:Object.freeze(Object.defineProperties({},{add:{value:i},delete:{value:o},clear:{value:s},has:{value:u},get:{value:l}}))},lists:{value:Object.freeze(Object.defineProperties({},{add:{value:c},delete:{value:d},clear:{value:f},has:{value:p},get:{value:h}}))},select:{value:g},load:{value:m},loadWithScreen:{value:v},mute:{value:y},muteOnHidden:{value:b},rate:{value:w},stop:{value:k},unload:{value:S},volume:{value:E}}))}(),State=function(){function e(){session.delete("state"),H=[],J=c(),G=-1,Z=[],Y=null===Y?null:new PRNGWrapper(Y.seed,!1)}function t(){if(session.has("state")){var e=session.get("state");return null!=e&&(n(e),!0)}return!1}function r(e){var t={index:G};return e?t.history=clone(H):t.delta=A(H),Z.length>0&&(t.expired=[].concat(_toConsumableArray(Z))),null!==Y&&(t.seed=Y.seed),t}function n(e,t){if(null==e)throw new Error("state object is null or undefined");if(!e.hasOwnProperty(t?"history":"delta")||0===e[t?"history":"delta"].length)throw new Error("state object has no history or history is empty");if(!e.hasOwnProperty("index"))throw new Error("state object has no index");if(null!==Y&&!e.hasOwnProperty("seed"))throw new Error("state object has no seed, but PRNG is enabled");if(null===Y&&e.hasOwnProperty("seed"))throw new Error("state object has seed, but PRNG is disabled");H=t?clone(e.history):P(e.delta),G=e.index,Z=e.hasOwnProperty("expired")?[].concat(_toConsumableArray(e.expired)):[],e.hasOwnProperty("seed")&&(Y.seed=e.seed),g(G)}function a(){return r(!0)}function i(e){return n(e,!0)}function o(){return Z}function s(){return Z.length+v()}function u(){return Z.concat(H.slice(0,v()).map(function(e){return e.title}))}function l(e){return null!=e&&""!==e&&(!!Z.includes(e)||!!H.slice(0,v()).some(function(t){return t.title===e}))}function c(e,t){return{title:null==e?"":String(e),variables:null==t?{}:clone(t)}}function d(){return J}function f(){return G}function p(){return J.title}function h(){return J.variables}function g(e){if(null==e)throw new Error("moment activation attempted with null or undefined");switch(void 0===e?"undefined":_typeof(e)){case"object":J=clone(e);break;case"number":if(b())throw new Error("moment activation attempted with index on empty history");if(e<0||e>=y())throw new RangeError("moment activation attempted with out-of-bounds index; need [0, "+(y()-1)+"], got "+e);J=clone(H[e]);break;default:throw new TypeError('moment activation attempted with a "'+(void 0===e?"undefined":_typeof(e))+'"; must be an object or valid history stack index')}return null!==Y&&(Y=PRNGWrapper.unmarshal({seed:Y.seed,pull:J.pull})),session.set("state",r()),jQuery.event.trigger(":historyupdate"),J}function m(){return H}function v(){return G+1}function y(){return H.length}function b(){return 0===H.length}function w(){return H.length>0?H[G]:null}function k(){return H.length>0?H[H.length-1]:null}
function S(){return H.length>0?H[0]:null}function E(e){return b()||e<0||e>G?null:H[e]}function j(e){if(b())return null;var t=1+(e?Math.abs(e):0);return t>v()?null:H[v()-t]}function x(e){if(b()||null==e||""===e)return!1;for(var t=G;t>=0;--t)if(H[t].title===e)return!0;return!1}function O(e){if(v()<y()&&H.splice(v(),y()-v()),H.push(c(e,J.variables)),Y&&(k().pull=Y.pull),Config.history.maxStates>0)for(;y()>Config.history.maxStates;)Z.push(H.shift().title);return G=y()-1,g(G),v()}function T(e){return!(null==e||e<0||e>=y()||e===G)&&(G=e,g(G),!0)}function C(e){return null!=e&&0!==e&&T(G+e)}function A(e){if(!Array.isArray(e))return null;if(0===e.length)return[];for(var t=[clone(e[0])],r=1,n=e.length;r<n;++r)t.push(Diff.diff(e[r-1],e[r]));return t}function P(e){if(!Array.isArray(e))return null;if(0===e.length)return[];for(var t=[clone(e[0])],r=1,n=e.length;r<n;++r)t.push(Diff.patch(t[r-1],e[r]));return t}function _(e,t){if(!b()){var r=void 0;throw r="the Story JavaScript",new Error("State.initPRNG must be called during initialization, within either "+r+" or the StoryInit special passage")}Y=new PRNGWrapper(e,t),J.pull=Y.pull}function N(){return null!==Y}function I(){return Y?Y.pull:NaN}function D(){return Y?Y.seed:null}function L(){return Y?Y.random():Math.random()}function M(){K={},TempVariables=K}function Q(){return K}function R(e){var t=W(e);if(null!==t){for(var r=t.names,n=t.store,a=0,i=r.length;a<i;++a){if(void 0===n[r[a]])return;n=n[r[a]]}return n}}function F(e,t){var r=W(e);if(null===r)return!1;for(var n=r.names,a=n.pop(),i=r.store,o=0,s=n.length;o<s;++o){if(void 0===i[n[o]])return!1;i=i[n[o]]}return i[a]=t,!0}function W(e){for(var t={store:"$"===e[0]?State.variables:State.temporary,names:[]},r=e,n=void 0;null!==(n=X.exec(r));)r=r.slice(n[0].length),n[1]?t.names.push(n[1]):n[2]?t.names.push(n[2]):n[3]?t.names.push(n[3]):n[4]?t.names.push(n[4]):n[5]?t.names.push(R(n[5])):n[6]&&t.names.push(Number(n[6]));return""===r?t:null}function B(){storage.delete(ee)}function V(e){if("string"!=typeof e)throw new TypeError("State.metadata.delete key parameter must be a string (received: "+(void 0===e?"undefined":_typeof(e))+")");var t=storage.get(ee);t&&t.hasOwnProperty(e)&&(1===Object.keys(t).length?storage.delete(ee):(delete t[e],storage.set(ee,t)))}function U(e){if("string"!=typeof e)throw new TypeError("State.metadata.get key parameter must be a string (received: "+(void 0===e?"undefined":_typeof(e))+")");var t=storage.get(ee);return t&&t.hasOwnProperty(e)?t[e]:undefined}function z(e){if("string"!=typeof e)throw new TypeError("State.metadata.has key parameter must be a string (received: "+(void 0===e?"undefined":_typeof(e))+")");var t=storage.get(ee);return t&&t.hasOwnProperty(e)}function q(e,t){if("string"!=typeof e)throw new TypeError("State.metadata.set key parameter must be a string (received: "+(void 0===e?"undefined":_typeof(e))+")");if(void 0===t)V(e);else{var r=storage.get(ee)||{};r[e]=t,storage.set(ee,r)}}function $(){var e=storage.get(ee);return e?Object.keys(e).length:0}var H=[],J=c(),G=-1,Z=[],Y=null,K={},X=new RegExp("^(?:"+Patterns.variableSigil+"("+Patterns.identifier+")|\\.("+Patterns.identifier+")|\\[(?:(?:\"((?:\\\\.|[^\"\\\\])+)\")|(?:'((?:\\\\.|[^'\\\\])+)')|("+Patterns.variableSigil+Patterns.identifierFirstChar+".*)|(\\d+))\\])"),ee="metadata";return Object.freeze(Object.defineProperties({},{reset:{value:e},restore:{value:t},marshalForSave:{value:a},unmarshalForSave:{value:i},expired:{get:o},turns:{get:s},passages:{get:u},hasPlayed:{value:l},active:{get:d},activeIndex:{get:f},passage:{get:p},variables:{get:h},history:{get:m},length:{get:v},size:{get:y},isEmpty:{value:b},current:{get:w},top:{get:k},bottom:{get:S},index:{value:E},peek:{value:j},has:{value:x},create:{value:O},goTo:{value:T},go:{value:C},deltaEncode:{value:A},deltaDecode:{value:P},prng:{value:Object.freeze(Object.defineProperties({},{init:{value:_},isEnabled:{value:N},pull:{get:I},seed:{get:D}}))},random:{value:L},clearTemporary:{value:M},temporary:{get:Q},getVar:{value:R},setVar:{value:F},metadata:{value:Object.freeze(Object.defineProperties({},{clear:{value:B},delete:{value:V},get:{value:U},has:{value:z},set:{value:q},size:{get:$}}))},initPRNG:{value:_},restart:{value:function(){return Engine.restart()}},backward:{value:function(){return Engine.backward()}},forward:{value:function(){return Engine.forward()}},display:{value:function(){return Engine.display.apply(Engine,arguments)}},show:{value:function(){return Engine.show.apply(Engine,arguments)}},play:{value:function(){return Engine.play.apply(Engine,arguments)}}}))}(),Scripting=function(){function addAccessibleClickHandler(e,t,r,n,a){if(arguments.length<2)throw new Error("addAccessibleClickHandler insufficient number of parameters");var i=void 0,o=void 0;if("function"==typeof t?(i=t,o={namespace:n,one:!!r}):(i=r,o={namespace:a,one:!!n,selector:t}),"function"!=typeof i)throw new TypeError("addAccessibleClickHandler handler parameter must be a function");return jQuery(e).ariaClick(o,i)}function insertElement(e,t,r,n,a,i){var o=jQuery(document.createElement(t));return r&&o.attr("id",r),n&&o.addClass(n),i&&o.attr("title",i),a&&o.text(a),e&&o.appendTo(e),o[0]}function insertText(e,t){jQuery(e).append(document.createTextNode(t))}function removeChildren(e){jQuery(e).empty()}function removeElement(e){jQuery(e).remove()}function fade(e,t){function r(){i+=.05*a,n(o,Math.easeInOut(i)),(1===a&&i>=1||-1===a&&i<=0)&&(e.style.visibility="in"===t.fade?"visible":"hidden",o.parentNode.replaceChild(e,o),o=null,window.clearInterval(s),t.onComplete&&t.onComplete())}function n(e,t){e.style.zoom=1,e.style.filter="alpha(opacity="+Math.floor(100*t)+")",e.style.opacity=t}var a="in"===t.fade?1:-1,i=void 0,o=e.cloneNode(!0),s=void 0;e.parentNode.replaceChild(o,e),"in"===t.fade?(i=0,o.style.visibility="visible"):i=1,n(o,i),s=window.setInterval(r,25)}function scrollWindowTo(e,t){function r(){l+=a,window.scroll(0,i+u*(s*Math.easeInOut(l))),l>=1&&window.clearInterval(c)}function n(e){for(var t=0;e.offsetParent;)t+=e.offsetTop,e=e.offsetParent;return t}var a=null!=t?Number(t):.1;Number.isNaN(a)||!Number.isFinite(a)||a<0?a=.1:a>1&&(a=1);var i=window.scrollY?window.scrollY:document.body.scrollTop,o=function(e){var t=n(e),r=t+e.offsetHeight,a=window.scrollY?window.scrollY:document.body.scrollTop,i=window.innerHeight?window.innerHeight:document.body.clientHeight,o=a+i;return t>=a&&r>o&&e.offsetHeight<i?t-(i-e.offsetHeight)+20:t}(e),s=Math.abs(i-o),u=i>o?-1:1,l=0,c=void 0;c=window.setInterval(r,25)}function either(){if(0!==arguments.length)return Array.prototype.concat.apply([],arguments).random()}function forget(e){if("string"!=typeof e)throw new TypeError("forget key parameter must be a string (received: "+Util.getType(e)+")");State.metadata.delete(e)}function hasVisited(){if(0===arguments.length)throw new Error("hasVisited called with insufficient parameters");if(State.isEmpty())return!1;for(var e=Array.prototype.concat.apply([],arguments),t=State.passages,r=0,n=e.length;r<n;++r)if(!t.includes(e[r]))return!1;return!0}function lastVisited(){if(0===arguments.length)throw new Error("lastVisited called with insufficient parameters");if(State.isEmpty())return-1;for(var e=Array.prototype.concat.apply([],arguments),t=State.passages,r=t.length-1,n=State.turns,a=0,i=e.length;a<i&&n>-1;++a){var o=t.lastIndexOf(e[a]);n=Math.min(n,-1===o?-1:r-o)}return n}function memorize(e,t){if("string"!=typeof e)throw new TypeError("memorize key parameter must be a string (received: "+Util.getType(e)+")");State.metadata.set(e,t)}function passage(){return State.passage}function previous(){var e=State.passages;if(arguments.length>0){var t=Number(arguments[0]);if(!Number.isSafeInteger(t)||t<1)throw new RangeError("previous offset parameter must be a positive integer greater than zero");return e.length>t?e[e.length-1-t]:""}for(var r=e.length-2;r>=0;--r)if(e[r]!==State.passage)return e[r];return""}function random(){var e=void 0,t=void 0;switch(arguments.length){case 0:throw new Error("random called with insufficient parameters");case 1:e=0,t=Math.trunc(arguments[0]);break;default:e=Math.trunc(arguments[0]),t=Math.trunc(arguments[1])}if(!Number.isInteger(e))throw new Error("random min parameter must be an integer");if(!Number.isInteger(t))throw new Error("random max parameter must be an integer");if(e>t){var r=[t,e];e=r[0],t=r[1]}return Math.floor(State.random()*(t-e+1))+e}function randomFloat(){var e=void 0,t=void 0;switch(arguments.length){case 0:throw new Error("randomFloat called with insufficient parameters");case 1:e=0,t=Number(arguments[0]);break;default:e=Number(arguments[0]),t=Number(arguments[1])}if(Number.isNaN(e)||!Number.isFinite(e))throw new Error("randomFloat min parameter must be a number");if(Number.isNaN(t)||!Number.isFinite(t))throw new Error("randomFloat max parameter must be a number");if(e>t){var r=[t,e];e=r[0],t=r[1]}return State.random()*(t-e)+e}function recall(e,t){if("string"!=typeof e)throw new TypeError("recall key parameter must be a string (received: "+Util.getType(e)+")");return State.metadata.has(e)?State.metadata.get(e):t}function tags(){if(0===arguments.length)return Story.get(State.passage).tags.slice(0);for(var e=Array.prototype.concat.apply([],arguments),t=[],r=0,n=e.length;r<n;++r)t=t.concat(Story.get(e[r]).tags);return t}function temporary(){return State.temporary}function time(){return null===Engine.lastPlay?0:Util.now()-Engine.lastPlay}function turns(){return State.turns}function variables(){return State.variables}function visited(){if(State.isEmpty())return 0;for(var e=Array.prototype.concat.apply([],0===arguments.length?[State.passage]:arguments),t=State.passages,r=State.turns,n=0,a=e.length;n<a&&r>0;++n)r=Math.min(r,t.count(e[n]));return r}function visitedTags(){if(0===arguments.length)throw new Error("visitedTags called with insufficient parameters");if(State.isEmpty())return 0;for(var e=Array.prototype.concat.apply([],arguments),t=e.length,r=State.passages,n=new Map,a=0,i=0,o=r.length;i<o;++i){var s=r[i];if(n.has(s))n.get(s)&&++a;else{var u=Story.get(s).tags;if(u.length>0){for(var l=0,c=0;c<t;++c)u.includes(e[c])&&++l;l===t?(++a,n.set(s,!0)):n.set(s,!1)}}}return a}function evalJavaScript(code,output){return function(code,output){return eval(code)}.call(output?{output:output}:null,String(code),output)}function evalTwineScript(code,output){return function(code,output){return eval(code)}.call(output?{output:output}:null,parse(String(code)),output)}var _ref8=function(){function e(e){return Util.parseUrl(e).path.replace(/^[^\w]+|[^\w]+$/g,"").replace(/[^\w]+/g,"-").toLocaleLowerCase()}function t(t){return new Promise(function(r,n){jQuery(document.createElement("script")).one("load abort error",function(e){jQuery(e.target).off(),"load"===e.type?r(e.target):n(new Error('importScripts failed to load the script "'+t+'".'))}).appendTo(document.head).attr({id:"script-imported-"+e(t),type:"text/javascript",src:t})})}function r(t){return new Promise(function(r,n){jQuery(document.createElement("link")).one("load abort error",function(e){jQuery(e.target).off(),"load"===e.type?r(e.target):n(new Error('importStyles failed to load the stylesheet "'+t+'".'))}).appendTo(document.head).attr({id:"style-imported-"+e(t),rel:"stylesheet",href:t})})}function n(e){return e.reduce(function(e,t){return e=e.then(t)},Promise.resolve())}function a(){for(var e=arguments.length,r=Array(e),a=0;a<e;a++)r[a]=arguments[a];return Promise.all(r.map(function(e){return Array.isArray(e)?n(e.map(function(e){return function(){return t(e)}})):t(e)}))}function i(){for(var e=arguments.length,t=Array(e),a=0;a<e;a++)t[a]=arguments[a];return Promise.all(t.map(function(e){return Array.isArray(e)?n(e.map(function(e){return function(){return r(e)}})):r(e)}))}return{importScripts:a,importStyles:i}}(),importScripts=_ref8.importScripts,importStyles=_ref8.importStyles,parse=function(){function e(e){if(0!==r.lastIndex)throw new RangeError("Scripting.parse last index is non-zero at start");for(var a=e,i=void 0;null!==(i=r.exec(a));)if(i[5]){var o=i[5];if("$"===o||"_"===o)continue;if(n.test(o))o=o[0];else if("is"===o){var s=r.lastIndex,u=a.slice(s);/^\s+not\b/.test(u)&&(a=a.splice(s,u.search(/\S/)),o="isnot")}t.hasOwnProperty(o)&&(a=a.splice(i.index,o.length,t[o]),r.lastIndex+=t[o].length-o.length)}return a}var t=Object.freeze({$:"State.variables.",_:"State.temporary.",to:"=",eq:"==",neq:"!=",is:"===",isnot:"!==",gt:">",gte:">=",lt:"<",lte:"<=",and:"&&",or:"||",not:"!",def:'"undefined" !== typeof',ndef:'"undefined" === typeof'}),r=new RegExp(["(\"\"|'')",'("(?:\\\\.|[^"\\\\])+")',"('(?:\\\\.|[^'\\\\])+')","([=+\\-*\\/%<>&\\|\\^~!?:,;\\(\\)\\[\\]{}]+)","([^\"'=+\\-*\\/%<>&\\|\\^~!?:,;\\(\\)\\[\\]{}\\s]+)"].join("|"),"g"),n=new RegExp("^"+Patterns.variable);return e}();return Object.freeze(Object.defineProperties({},{parse:{value:parse},evalJavaScript:{value:evalJavaScript},evalTwineScript:{value:evalTwineScript}}))}(),_ref9=function(){return{EOF:-1,Lexer:function(){function e(t,r){if(_classCallCheck(this,e),arguments.length<2)throw new Error("Lexer constructor called with too few parameters (source:string , initialState:function)");Object.defineProperties(this,{source:{value:t},initial:{value:r},state:{writable:!0,value:r},start:{writable:!0,value:0},pos:{writable:!0,value:0},depth:{writable:!0,value:0},items:{writable:!0,value:[]},data:{writable:!0,value:{}}})}return _createClass(e,[{key:"reset",value:function(){this.state=this.initial,this.start=0,this.pos=0,this.depth=0,this.items=[],this.data={}}},{key:"run",value:function(){for(;null!==this.state;)this.state=this.state(this);return this.items}},{key:"nextItem",value:function(){for(;0===this.items.length&&null!==this.state;)this.state=this.state(this);return this.items.shift()}},{key:"next",value:function(){return this.pos>=this.source.length?-1:this.source[this.pos++]}},{key:"peek",value:function(){return this.pos>=this.source.length?-1:this.source[this.pos]}},{key:"backup",value:function(e){this.pos-=e||1}},{key:"forward",value:function(e){this.pos+=e||1}},{key:"ignore",value:function(){this.start=this.pos}},{key:"accept",value:function(e){var t=this.next();return-1!==t&&(!!e.includes(t)||(this.backup(),!1))}},{key:"acceptRe",value:function(e){var t=this.next();return-1!==t&&(!!e.test(t)||(this.backup(),!1))}},{key:"acceptRun",value:function(e){for(;;){var t=this.next();if(-1===t)return;if(!e.includes(t))break}this.backup()}},{key:"acceptRunRe",value:function(e){for(;;){var t=this.next();if(-1===t)return;if(!e.test(t))break}this.backup()}},{key:"emit",value:function(e){this.items.push({type:e,text:this.source.slice(this.start,this.pos),start:this.start,pos:this.pos}),this.start=this.pos}},{key:"error",value:function(e,t){if(arguments.length<2)throw new Error("Lexer.prototype.error called with too few parameters (type:number , message:string)");return this.items.push({type:e,message:t,text:this.source.slice(this.start,this.pos),start:this.start,pos:this.pos}),null}}],[{key:"enumFromNames",value:function(e){var t=e.reduce(function(e,t,r){return e[t]=r,e},{});return Object.freeze(Object.assign(Object.create(null),t))}}]),e}()}}(),EOF=_ref9.EOF,Lexer=_ref9.Lexer,Wikifier=function(){var e=0,t=function(){function t(r,n,a){_classCallCheck(this,t),t.Parser.Profile.isEmpty()&&t.Parser.Profile.compile(),Object.defineProperties(this,{source:{value:String(n)},options:{writable:!0,value:Object.assign({profile:"all"},a)},nextMatch:{writable:!0,value:0},output:{writable:!0,value:null},_rawArgs:{writable:!0,value:""}}),null==r?this.output=document.createDocumentFragment():r.jquery?this.output=r[0]:this.output=r;try{++e,this.subWikify(this.output),1===e&&Config.cleanupWikifierOutput&&convertBreaks(this.output)}finally{--e}}return _createClass(t,[{key:"subWikify",value:function(e,r,n){var a=this.output;this.output=e;var i=void 0,o=void 0;t.Option.length>0&&(i=Object.assign(i||{},t.Option.options)),null!==n&&"object"===(void 0===n?"undefined":_typeof(n))&&(i=Object.assign(i||{},n)),i&&(o=this.options,this.options=Object.assign({},this.options,i));var s=t.Parser.Profile.get(this.options.profile),u=r?new RegExp("(?:"+r+")",this.options.ignoreTerminatorCase?"gim":"gm"):null,l=void 0,c=void 0;do{if(s.parserRegExp.lastIndex=this.nextMatch,u&&(u.lastIndex=this.nextMatch),c=s.parserRegExp.exec(this.source),(l=u?u.exec(this.source):null)&&(!c||l.index<=c.index))return l.index>this.nextMatch&&this.outputText(this.output,this.nextMatch,l.index),this.matchStart=l.index,this.matchLength=l[0].length,this.matchText=l[0],this.nextMatch=u.lastIndex,this.output=a,void(o&&(this.options=o));if(c){c.index>this.nextMatch&&this.outputText(this.output,this.nextMatch,c.index),this.matchStart=c.index,this.matchLength=c[0].length,this.matchText=c[0],this.nextMatch=s.parserRegExp.lastIndex;for(var d=void 0,f=1,p=c.length;f<p;++f)if(c[f]){d=f-1;break}if(s.parsers[d].handler(this),null!=TempState.break)break}}while(l||c);null==TempState.break?this.nextMatch<this.source.length&&(this.outputText(this.output,this.nextMatch,this.source.length),this.nextMatch=this.source.length):this.output.lastChild&&this.output.lastChild.nodeType===Node.ELEMENT_NODE&&"BR"===this.output.lastChild.nodeName.toUpperCase()&&jQuery(this.output.lastChild).remove(),this.output=a,o&&(this.options=o)}},{key:"outputText",value:function(e,t,r){jQuery(e).append(document.createTextNode(this.source.substring(t,r)))}},{key:"rawArgs",value:function(){return this._rawArgs}},{key:"fullArgs",value:function(){return Scripting.parse(this._rawArgs)}}],[{key:"wikifyEval",value:function(e){var r=document.createDocumentFragment();new t(r,e);var n=r.querySelector(".error");if(null!==n)throw new Error(n.textContent.replace(errorPrologRegExp,""));return r}},{key:"createInternalLink",value:function(e,t,r,n){var a=jQuery(document.createElement("a"));return null!=t&&(a.attr("data-passage",t),Story.has(t)?(a.addClass("link-internal"),Config.addVisitedLinkClass&&State.hasPlayed(t)&&a.addClass("link-visited")):a.addClass("link-broken"),a.ariaClick({one:!0},function(){"function"==typeof n&&n(),Engine.play(t)})),r&&a.append(document.createTextNode(r)),e&&a.appendTo(e),a[0]}},{key:"createExternalLink",value:function(e,t,r){var n=jQuery(document.createElement("a")).attr("target","_blank").addClass("link-external").text(r).appendTo(e);return null!=t&&n.attr({href:t,tabindex:0}),n[0]}},{key:"isExternalLink",value:function(e){return!Story.has(e)&&(new RegExp("^"+Patterns.url,"gim").test(e)||/[\/.?#]/.test(e))}}]),t}();return Object.defineProperty(t,"Option",{value:function(){function e(){return o.length}function t(){return Object.assign.apply(Object,[{}].concat(_toConsumableArray(o)))}function r(){o=[]}function n(e){return o[e]}function a(){return o.pop()}function i(e){if("object"!==(void 0===e?"undefined":_typeof(e))||null===e)throw new TypeError("Wikifier.Option.push options parameter must be an object (received: "+Util.getType(e)+")");return o.push(e)}var o=[];return Object.freeze(Object.defineProperties({},{length:{get:e},options:{get:t},clear:{value:r},get:{value:n},pop:{value:a},push:{value:i}}))}()}),Object.defineProperty(t,"Parser",{value:function(){function e(){return d}function t(e){if("object"!==(void 0===e?"undefined":_typeof(e)))throw new Error("Wikifier.Parser.add parser parameter must be an object");if(!e.hasOwnProperty("name"))throw new Error('parser object missing required "name" property');if("string"!=typeof e.name)throw new Error('parser object "name" property must be a string');if(!e.hasOwnProperty("match"))throw new Error('parser object missing required "match" property');if("string"!=typeof e.match)throw new Error('parser object "match" property must be a string');if(!e.hasOwnProperty("handler"))throw new Error('parser object missing required "handler" property');if("function"!=typeof e.handler)throw new Error('parser object "handler" property must be a function');if(e.hasOwnProperty("profiles")&&!Array.isArray(e.profiles))throw new Error('parser object "profiles" property must be an array');if(a(e.name))throw new Error('cannot clobber existing parser "'+e.name+'"');d.push(e)}function r(e){var t=d.find(function(t){return t.name===e});t&&d.delete(t)}function n(){return 0===d.length}function a(e){return!!d.find(function(t){return t.name===e})}function i(e){return d.find(function(t){return t.name===e})||null}function o(){return f}function s(){var e=d,t=e.filter(function(e){return!Array.isArray(e.profiles)||e.profiles.includes("core")});return f=Object.freeze({all:{parsers:e,parserRegExp:new RegExp(e.map(function(e){return"("+e.match+")"}).join("|"),"gm")},core:{parsers:t,parserRegExp:new RegExp(t.map(function(e){return"("+e.match+")"}).join("|"),"gm")}})}function u(){return"object"!==(void 0===f?"undefined":_typeof(f))||0===Object.keys(f).length}function l(e){if("object"!==(void 0===f?"undefined":_typeof(f))||!f.hasOwnProperty(e))throw new Error('nonexistent parser profile "'+e+'"');return f[e]}function c(e){return"object"===(void 0===f?"undefined":_typeof(f))&&f.hasOwnProperty(e)}var d=[],f=void 0;return Object.freeze(Object.defineProperties({},{parsers:{get:e},add:{value:t},delete:{value:r},isEmpty:{value:n},has:{value:a},get:{value:i},Profile:{value:Object.freeze(Object.defineProperties({},{profiles:{get:o},compile:{value:s},isEmpty:{value:u},has:{value:c},get:{value:l}}))}}))}()}),Object.defineProperties(t,{helpers:{value:{}},getValue:{value:State.getVar},setValue:{value:State.setVar},parse:{value:Scripting.parse},evalExpression:{value:Scripting.evalTwineScript},evalStatements:{value:Scripting.evalTwineScript},textPrimitives:{value:Patterns}}),Object.defineProperties(t.helpers,{inlineCss:{value:function(){function e(e){var n={classes:[],id:"",styles:{}},a=void 0;do{t.lastIndex=e.nextMatch;var i=t.exec(e.source);if(a=i&&i.index===e.nextMatch){if(i[1])n.styles[Util.fromCssProperty(i[1])]=i[2].trim();else if(i[3])n.styles[Util.fromCssProperty(i[3])]=i[4].trim();else if(i[5]){var o=void 0;for(r.lastIndex=0;null!==(o=r.exec(i[5]));)"."===o[1]?n.classes.push(o[2]):n.id=o[2]}e.nextMatch=t.lastIndex}}while(a);return n}var t=new RegExp(Patterns.inlineCss,"gm"),r=new RegExp("("+Patterns.cssIdOrClassSigil+")("+Patterns.anyLetter+"+)","g");return e}()},evalText:{value:function(e){var t=void 0;try{switch(t=Scripting.evalTwineScript(e),void 0===t?"undefined":_typeof(t)){case"string":""===t.trim()&&(t=e);break;case"number":t=String(t);break;default:t=e}}catch(r){t=e}return t}},evalPassageId:{value:function(e){return null==e||Story.has(e)?e:t.helpers.evalText(e)}},hasBlockContext:{value:function(e){for(var t="function"==typeof window.getComputedStyle,r=e.length-1;r>=0;--r){var n=e[r];switch(n.nodeType){case Node.ELEMENT_NODE:var a=n.nodeName.toUpperCase();if("BR"===a)return!0;var i=t?window.getComputedStyle(n,null):n.currentStyle;if(i&&i.display){if("none"===i.display)continue;return"block"===i.display}switch(a){case"ADDRESS":case"ARTICLE":case"ASIDE":case"BLOCKQUOTE":case"CENTER":case"DIV":case"DL":case"FIGURE":case"FOOTER":case"FORM":case"H1":case"H2":case"H3":case"H4":case"H5":case"H6":case"HEADER":case"HR":case"MAIN":case"NAV":case"OL":case"P":case"PRE":case"SECTION":case"TABLE":case"UL":return!0}return!1;case Node.COMMENT_NODE:continue;default:return!1}}return!0}},createShadowSetterCallback:{value:function(){function e(){if(!a&&!(a=t.Parser.get("macro")))throw new Error('cannot find "macro" parser');return a}function r(){for(var t=a||e(),r=new Set,n=t.context;null!==n;n=n.parent)n._shadows&&n._shadows.forEach(function(e){return r.add(e)});return[].concat(_toConsumableArray(r))}function n(e){var t={};return r().forEach(function(e){var r=e.slice(1),n="$"===e[0]?State.variables:State.temporary;t[e]=n[r]}),function(){var r=Object.keys(t),n=r.length>0?{}:null;try{return r.forEach(function(e){var r=e.slice(1),a="$"===e[0]?State.variables:State.temporary;a.hasOwnProperty(r)&&(n[r]=a[r]),a[r]=t[e]}),Scripting.evalJavaScript(e)}finally{r.forEach(function(e){var r=e.slice(1),a="$"===e[0]?State.variables:State.temporary;t[e]=a[r],n.hasOwnProperty(r)?a[r]=n[r]:delete a[r]})}}}var a=null;return n}()},parseSquareBracketedMarkup:{value:function(){function e(e,t){e:for(;;)switch(e.next()){case"\\":var r=e.next();if(r!==EOF&&"\n"!==r)break;case EOF:case"\n":return EOF;case t:break e}return e.pos}function t(e){if(!e.accept("["))return e.error(o.Error,"malformed square-bracketed markup");if(e.accept("["))e.data.isLink=!0,e.emit(o.LinkMeta);else{if(e.accept("<>"),!(e.accept("Ii")&&e.accept("Mm")&&e.accept("Gg")&&e.accept("[")))return e.error(o.Error,"malformed square-bracketed markup");e.data.isLink=!1,e.emit(o.ImageMeta)}return e.depth=2,r}function r(t){for(var r=t.data.isLink?"link":"image",i=s.None;;)switch(t.next()){case EOF:case"\n":return t.error(o.Error,"unterminated "+r+" markup");case'"':if(e(t,'"')===EOF)return t.error(o.Error,"unterminated double quoted string in "+r+" markup");break;case"|":i===s.None&&(i=s.LTR,t.backup(),t.emit(o.Text),t.forward(),t.emit(o.DelimLTR));break;case"-":i===s.None&&">"===t.peek()&&(i=s.LTR,t.backup(),t.emit(o.Text),t.forward(2),t.emit(o.DelimLTR));break;case"<":i===s.None&&"-"===t.peek()&&(i=s.RTL,t.backup(),t.emit(t.data.isLink?o.Link:o.Source),t.forward(2),t.emit(o.DelimRTL));break;case"[":++t.depth;break;case"]":if(1===--t.depth)switch(t.peek()){case"[":return++t.depth,t.backup(),i===s.RTL?t.emit(o.Text):t.emit(t.data.isLink?o.Link:o.Source),t.forward(2),t.emit(o.InnerMeta),t.data.isLink?a:n;case"]":return--t.depth,t.backup(),i===s.RTL?t.emit(o.Text):t.emit(t.data.isLink?o.Link:o.Source),t.forward(2),t.emit(o.RightMeta),null;default:return t.error(o.Error,"malformed "+r+" markup")}}}function n(t){for(var r=t.data.isLink?"link":"image";;)switch(t.next()){case EOF:case"\n":return t.error(o.Error,"unterminated "+r+" markup");case'"':if(e(t,'"')===EOF)return t.error(o.Error,"unterminated double quoted string in "+r+" markup link component");break;case"[":++t.depth;break;case"]":if(1===--t.depth)switch(t.peek()){case"[":return++t.depth,t.backup(),t.emit(o.Link),t.forward(2),t.emit(o.InnerMeta),a;case"]":return--t.depth,t.backup(),t.emit(o.Link),t.forward(2),t.emit(o.RightMeta),null;default:return t.error(o.Error,"malformed "+r+" markup")}}}function a(t){for(var r=t.data.isLink?"link":"image";;)switch(t.next()){case EOF:case"\n":return t.error(o.Error,"unterminated "+r+" markup");case'"':if(e(t,'"')===EOF)return t.error(o.Error,"unterminated double quoted string in "+r+" markup setter component");break;case"'":if(e(t,"'")===EOF)return t.error(o.Error,"unterminated single quoted string in "+r+" markup setter component");break;case"[":++t.depth;break;case"]":if(1===--t.depth)return"]"!==t.peek()?t.error(o.Error,"malformed "+r+" markup"):(--t.depth,t.backup(),t.emit(o.Setter),t.forward(2),t.emit(o.RightMeta),null)}}function i(e){var r=new Lexer(e.source,t);r.start=r.pos=e.matchStart;var n={},a=r.run(),i=a.last();return i&&i.type===o.Error?n.error=i.message:a.forEach(function(e){var t=e.text.trim();switch(e.type){case o.ImageMeta:n.isImage=!0,"<"===t[1]?n.align="left":">"===t[1]&&(n.align="right");break;case o.LinkMeta:n.isLink=!0;break;case o.Link:"~"===t[0]?(n.forceInternal=!0,n.link=t.slice(1)):n.link=t;break;case o.Setter:n.setter=t;break;case o.Source:n.source=t;break;case o.Text:n.text=t}}),n.pos=r.pos,n}var o=Lexer.enumFromNames(["Error","DelimLTR","DelimRTL","InnerMeta","ImageMeta","LinkMeta","Link","RightMeta","Setter","Source","Text"]),s=Lexer.enumFromNames(["None","LTR","RTL"]);return i}()}}),t}();!function(){function e(e){this.lookahead.lastIndex=e.matchStart;var t=this.lookahead.exec(e.source);t&&t.index===e.matchStart&&(e.nextMatch=this.lookahead.lastIndex,jQuery(document.createDocumentFragment()).append(t[1]).appendTo(e.output))}Wikifier.Parser.add({name:"quoteByBlock",profiles:["block"],match:"^<<<\\n",terminator:"^<<<\\n",handler:function(e){if(!Wikifier.helpers.hasBlockContext(e.output.childNodes))return void jQuery(e.output).append(document.createTextNode(e.matchText));e.subWikify(jQuery(document.createElement("blockquote")).appendTo(e.output).get(0),this.terminator)}}),Wikifier.Parser.add({name:"quoteByLine",profiles:["block"],match:"^>+",lookahead:/^>+/gm,terminator:"\\n",handler:function(e){if(!Wikifier.helpers.hasBlockContext(e.output.childNodes))return void jQuery(e.output).append(document.createTextNode(e.matchText));var t=[e.output],r=0,n=e.matchLength,a=void 0,i=void 0;do{if(n>r)for(i=r;i<n;++i)t.push(jQuery(document.createElement("blockquote")).appendTo(t[t.length-1]).get(0));else if(n<r)for(i=r;i>n;--i)t.pop();r=n,e.subWikify(t[t.length-1],this.terminator),jQuery(document.createElement("br")).appendTo(t[t.length-1]),this.lookahead.lastIndex=e.nextMatch;var o=this.lookahead.exec(e.source);a=o&&o.index===e.nextMatch,a&&(n=o[0].length,e.nextMatch+=o[0].length)}while(a)}}),Wikifier.Parser.add({name:"macro",profiles:["core"],match:"<<",lookahead:new RegExp("<<(/?"+Patterns.macroName+")(?:\\s*)((?:(?:`(?:\\\\.|[^`\\\\])*`)|(?:\"(?:\\\\.|[^\"\\\\])*\")|(?:'(?:\\\\.|[^'\\\\])*')|(?:\\[(?:[<>]?[Ii][Mm][Gg])?\\[[^\\r\\n]*?\\]\\]+)|[^>]|(?:>(?!>)))*)>>","gm"),working:{source:"",name:"",arguments:"",index:0},context:null,handler:function(e){var t=this.lookahead.lastIndex=e.matchStart;if(this.parseTag(e)){var r=e.nextMatch,n=this.working.name,a=this.working.arguments,i=void 0;try{if(!(i=Macro.get(n))){if(Macro.tags.has(n)){var o=Macro.tags.get(n);return throwError(e.output,"child tag <<"+n+">> was found outside of a call to its parent macro"+(1===o.length?"":"s")+" <<"+o.join(">>, <<")+">>",e.source.slice(t,e.nextMatch))}return throwError(e.output,"macro <<"+n+">> does not exist",e.source.slice(t,e.nextMatch))}var s=null;if(i.hasOwnProperty("tags")&&!(s=this.parseBody(e,i)))return e.nextMatch=r,throwError(e.output,"cannot find a closing tag for macro <<"+n+">>",e.source.slice(t,e.nextMatch)+"…");if("function"!=typeof i.handler)return throwError(e.output,"macro <<"+n+">> handler function "+(i.hasOwnProperty("handler")?"is not a function":"does not exist"),e.source.slice(t,e.nextMatch));var u=s?s[0].args:this.createArgs(a,this.skipArgs(i,i.name));if(i.hasOwnProperty("_MACRO_API")){this.context=new MacroContext({macro:i,name:n,args:u,payload:s,source:e.source.slice(t,e.nextMatch),parent:this.context,parser:e});try{i.handler.call(this.context)}finally{this.context=this.context.parent}}else{var l=e._rawArgs;e._rawArgs=a;try{i.handler(e.output,n,u,e,s)}finally{e._rawArgs=l}}}catch(r){return throwError(e.output,"cannot execute "+(i&&i.isWidget?"widget":"macro")+" <<"+n+">>: "+r.message,e.source.slice(t,e.nextMatch))}finally{this.working.source="",this.working.name="",this.working.arguments="",this.working.index=0}}else e.outputText(e.output,e.matchStart,e.nextMatch)},parseTag:function(e){var t=this.lookahead.exec(e.source);return!(!t||t.index!==e.matchStart||!t[1])&&(e.nextMatch=this.lookahead.lastIndex,this.working.source=e.source.slice(t.index,this.lookahead.lastIndex),this.working.name=t[1],this.working.arguments=t[2],this.working.index=t.index,!0)},parseBody:function(e,t){for(var r=this.working.name,n="/"+r,a="end"+r,i=!!Array.isArray(t.tags)&&t.tags,o=[],s=-1,u=1,l=this.working.source,c=this.working.name,d=this.working.arguments,f=e.nextMatch;-1!==(e.matchStart=e.source.indexOf(this.match,e.nextMatch));)if(this.parseTag(e)){var p=this.working.source,h=this.working.name,g=this.working.arguments,m=this.working.index,v=e.nextMatch;switch(h){case r:++u;break;case a:case n:--u;break;default:if(1===u&&i)for(var y=0,b=i.length;y<b;++y)h===i[y]&&(o.push({source:l,name:c,arguments:d,args:this.createArgs(d,this.skipArgs(t,c)),contents:e.source.slice(f,m)}),l=p,c=h,d=g,f=v)}if(0===u){o.push({source:l,name:c,arguments:d,args:this.createArgs(d,this.skipArgs(t,c)),contents:e.source.slice(f,m)}),s=v;break}}else this.lookahead.lastIndex=e.nextMatch=e.matchStart+this.match.length;return-1!==s?(e.nextMatch=s,o):null},createArgs:function(e,t){var r=t?[]:this.parseArgs(e);return Object.defineProperties(r,{raw:{value:e},full:{value:Scripting.parse(e)}}),r},
skipArgs:function(e,t){if(e.hasOwnProperty("skipArgs")){var r=e.skipArgs;return"boolean"==typeof r&&r||Array.isArray(r)&&r.includes(t)}return!!e.hasOwnProperty("skipArg0")&&(e.skipArg0&&e.name===t)},parseArgs:function(){function e(e,t){e:for(;;)switch(e.next()){case"\\":var r=e.next();if(r!==EOF&&"\n"!==r)break;case EOF:case"\n":return EOF;case t:break e}return e.pos}function t(e){var t=e.source.slice(e.pos).search(c);if(t===EOF)return null;switch(0!==t&&(e.pos+=t,e.ignore()),e.next()){case"`":return r;case'"':return n;case"'":return a;case"[":return i;default:return o}}function r(r){return e(r,"`")===EOF?r.error(u.Error,"unterminated backquote expression"):(r.emit(u.Expression),t)}function n(r){return e(r,'"')===EOF?r.error(u.Error,"unterminated double quoted string"):(r.emit(u.String),t)}function a(r){return e(r,"'")===EOF?r.error(u.Error,"unterminated single quoted string"):(r.emit(u.String),t)}function i(e){var r=void 0;if(e.accept("<>IiMmGg")?(r="image",e.acceptRun("<>IiMmGg")):r="link",!e.accept("["))return e.error(u.Error,"malformed "+r+" markup");e.depth=2;e:for(;;)switch(e.next()){case"\\":var n=e.next();if(n!==EOF&&"\n"!==n)break;case EOF:case"\n":return e.error(u.Error,"unterminated "+r+" markup");case"[":++e.depth;break;case"]":if(--e.depth<0)return e.error(u.Error,"unexpected right square bracket ']'");if(1===e.depth){if("]"===e.next()){--e.depth;break e}e.backup()}}return e.emit(u.SquareBracket),t}function o(e){var r=e.source.slice(e.pos).search(l);return e.pos=r===EOF?e.source.length:e.pos+r,e.emit(u.Bareword),r===EOF?null:t}function s(e){var r=new Lexer(e,t),n=[];return r.run().forEach(function(e){var t=e.text;switch(e.type){case u.Error:throw new Error('unable to parse macro argument "'+t+'": '+e.message);case u.Bareword:if(d.test(t))t=State.getVar(t);else if(/^(?:settings|setup)[.[]/.test(t))try{t=Scripting.evalTwineScript(t)}catch(e){throw new Error('unable to parse macro argument "'+t+'": '+e.message)}else if("null"===t)t=null;else if("undefined"===t)t=undefined;else if("true"===t)t=!0;else if("false"===t)t=!1;else if("NaN"===t)t=NaN;else{var r=Number(t);Number.isNaN(r)||(t=r)}break;case u.Expression:if(""===(t=t.slice(1,-1).trim()))t=undefined;else try{t=Scripting.evalTwineScript("("+t+")")}catch(e){throw new Error('unable to parse macro argument expression "'+t+'": '+e.message)}break;case u.String:try{t=Scripting.evalJavaScript(t)}catch(e){throw new Error('unable to parse macro argument string "'+t+'": '+e.message)}break;case u.SquareBracket:var a=Wikifier.helpers.parseSquareBracketedMarkup({source:t,matchStart:0});if(a.hasOwnProperty("error"))throw new Error('unable to parse macro argument "'+t+'": '+a.error);if(a.pos<t.length)throw new Error('unable to parse macro argument "'+t+'": unexpected character(s) "'+t.slice(a.pos)+'" (pos: '+a.pos+")");a.isLink?(t={isLink:!0},t.count=a.hasOwnProperty("text")?2:1,t.link=Wikifier.helpers.evalPassageId(a.link),t.text=a.hasOwnProperty("text")?Wikifier.helpers.evalText(a.text):t.link,t.external=!a.forceInternal&&Wikifier.isExternalLink(t.link),t.setFn=a.hasOwnProperty("setter")?Wikifier.helpers.createShadowSetterCallback(Scripting.parse(a.setter)):null):a.isImage&&(t=function(e){var t={source:e,isImage:!0};if("data:"!==e.slice(0,5)&&Story.has(e)){var r=Story.get(e);r.tags.includes("Twine.image")&&(t.source=r.text,t.passage=r.title)}return t}(Wikifier.helpers.evalPassageId(a.source)),a.hasOwnProperty("align")&&(t.align=a.align),a.hasOwnProperty("text")&&(t.title=Wikifier.helpers.evalText(a.text)),a.hasOwnProperty("link")&&(t.link=Wikifier.helpers.evalPassageId(a.link),t.external=!a.forceInternal&&Wikifier.isExternalLink(t.link)),t.setFn=a.hasOwnProperty("setter")?Wikifier.helpers.createShadowSetterCallback(Scripting.parse(a.setter)):null)}n.push(t)}),n}var u=Lexer.enumFromNames(["Error","Bareword","Expression","String","SquareBracket"]),l=new RegExp(Patterns.space),c=new RegExp(Patterns.notSpace),d=new RegExp("^"+Patterns.variable);return s}()}),Wikifier.Parser.add({name:"link",profiles:["core"],match:"\\[\\[[^[]",handler:function(e){var t=Wikifier.helpers.parseSquareBracketedMarkup(e);if(t.hasOwnProperty("error"))return void e.outputText(e.output,e.matchStart,e.nextMatch);e.nextMatch=t.pos;var r=Wikifier.helpers.evalPassageId(t.link),n=t.hasOwnProperty("text")?Wikifier.helpers.evalText(t.text):r,a=t.hasOwnProperty("setter")?Wikifier.helpers.createShadowSetterCallback(Scripting.parse(t.setter)):null,i=(Config.debug?new DebugView(e.output,"link-markup","[[link]]",e.source.slice(e.matchStart,e.nextMatch)):e).output;t.forceInternal||!Wikifier.isExternalLink(r)?Wikifier.createInternalLink(i,r,n,a):Wikifier.createExternalLink(i,r,n)}}),Wikifier.Parser.add({name:"urlLink",profiles:["core"],match:Patterns.url,handler:function(e){e.outputText(Wikifier.createExternalLink(e.output,e.matchText),e.matchStart,e.nextMatch)}}),Wikifier.Parser.add({name:"image",profiles:["core"],match:"\\[[<>]?[Ii][Mm][Gg]\\[",handler:function(e){var t=Wikifier.helpers.parseSquareBracketedMarkup(e);if(t.hasOwnProperty("error"))return void e.outputText(e.output,e.matchStart,e.nextMatch);e.nextMatch=t.pos;var r=void 0;Config.debug&&(r=new DebugView(e.output,"image-markup",t.hasOwnProperty("link")?"[img[][link]]":"[img[]]",e.source.slice(e.matchStart,e.nextMatch)),r.modes({block:!0}));var n=t.hasOwnProperty("setter")?Wikifier.helpers.createShadowSetterCallback(Scripting.parse(t.setter)):null,a=(Config.debug?r:e).output,i=void 0;if(t.hasOwnProperty("link")){var o=Wikifier.helpers.evalPassageId(t.link);a=t.forceInternal||!Wikifier.isExternalLink(o)?Wikifier.createInternalLink(a,o,null,n):Wikifier.createExternalLink(a,o),a.classList.add("link-image")}if(a=jQuery(document.createElement("img")).appendTo(a).get(0),i=Wikifier.helpers.evalPassageId(t.source),"data:"!==i.slice(0,5)&&Story.has(i)){var s=Story.get(i);s.tags.includes("Twine.image")&&(a.setAttribute("data-passage",s.title),i=s.text.trim())}a.src=i,t.hasOwnProperty("text")&&(a.title=Wikifier.helpers.evalText(t.text)),t.hasOwnProperty("align")&&(a.align=t.align)}}),Wikifier.Parser.add({name:"monospacedByBlock",profiles:["block"],match:"^\\{\\{\\{\\n",lookahead:/^\{\{\{\n((?:^[^\n]*\n)+?)(^\}\}\}$\n?)/gm,handler:function(e){this.lookahead.lastIndex=e.matchStart;var t=this.lookahead.exec(e.source);if(t&&t.index===e.matchStart){var r=jQuery(document.createElement("pre"));jQuery(document.createElement("code")).text(t[1]).appendTo(r),r.appendTo(e.output),e.nextMatch=this.lookahead.lastIndex}}}),Wikifier.Parser.add({name:"formatByChar",profiles:["core"],match:"''|//|__|\\^\\^|~~|==|\\{\\{\\{",handler:function(e){switch(e.matchText){case"''":e.subWikify(jQuery(document.createElement("strong")).appendTo(e.output).get(0),"''");break;case"//":e.subWikify(jQuery(document.createElement("em")).appendTo(e.output).get(0),"//");break;case"__":e.subWikify(jQuery(document.createElement("u")).appendTo(e.output).get(0),"__");break;case"^^":e.subWikify(jQuery(document.createElement("sup")).appendTo(e.output).get(0),"\\^\\^");break;case"~~":e.subWikify(jQuery(document.createElement("sub")).appendTo(e.output).get(0),"~~");break;case"==":e.subWikify(jQuery(document.createElement("s")).appendTo(e.output).get(0),"==");break;case"{{{":var t=/\{\{\{((?:.|\n)*?)\}\}\}/gm;t.lastIndex=e.matchStart;var r=t.exec(e.source);r&&r.index===e.matchStart&&(jQuery(document.createElement("code")).text(r[1]).appendTo(e.output),e.nextMatch=t.lastIndex)}}}),Wikifier.Parser.add({name:"customStyle",profiles:["core"],match:"@@",terminator:"@@",blockRe:/\s*\n/gm,handler:function(e){var t=Wikifier.helpers.inlineCss(e);this.blockRe.lastIndex=e.nextMatch;var r=this.blockRe.exec(e.source),n=r&&r.index===e.nextMatch,a=jQuery(document.createElement(n?"div":"span")).appendTo(e.output);0===t.classes.length&&""===t.id&&0===Object.keys(t.styles).length?a.addClass("marked"):(t.classes.forEach(function(e){return a.addClass(e)}),""!==t.id&&a.attr("id",t.id),a.css(t.styles)),n?(e.nextMatch+=r[0].length,e.subWikify(a[0],"\\n?"+this.terminator)):e.subWikify(a[0],this.terminator)}}),Wikifier.Parser.add({name:"verbatimText",profiles:["core"],match:'"{3}|<[Nn][Oo][Ww][Ii][Kk][Ii]>',lookahead:/(?:"{3}((?:.|\n)*?)"{3})|(?:<[Nn][Oo][Ww][Ii][Kk][Ii]>((?:.|\n)*?)<\/[Nn][Oo][Ww][Ii][Kk][Ii]>)/gm,handler:function(e){this.lookahead.lastIndex=e.matchStart;var t=this.lookahead.exec(e.source);t&&t.index===e.matchStart&&(e.nextMatch=this.lookahead.lastIndex,jQuery(document.createElement("span")).addClass("verbatim").text(t[1]||t[2]).appendTo(e.output))}}),Wikifier.Parser.add({name:"horizontalRule",profiles:["core"],match:"^----+$\\n?|<[Hh][Rr]\\s*/?>\\n?",handler:function(e){jQuery(document.createElement("hr")).appendTo(e.output)}}),Wikifier.Parser.add({name:"emdash",profiles:["core"],match:"--",handler:function(e){jQuery(document.createTextNode("—")).appendTo(e.output)}}),Wikifier.Parser.add({name:"doubleDollarSign",profiles:["core"],match:"\\${2}",handler:function(e){jQuery(document.createTextNode("$")).appendTo(e.output)}}),Wikifier.Parser.add({name:"nakedVariable",profiles:["core"],match:Patterns.variable+"(?:(?:\\."+Patterns.identifier+")|(?:\\[\\d+\\])|(?:\\[\"(?:\\\\.|[^\"\\\\])+\"\\])|(?:\\['(?:\\\\.|[^'\\\\])+'\\])|(?:\\["+Patterns.variable+"\\]))*",handler:function(e){var t=toStringOrDefault(State.getVar(e.matchText),null);null===t?jQuery(document.createTextNode(e.matchText)).appendTo(e.output):new Wikifier((Config.debug?new DebugView(e.output,"variable",e.matchText,e.matchText):e).output,t)}}),Wikifier.Parser.add({name:"template",profiles:["core"],match:"\\?"+Patterns.templateName,handler:function(e){var t=e.matchText.slice(1),r=Template.get(t),n=null;switch(r instanceof Array&&(r=r.random()),void 0===r?"undefined":_typeof(r)){case"function":try{n=toStringOrDefault(r.call({name:t}),null)}catch(r){return throwError(e.output,"cannot execute function template ?"+t+": "+r.message,e.source.slice(e.matchStart,e.nextMatch))}break;case"string":n=r}null===n?jQuery(document.createTextNode(e.matchText)).appendTo(e.output):new Wikifier((Config.debug?new DebugView(e.output,"template",e.matchText,e.matchText):e).output,n)}}),Wikifier.Parser.add({name:"heading",profiles:["block"],match:"^!{1,6}",terminator:"\\n",handler:function(e){if(!Wikifier.helpers.hasBlockContext(e.output.childNodes))return void jQuery(e.output).append(document.createTextNode(e.matchText));e.subWikify(jQuery(document.createElement("h"+e.matchLength)).appendTo(e.output).get(0),this.terminator)}}),Wikifier.Parser.add({name:"table",profiles:["block"],match:"^\\|(?:[^\\n]*)\\|(?:[fhck]?)$",lookahead:/^\|([^\n]*)\|([fhck]?)$/gm,rowTerminator:"\\|(?:[cfhk]?)$\\n?",cellPattern:"(?:\\|([^\\n\\|]*)\\|)|(\\|[cfhk]?$\\n?)",cellTerminator:"(?:\\u0020*)\\|",rowTypes:{c:"caption",f:"tfoot",h:"thead","":"tbody"},handler:function(e){if(!Wikifier.helpers.hasBlockContext(e.output.childNodes))return void jQuery(e.output).append(document.createTextNode(e.matchText));var t=jQuery(document.createElement("table")).appendTo(e.output).get(0),r=[],n=null,a=null,i=0,o=void 0;e.nextMatch=e.matchStart;do{this.lookahead.lastIndex=e.nextMatch;var s=this.lookahead.exec(e.source);if(o=s&&s.index===e.nextMatch){var u=s[2];"k"===u?(t.className=s[1],e.nextMatch+=s[0].length+1):(u!==n&&(n=u,a=jQuery(document.createElement(this.rowTypes[u])).appendTo(t)),"c"===n?(a.css("caption-side",0===i?"top":"bottom"),e.nextMatch+=1,e.subWikify(a[0],this.rowTerminator)):this.rowHandler(e,jQuery(document.createElement("tr")).appendTo(a).get(0),r),++i)}}while(o)},rowHandler:function(e,t,r){var n=this,a=new RegExp(this.cellPattern,"gm"),i=0,o=1,s=void 0;do{a.lastIndex=e.nextMatch;var u=a.exec(e.source);if(s=u&&u.index===e.nextMatch){if("~"===u[1]){var l=r[i];l&&(++l.rowCount,l.$element.attr("rowspan",l.rowCount).css("vertical-align","middle")),e.nextMatch=u.index+u[0].length-1}else if(">"===u[1])++o,e.nextMatch=u.index+u[0].length-1;else{if(u[2]){e.nextMatch=u.index+u[0].length;break}!function(){++e.nextMatch;for(var a=Wikifier.helpers.inlineCss(e),s=!1,u=!1,l=void 0;" "===e.source.substr(e.nextMatch,1);)s=!0,++e.nextMatch;"!"===e.source.substr(e.nextMatch,1)?(l=jQuery(document.createElement("th")).appendTo(t),++e.nextMatch):l=jQuery(document.createElement("td")).appendTo(t),r[i]={rowCount:1,$element:l},o>1&&(l.attr("colspan",o),o=1),e.subWikify(l[0],n.cellTerminator)," "===e.matchText.substr(e.matchText.length-2,1)&&(u=!0),a.classes.forEach(function(e){return l.addClass(e)}),""!==a.id&&l.attr("id",a.id),s&&u?a.styles["text-align"]="center":s?a.styles["text-align"]="right":u&&(a.styles["text-align"]="left"),l.css(a.styles),e.nextMatch=e.nextMatch-1}()}++i}}while(s)}}),Wikifier.Parser.add({name:"list",profiles:["block"],match:"^(?:(?:\\*+)|(?:#+))",lookahead:/^(?:(\*+)|(#+))/gm,terminator:"\\n",handler:function(e){if(!Wikifier.helpers.hasBlockContext(e.output.childNodes))return void jQuery(e.output).append(document.createTextNode(e.matchText));e.nextMatch=e.matchStart;var t=[e.output],r=null,n=0,a=void 0,i=void 0;do{this.lookahead.lastIndex=e.nextMatch;var o=this.lookahead.exec(e.source);if(a=o&&o.index===e.nextMatch){var s=o[2]?"ol":"ul",u=o[0].length;if(e.nextMatch+=o[0].length,u>n)for(i=n;i<u;++i)t.push(jQuery(document.createElement(s)).appendTo(t[t.length-1]).get(0));else if(u<n)for(i=n;i>u;--i)t.pop();else u===n&&s!==r&&(t.pop(),t.push(jQuery(document.createElement(s)).appendTo(t[t.length-1]).get(0)));n=u,r=s,e.subWikify(jQuery(document.createElement("li")).appendTo(t[t.length-1]).get(0),this.terminator)}}while(a)}}),Wikifier.Parser.add({name:"commentByBlock",profiles:["core"],match:"(?:/(?:%|\\*))|(?:\x3c!--)",lookahead:/(?:\/(%|\*)(?:(?:.|\n)*?)\1\/)|(?:<!--(?:(?:.|\n)*?)-->)/gm,handler:function(e){this.lookahead.lastIndex=e.matchStart;var t=this.lookahead.exec(e.source);t&&t.index===e.matchStart&&(e.nextMatch=this.lookahead.lastIndex)}}),Wikifier.Parser.add({name:"lineContinuation",profiles:["core"],match:"\\\\"+Patterns.spaceNoTerminator+"*\\n|\\n"+Patterns.spaceNoTerminator+"*\\\\|\\n?\\\\"+Patterns.spaceNoTerminator+"*$|^"+Patterns.spaceNoTerminator+"*\\\\\\n?",handler:function(e){e.nextMatch=e.matchStart+e.matchLength}}),Wikifier.Parser.add({name:"lineBreak",profiles:["core"],match:"\\n|<[Bb][Rr]\\s*/?>",handler:function(e){e.options.nobr||jQuery(document.createElement("br")).appendTo(e.output)}}),Wikifier.Parser.add({name:"htmlCharacterReference",profiles:["core"],match:"(?:(?:&#?[0-9A-Za-z]{2,8};|.)(?:&#?(?:x0*(?:3[0-6][0-9A-Fa-f]|1D[C-Fc-f][0-9A-Fa-f]|20[D-Fd-f][0-9A-Fa-f]|FE2[0-9A-Fa-f])|0*(?:76[89]|7[7-9][0-9]|8[0-7][0-9]|761[6-9]|76[2-7][0-9]|84[0-3][0-9]|844[0-7]|6505[6-9]|6506[0-9]|6507[0-1]));)+|&#?[0-9A-Za-z]{2,8};)",handler:function(e){jQuery(document.createDocumentFragment()).append(e.matchText).appendTo(e.output)}}),Wikifier.Parser.add({name:"xmlProlog",profiles:["core"],match:"<\\?[Xx][Mm][Ll][^>]*\\?>",handler:function(e){e.nextMatch=e.matchStart+e.matchLength}}),Wikifier.Parser.add({name:"verbatimHtml",profiles:["core"],match:"<[Hh][Tt][Mm][Ll]>",lookahead:/<[Hh][Tt][Mm][Ll]>((?:.|\n)*?)<\/[Hh][Tt][Mm][Ll]>/gm,handler:e}),Wikifier.Parser.add({name:"verbatimScriptTag",profiles:["core"],match:"<[Ss][Cc][Rr][Ii][Pp][Tt][^>]*>",lookahead:/(<[Ss][Cc][Rr][Ii][Pp][Tt]*>(?:.|\n)*?<\/[Ss][Cc][Rr][Ii][Pp][Tt]>)/gm,handler:e}),Wikifier.Parser.add({name:"styleTag",profiles:["core"],match:"<[Ss][Tt][Yy][Ll][Ee][^>]*>",lookahead:/(<[Ss][Tt][Yy][Ll][Ee]*>)((?:.|\n)*?)(<\/[Ss][Tt][Yy][Ll][Ee]>)/gm,imageMarkup:new RegExp(Patterns.cssImage,"g"),hasImageMarkup:new RegExp(Patterns.cssImage),handler:function(e){this.lookahead.lastIndex=e.matchStart;var t=this.lookahead.exec(e.source);if(t&&t.index===e.matchStart){e.nextMatch=this.lookahead.lastIndex;var r=t[2];this.hasImageMarkup.test(r)&&(this.imageMarkup.lastIndex=0,r=r.replace(this.imageMarkup,function(e){var t=Wikifier.helpers.parseSquareBracketedMarkup({source:e,matchStart:0});if(t.hasOwnProperty("error")||t.pos<e.length)return e;var r=t.source;if("data:"!==r.slice(0,5)&&Story.has(r)){var n=Story.get(r);n.tags.includes("Twine.image")&&(r=n.text)}return'url("'+r.replace(/"/g,"%22")+'")'})),jQuery(document.createDocumentFragment()).append(t[1]+r+t[3]).appendTo(e.output)}}}),Wikifier.Parser.add({name:"svgTag",profiles:["core"],match:"<[Ss][Vv][Gg][^>]*>",lookahead:/(<[Ss][Vv][Gg][^>]*>(?:.|\n)*?<\/[Ss][Vv][Gg]>)/gm,namespace:"http://www.w3.org/2000/svg",handler:function(e){var t=this;this.lookahead.lastIndex=e.matchStart;var r=this.lookahead.exec(e.source);if(r&&r.index===e.matchStart){e.nextMatch=this.lookahead.lastIndex;var n=jQuery(document.createDocumentFragment()).append(r[1]);n.find("a[data-passage],image[data-passage]").each(function(r,n){var a=n.tagName.toLowerCase();try{t.processAttributeDirectives(n)}catch(t){return throwError(e.output,"svg|<"+a+">: "+t.message,e.matchText+"…")}n.hasAttribute("data-passage")&&t.processDataAttributes(n,a)}),n.appendTo(e.output)}},processAttributeDirectives:function(e){[].concat(_toConsumableArray(e.attributes)).forEach(function(t){var r=t.name,n=t.value,a="@"===r[0];if(a||r.startsWith("sc-eval:")){var i=r.slice(a?1:8);if("data-setter"===i)throw new Error('evaluation directive is not allowed on the data-setter attribute: "'+r+'"');var o=void 0;try{o=Scripting.evalTwineScript(n)}catch(e){throw new Error('bad evaluation from attribute directive "'+r+'": '+e.message)}try{e.setAttribute(i,o),e.removeAttribute(r)}catch(e){throw new Error('cannot transform attribute directive "'+r+'" into attribute "'+i+'"')}}})},processDataAttributes:function(e,t){var r=e.getAttribute("data-passage");if(null!=r){var n=Wikifier.helpers.evalPassageId(r);if(n!==r&&(r=n,e.setAttribute("data-passage",n)),""!==r)if("image"===t)"data:"!==r.slice(0,5)&&Story.has(r)&&(r=Story.get(r),r.tags.includes("Twine.image")&&e.setAttribute("href",r.text.trim()));else{var a=e.getAttribute("data-setter"),i=void 0;null!=a&&""!==(a=String(a).trim())&&(i=Wikifier.helpers.createShadowSetterCallback(Scripting.parse(a))),Story.has(r)?(e.classList.add("link-internal"),Config.addVisitedLinkClass&&State.hasPlayed(r)&&e.classList.add("link-visited")):e.classList.add("link-broken"),jQuery(e).ariaClick({one:!0},function(){"function"==typeof i&&i.call(this),Engine.play(r)})}}}}),Wikifier.Parser.add({name:"htmlTag",profiles:["core"],match:"<\\w+(?:\\s+[^\\u0000-\\u001F\\u007F-\\u009F\\s\"'>\\/=]+(?:\\s*=\\s*(?:\"[^\"]*?\"|'[^']*?'|[^\\s\"'=<>`]+))?)*\\s*\\/?>",tagRe:/^<(\w+)/,mediaTags:["audio","img","source","track","video"],nobrTags:["audio","colgroup","datalist","dl","figure","meter","ol","optgroup","picture","progress","ruby","select","table","tbody","tfoot","thead","tr","ul","video"],voidTags:["area","base","br","col","embed","hr","img","input","keygen","link","menuitem","meta","param","source","track","wbr"],handler:function(e){var t=this.tagRe.exec(e.matchText),r=t&&t[1],n=r&&r.toLowerCase();if(n){var a=this.voidTags.includes(n)||e.matchText.endsWith("/>"),i=this.nobrTags.includes(n),o=void 0,s=void 0;if(!a){o="<\\/"+n+"\\s*>";var u=new RegExp(o,"gim");u.lastIndex=e.matchStart,s=u.exec(e.source)}if(!a&&!s)return throwError(e.output,"cannot find a closing tag for HTML <"+r+">",e.matchText+"…");var l=e.output,c=document.createElement(e.output.tagName),d=void 0;for(c.innerHTML=e.matchText;c.firstChild;)c=c.firstChild;try{this.processAttributeDirectives(c)}catch(t){return throwError(e.output,"<"+n+">: "+t.message,e.matchText+"…")}if(c.hasAttribute("data-passage")&&(this.processDataAttributes(c,n),Config.debug&&(d=new DebugView(e.output,"html-"+n,n,e.matchText),d.modes({block:"img"===n,nonvoid:s}),l=d.output)),s){try{Wikifier.Option.push({nobr:i}),e.subWikify(c,o,{ignoreTerminatorCase:!0})}finally{Wikifier.Option.pop()}d&&jQuery(c).find(".debug.block").length>0&&d.modes({block:!0})}l.appendChild("track"===n?c.cloneNode(!0):c)}},processAttributeDirectives:function(e){[].concat(_toConsumableArray(e.attributes)).forEach(function(t){var r=t.name,n=t.value,a="@"===r[0];if(a||r.startsWith("sc-eval:")){var i=r.slice(a?1:8);if("data-setter"===i)throw new Error('evaluation directive is not allowed on the data-setter attribute: "'+r+'"');var o=void 0;try{o=Scripting.evalTwineScript(n)}catch(e){throw new Error('bad evaluation from attribute directive "'+r+'": '+e.message)}try{e.setAttribute(i,o),e.removeAttribute(r)}catch(e){throw new Error('cannot transform attribute directive "'+r+'" into attribute "'+i+'"')}}})},processDataAttributes:function(e,t){var r=e.getAttribute("data-passage");if(null!=r){var n=Wikifier.helpers.evalPassageId(r);if(n!==r&&(r=n,e.setAttribute("data-passage",n)),""!==r)if(this.mediaTags.includes(t)){if("data:"!==r.slice(0,5)&&Story.has(r)){r=Story.get(r);var a=void 0,i=void 0;switch(t){case"audio":case"video":i="Twine."+t;break;case"img":i="Twine.image";break;case"track":i="Twine.vtt";break;case"source":var o=$(e).closest("audio,picture,video");o.length&&(a=o.get(0).tagName.toLowerCase(),i="Twine."+("picture"===a?"image":a))}r.tags.includes(i)&&(e["picture"===a?"srcset":"src"]=r.text.trim())}}else{var s=e.getAttribute("data-setter"),u=void 0;null!=s&&""!==(s=String(s).trim())&&(u=Wikifier.helpers.createShadowSetterCallback(Scripting.parse(s))),Story.has(r)?(e.classList.add("link-internal"),Config.addVisitedLinkClass&&State.hasPlayed(r)&&e.classList.add("link-visited")):e.classList.add("link-broken"),jQuery(e).ariaClick({one:!0},function(){"function"==typeof u&&u.call(this),Engine.play(r)})}}}})}();var Template=function(){function e(e,t){if(!(s(t)||t instanceof Array&&t.length>0&&t.every(s)))throw new TypeError("invalid template type ("+e+"); templates must be: functions, strings, or an array of either");(e instanceof Array?e:[e]).forEach(function(e){if(!o.test(e))throw new Error('invalid template name "'+e+'"');if(i.has(e))throw new Error("cannot clobber existing template ?"+e);i.set(e,t)})}function t(e){(e instanceof Array?e:[e]).forEach(function(e){return i.delete(e)})}function r(e){return i.has(e)?i.get(e):null}function n(e){return i.has(e)}function a(){return i.size}var i=new Map,o=new RegExp("^(?:"+Patterns.templateName+")$"),s=function(e){var t=void 0===e?"undefined":_typeof(e);return"function"===t||"string"===t};return Object.freeze(Object.defineProperties({},{add:{value:e},delete:{value:t},get:{value:r},has:{value:n},size:{get:a}}))}(),Macro=function(){function e(t,r,a){if(Array.isArray(t))return void t.forEach(function(t){return e(t,r,a)});if(!f.test(t))throw new Error('invalid macro name "'+t+'"');if(n(t))throw new Error("cannot clobber existing macro <<"+t+">>");if(u(t))throw new Error("cannot clobber child tag <<"+t+">> of parent macro"+(1===d[t].length?"":"s")+" <<"+d[t].join(">>, <<")+">>");try{if("object"===(void 0===r?"undefined":_typeof(r)))c[t]=a?clone(r):r;else{if(!n(r))throw new Error("cannot create alias of nonexistent macro <<"+r+">>");c[t]=a?clone(c[r]):c[r]}Object.defineProperty(c,t,{writable:!1}),c[t]._MACRO_API=!0}catch(e){throw"TypeError"===e.name?new Error("cannot clobber protected macro <<"+t+">>"):new Error("unknown error when attempting to add macro <<"+t+">>: ["+e.name+"] "+e.message)}if(c[t].hasOwnProperty("tags"))if(null==c[t].tags)o(t);else{if(!Array.isArray(c[t].tags))throw new Error('bad value for "tags" property of macro <<'+t+">>");o(t,c[t].tags)}}function t(e){if(Array.isArray(e))return void e.forEach(function(e){return t(e)});if(n(e)){c[e].hasOwnProperty("tags")&&s(e);try{Object.defineProperty(c,e,{writable:!0}),delete c[e]}catch(t){throw new Error("unknown error removing macro <<"+e+">>: "+t.message)}}else if(u(e))throw new Error("cannot remove child tag <<"+e+">> of parent macro <<"+d[e]+">>")}function r(){return 0===Object.keys(c).length}function n(e){return c.hasOwnProperty(e)}function a(e){var t=null;return n(e)&&"function"==typeof c[e].handler?t=c[e]:macros.hasOwnProperty(e)&&"function"==typeof macros[e].handler&&(t=macros[e]),t}function i(){var e=arguments.length>0&&arguments[0]!==undefined?arguments[0]:"init";Object.keys(c).forEach(function(t){"function"==typeof c[t][e]&&c[t][e](t)}),Object.keys(macros).forEach(function(t){"function"==typeof macros[t][e]&&macros[t][e](t)})}function o(e,t){if(!e)throw new Error("no parent specified");for(var r=["/"+e,"end"+e],a=[].concat(r,Array.isArray(t)?t:[]),i=0;i<a.length;++i){var o=a[i];if(n(o))throw new Error("cannot register tag for an existing macro");u(o)?d[o].includes(e)||(d[o].push(e),d[o].sort()):d[o]=[e]}}function s(e){if(!e)throw new Error("no parent specified");Object.keys(d).forEach(function(t){var r=d[t].indexOf(e);-1!==r&&(1===d[t].length?delete d[t]:d[t].splice(r,1))})}function u(e){return d.hasOwnProperty(e)}function l(e){return u(e)?d[e]:null}var c={},d={},f=new RegExp("^(?:"+Patterns.macroName+")$");return Object.freeze(Object.defineProperties({},{add:{value:e},delete:{value:t},isEmpty:{value:r},has:{value:n},get:{value:a},init:{value:i},tags:{value:Object.freeze(Object.defineProperties({},{register:{value:o},unregister:{value:s},has:{value:u},get:{value:l}}))},evalStatements:{value:function(){return Scripting.evalJavaScript.apply(Scripting,arguments)}}}))}(),MacroContext=function(){return function(){function e(t){_classCallCheck(this,e);var r=Object.assign({parent:null,macro:null,name:"",args:null,payload:null,parser:null,source:""},t);if(null===r.macro||""===r.name||null===r.parser)throw new TypeError("context object missing required properties");Object.defineProperties(this,{self:{value:r.macro},name:{value:r.name},args:{value:r.args},payload:{value:r.payload},source:{value:r.source},parent:{value:r.parent},parser:{value:r.parser},_output:{value:r.parser.output},_shadows:{writable:!0,value:null},_debugView:{writable:!0,value:null},_debugViewEnabled:{writable:!0,value:Config.debug}})}return _createClass(e,[{key:"contextHas",value:function(e){for(var t=this;null!==(t=t.parent);)if(e(t))return!0;return!1}},{key:"contextSelect",value:function(e){for(var t=this;null!==(t=t.parent);)if(e(t))return t;return null}},{key:"contextSelectAll",value:function(e){for(var t=[],r=this;null!==(r=r.parent);)e(r)&&t.push(r);return t}},{key:"addShadow",value:function(){var e=this;this._shadows||(this._shadows=new Set);for(var t=new RegExp("^"+Patterns.variable+"$"),r=arguments.length,n=Array(r),a=0;a<r;a++)n[a]=arguments[a];n.flat(1/0).forEach(function(r){if("string"!=typeof r)throw new TypeError("variable name must be a string; type: "+(void 0===r?"undefined":_typeof(r)));if(!t.test(r))throw new Error('invalid variable name "'+r+'"');e._shadows.add(r)})}},{key:"createShadowWrapper",value:function(e,t,r){var n=this,a=void 0;return"function"==typeof e&&(a={},this.shadowView.forEach(function(e){var t=e.slice(1),r="$"===e[0]?State.variables:State.temporary;a[e]=r[t]})),function(){for(var i=arguments.length,o=Array(i),s=0;s<i;s++)o[s]=arguments[s];if("function"==typeof r&&r.apply(this,o),"function"==typeof e){var u=Object.keys(a),l=u.length>0?{}:null,c=Wikifier.Parser.get("macro"),d=void 0;try{u.forEach(function(e){var t=e.slice(1),r="$"===e[0]?State.variables:State.temporary;r.hasOwnProperty(t)&&(l[t]=r[t]),r[t]=a[e]}),d=c.context,c.context=n,e.apply(this,o)}finally{d!==undefined&&(c.context=d),u.forEach(function(e){var t=e.slice(1),r="$"===e[0]?State.variables:State.temporary;a[e]=r[t],l.hasOwnProperty(t)?r[t]=l[t]:delete r[t]})}}"function"==typeof t&&t.apply(this,o)}}},{key:"createDebugView",value:function(e,t){return this._debugView=new DebugView(this._output,"macro",e||this.name,t||this.source),null!==this.payload&&this.payload.length>0&&this._debugView.modes({nonvoid:!0}),this._debugViewEnabled=!0,this._debugView}},{key:"removeDebugView",value:function(){null!==this._debugView&&(this._debugView.remove(),this._debugView=null),this._debugViewEnabled=!1}},{key:"error",value:function(e,t){return throwError(this._output,"<<"+this.name+">>: "+e,t||this.source)}},{key:"output",get:function(){return this._debugViewEnabled?this.debugView.output:this._output}},{key:"shadows",get:function(){return[].concat(_toConsumableArray(this._shadows))}},{key:"shadowView",get:function(){var e=new Set;return this.contextSelectAll(function(e){return e._shadows}).forEach(function(t){return t._shadows.forEach(function(t){return e.add(t)})}),[].concat(_toConsumableArray(e))}},{key:"debugView",get:function(){return this._debugViewEnabled?null!==this._debugView?this._debugView:this.createDebugView():null}}]),e}()}();!function(){if(Macro.add("capture",{skipArgs:!0,tags:null,handler:function(){if(0===this.args.raw.length)return this.error("no story/temporary variable list specified");var e={};try{for(var t=new RegExp("("+Patterns.variable+")","g"),r=void 0;null!==(r=t.exec(this.args.raw));){var n=r[1],a=n.slice(1),i="$"===n[0]?State.variables:State.temporary;i.hasOwnProperty(a)&&(e[a]=i[a]),this.addShadow(n)}new Wikifier(this.output,this.payload[0].contents)}finally{this.shadows.forEach(function(t){var r=t.slice(1),n="$"===t[0]?State.variables:State.temporary;e.hasOwnProperty(r)?n[r]=e[r]:delete n[r]})}}}),Macro.add("set",{skipArgs:!0,handler:function(){if(0===this.args.full.length)return this.error("no expression specified");try{Scripting.evalJavaScript(this.args.full)}catch(e){return this.error("bad evaluation: "+("object"===(void 0===e?"undefined":_typeof(e))?e.message:e))}Config.debug&&this.debugView.modes({hidden:!0})}}),Macro.add("unset",{skipArgs:!0,handler:function(){if(0===this.args.full.length)return this.error("no story/temporary variable list specified");for(var e=new RegExp("State\\.(variables|temporary)\\.("+Patterns.identifier+")","g"),t=void 0;null!==(t=e.exec(this.args.full));){var r=State[t[1]],n=t[2];r.hasOwnProperty(n)&&delete r[n]}Config.debug&&this.debugView.modes({hidden:!0})}}),Macro.add("remember",{skipArgs:!0,handler:function(){if(0===this.args.full.length)return this.error("no expression specified");try{Scripting.evalJavaScript(this.args.full)}catch(e){return this.error("bad evaluation: "+("object"===(void 0===e?"undefined":_typeof(e))?e.message:e))}for(var e=storage.get("remember")||{},t=new RegExp("State\\.variables\\.("+Patterns.identifier+")","g"),r=void 0;null!==(r=t.exec(this.args.full));){var n=r[1];e[n]=State.variables[n]}if(!storage.set("remember",e))return this.error("unknown error, cannot remember: "+this.args.raw);Config.debug&&this.debugView.modes({hidden:!0})},init:function(){var e=storage.get("remember");e&&Object.keys(e).forEach(function(t){return State.variables[t]=e[t]})}}),Macro.add("forget",{skipArgs:!0,handler:function(){if(0===this.args.full.length)return this.error("no story variable list specified");for(var e=storage.get("remember"),t=new RegExp("State\\.variables\\.("+Patterns.identifier+")","g"),r=void 0,n=!1;null!==(r=t.exec(this.args.full));){var a=r[1];State.variables.hasOwnProperty(a)&&delete State.variables[a],e&&e.hasOwnProperty(a)&&(n=!0,delete e[a])}if(n)if(0===Object.keys(e).length){if(!storage.delete("remember"))return this.error("unknown error, cannot update remember store")}else if(!storage.set("remember",e))return this.error("unknown error, cannot update remember store");Config.debug&&this.debugView.modes({hidden:!0})}}),Macro.add("run","set"),Macro.add("script",{skipArgs:!0,tags:null,handler:function(){var e=document.createDocumentFragment();try{Scripting.evalJavaScript(this.payload[0].contents,e)}catch(e){return this.error("bad evaluation: "+("object"===(void 0===e?"undefined":_typeof(e))?e.message:e))}Config.debug&&this.createDebugView(),e.hasChildNodes()&&this.output.appendChild(e)}}),Macro.add("include",{handler:function(){if(0===this.args.length)return this.error("no passage specified");var e=void 0;if(e="object"===_typeof(this.args[0])?this.args[0].link:this.args[0],!Story.has(e))return this.error('passage "'+e+'" does not exist');Config.debug&&this.debugView.modes({block:!0}),e=Story.get(e);var t=void 0;t=this.args[1]?jQuery(document.createElement(this.args[1])).addClass(e.domId+" macro-"+this.name).attr("data-passage",e.title).appendTo(this.output):jQuery(this.output),t.wiki(e.processText())}}),Macro.add("nobr",{skipArgs:!0,tags:null,handler:function(){
new Wikifier(this.output,this.payload[0].contents.replace(/^\n+|\n+$/g,"").replace(/\n+/g," "))}}),Macro.add(["print","=","-"],{skipArgs:!0,handler:function(){if(0===this.args.full.length)return this.error("no expression specified");try{var e=toStringOrDefault(Scripting.evalJavaScript(this.args.full),null);null!==e&&new Wikifier(this.output,"-"===this.name?Util.escape(e):e)}catch(e){return this.error("bad evaluation: "+("object"===(void 0===e?"undefined":_typeof(e))?e.message:e))}}}),Macro.add("silently",{skipArgs:!0,tags:null,handler:function(){var e=document.createDocumentFragment();if(new Wikifier(e,this.payload[0].contents.trim()),Config.debug)this.debugView.modes({block:!0,hidden:!0}),this.output.appendChild(e);else{var t=[].concat(_toConsumableArray(e.querySelectorAll(".error"))).map(function(e){return e.textContent});if(t.length>0)return this.error("error"+(1===t.length?"":"s")+" within contents ("+t.join("; ")+")")}}}),Macro.add("display","include"),Macro.add("if",{skipArgs:!0,tags:["elseif","else"],handler:function(){var e=void 0;try{var t=this.payload.length;for(e=0;e<t;++e)switch(this.payload[e].name){case"else":if(this.payload[e].args.raw.length>0)return/^\s*if\b/i.test(this.payload[e].args.raw)?this.error('whitespace is not allowed between the "else" and "if" in <<elseif>> clause'+(e>0?" (#"+e+")":"")):this.error("<<else>> does not accept a conditional expression (perhaps you meant to use <<elseif>>), invalid: "+this.payload[e].args.raw);if(e+1!==t)return this.error("<<else>> must be the final clause");break;default:if(0===this.payload[e].args.full.length)return this.error("no conditional expression specified for <<"+this.payload[e].name+">> clause"+(e>0?" (#"+e+")":""));if(Config.macros.ifAssignmentError&&/[^!=&^|<>*\/%+-]=[^=>]/.test(this.payload[e].args.full))return this.error("assignment operator found within <<"+this.payload[e].name+">> clause"+(e>0?" (#"+e+")":"")+" (perhaps you meant to use an equality operator: ==, ===, eq, is), invalid: "+this.payload[e].args.raw)}var r=Scripting.evalJavaScript,n=!1;for(e=0;e<t;++e){if(Config.debug&&this.createDebugView(this.payload[e].name,this.payload[e].source).modes({nonvoid:!1}),"else"===this.payload[e].name||r(this.payload[e].args.full)){n=!0,new Wikifier(this.output,this.payload[e].contents);break}Config.debug&&this.debugView.modes({hidden:!0,invalid:!0})}if(Config.debug){for(++e;e<t;++e)this.createDebugView(this.payload[e].name,this.payload[e].source).modes({nonvoid:!1,hidden:!0,invalid:!0});this.createDebugView("/"+this.name,"<</"+this.name+">>").modes({nonvoid:!1,hidden:!n,invalid:!n})}}catch(t){return this.error("bad conditional expression in <<"+(0===e?"if":"elseif")+">> clause"+(e>0?" (#"+e+")":"")+": "+("object"===(void 0===t?"undefined":_typeof(t))?t.message:t))}}}),Macro.add("switch",{skipArgs:["switch"],tags:["case","default"],handler:function(){if(0===this.args.full.length)return this.error("no expression specified");var e=this.payload.length;if(1===e)return this.error("no cases specified");var t=void 0;for(t=1;t<e;++t)switch(this.payload[t].name){case"default":if(this.payload[t].args.length>0)return this.error("<<default>> does not accept values, invalid: "+this.payload[t].args.raw);if(t+1!==e)return this.error("<<default>> must be the final case");break;default:if(0===this.payload[t].args.length)return this.error("no value(s) specified for <<"+this.payload[t].name+">> (#"+t+")")}var r=void 0;try{r=Scripting.evalJavaScript(this.args.full)}catch(e){return this.error("bad evaluation: "+("object"===(void 0===e?"undefined":_typeof(e))?e.message:e))}var n=this.debugView,a=!1;for(Config.debug&&n.modes({nonvoid:!1,hidden:!0}),t=1;t<e;++t){if(Config.debug&&this.createDebugView(this.payload[t].name,this.payload[t].source).modes({nonvoid:!1}),"default"===this.payload[t].name||this.payload[t].args.some(function(e){return e===r})){a=!0,new Wikifier(this.output,this.payload[t].contents);break}Config.debug&&this.debugView.modes({hidden:!0,invalid:!0})}if(Config.debug){for(++t;t<e;++t)this.createDebugView(this.payload[t].name,this.payload[t].source).modes({nonvoid:!1,hidden:!0,invalid:!0});n.modes({nonvoid:!1,hidden:!0,invalid:!a}),this.createDebugView("/"+this.name,"<</"+this.name+">>").modes({nonvoid:!1,hidden:!0,invalid:!a})}}}),Macro.add("for",{skipArgs:!0,tags:null,_hasRangeRe:new RegExp("^\\S"+Patterns.anyChar+"*?\\s+range\\s+\\S"+Patterns.anyChar+"*?$"),_rangeRe:new RegExp("^(?:State\\.(variables|temporary)\\.("+Patterns.identifier+")\\s*,\\s*)?State\\.(variables|temporary)\\.("+Patterns.identifier+")\\s+range\\s+(\\S"+Patterns.anyChar+"*?)$"),_3PartRe:/^([^;]*?)\s*;\s*([^;]*?)\s*;\s*([^;]*?)$/,handler:function(){var e=this.args.full.trim(),t=this.payload[0].contents.replace(/\n$/,"");if(0===e.length)this.self._handleFor.call(this,t,null,!0,null);else if(this.self._hasRangeRe.test(e)){var r=e.match(this.self._rangeRe);if(null===r)return this.error("invalid range form syntax, format: [index ,] value range collection");this.self._handleForRange.call(this,t,{type:r[1],name:r[2]},{type:r[3],name:r[4]},r[5])}else{var n=void 0,a=void 0,i=void 0;if(-1===e.indexOf(";")){if(/^\S+\s+in\s+\S+/i.test(e))return this.error("invalid syntax, for…in is not supported; see: for…range");if(/^\S+\s+of\s+\S+/i.test(e))return this.error("invalid syntax, for…of is not supported; see: for…range");a=e}else{var o=e.match(this.self._3PartRe);if(null===o)return this.error("invalid 3-part conditional form syntax, format: [init] ; [condition] ; [post]");n=o[1],a=o[2].trim(),i=o[3],0===a.length&&(a=!0)}this.self._handleFor.call(this,t,n,a,i)}},_handleFor:function(e,t,r,n){var a=Scripting.evalJavaScript,i=!0,o=Config.macros.maxLoopIterations;Config.debug&&this.debugView.modes({block:!0});try{if(TempState.break=null,t)try{a(t)}catch(e){return this.error("bad init expression: "+("object"===(void 0===e?"undefined":_typeof(e))?e.message:e))}for(;a(r);){if(--o<0)return this.error("exceeded configured maximum loop iterations ("+Config.macros.maxLoopIterations+")");if(new Wikifier(this.output,i?e.replace(/^\n/,""):e),i&&(i=!1),null!=TempState.break)if(1===TempState.break)TempState.break=null;else if(2===TempState.break){TempState.break=null;break}if(n)try{a(n)}catch(e){return this.error("bad post expression: "+("object"===(void 0===e?"undefined":_typeof(e))?e.message:e))}}}catch(e){return this.error("bad conditional expression: "+("object"===(void 0===e?"undefined":_typeof(e))?e.message:e))}finally{TempState.break=null}},_handleForRange:function(e,t,r,n){var a=!0,i=void 0;try{i=this.self._toRangeList(n)}catch(e){return this.error(e.message)}Config.debug&&this.debugView.modes({block:!0});try{TempState.break=null;for(var o=0;o<i.length;++o)if(t.name&&(State[t.type][t.name]=i[o][0]),State[r.type][r.name]=i[o][1],new Wikifier(this.output,a?e.replace(/^\n/,""):e),a&&(a=!1),null!=TempState.break)if(1===TempState.break)TempState.break=null;else if(2===TempState.break){TempState.break=null;break}}catch(e){return this.error("object"===(void 0===e?"undefined":_typeof(e))?e.message:e)}finally{TempState.break=null}},_toRangeList:function(e){var t=Scripting.evalJavaScript,r=void 0;try{r=t("{"===e[0]?"("+e+")":e)}catch(e){if("object"!==(void 0===e?"undefined":_typeof(e)))throw new Error("bad range expression: "+e);throw e.message="bad range expression: "+e.message,e}var n=void 0;switch(void 0===r?"undefined":_typeof(r)){case"string":n=[];for(var a=0;a<r.length;){var i=Util.charAndPosAt(r,a);n.push([a,i.char]),a=1+i.end}break;case"object":if(Array.isArray(r))n=r.map(function(e,t){return[t,e]});else if(r instanceof Set)n=[].concat(_toConsumableArray(r)).map(function(e,t){return[t,e]});else if(r instanceof Map)n=[].concat(_toConsumableArray(r.entries()));else{if("Object"!==Util.toStringTag(r))throw new Error("unsupported range expression type: "+Util.toStringTag(r));n=Object.keys(r).map(function(e){return[e,r[e]]})}break;default:throw new Error("unsupported range expression type: "+(void 0===r?"undefined":_typeof(r)))}return n}}),Macro.add(["break","continue"],{skipArgs:!0,handler:function(){if(!this.contextHas(function(e){return"for"===e.name}))return this.error("must only be used in conjunction with its parent macro <<for>>");TempState.break="continue"===this.name?1:2,Config.debug&&this.debugView.modes({hidden:!0})}}),Macro.add(["button","link"],{isAsync:!0,tags:null,handler:function(){var e=this;if(0===this.args.length)return this.error("no "+("button"===this.name?"button":"link")+" text specified");var t=jQuery(document.createElement("button"===this.name?"button":"a")),r=void 0;if("object"===_typeof(this.args[0]))if(this.args[0].isImage){var n=jQuery(document.createElement("img")).attr("src",this.args[0].source).appendTo(t);this.args[0].hasOwnProperty("passage")&&n.attr("data-passage",this.args[0].passage),this.args[0].hasOwnProperty("title")&&n.attr("title",this.args[0].title),this.args[0].hasOwnProperty("align")&&n.attr("align",this.args[0].align),r=this.args[0].link}else t.append(document.createTextNode(this.args[0].text)),r=this.args[0].link;else t.wikiWithOptions({profile:"core"},this.args[0]),r=this.args.length>1?this.args[1]:undefined;null!=r?(t.attr("data-passage",r),Story.has(r)?(t.addClass("link-internal"),Config.addVisitedLinkClass&&State.hasPlayed(r)&&t.addClass("link-visited")):t.addClass("link-broken")):t.addClass("link-internal"),t.addClass("macro-"+this.name).ariaClick({namespace:".macros",one:null!=r},this.createShadowWrapper(""!==this.payload[0].contents?function(){return Wikifier.wikifyEval(e.payload[0].contents.trim())}:null,null!=r?function(){return Engine.play(r)}:null)).appendTo(this.output)}}),Macro.add("checkbox",{isAsync:!0,handler:function(){if(this.args.length<3){var e=[];return this.args.length<1&&e.push("variable name"),this.args.length<2&&e.push("unchecked value"),this.args.length<3&&e.push("checked value"),this.error("no "+e.join(" or ")+" specified")}if("string"!=typeof this.args[0])return this.error("variable name argument is not a string");var t=this.args[0].trim();if("$"!==t[0]&&"_"!==t[0])return this.error('variable name "'+this.args[0]+'" is missing its sigil ($ or _)');var r=Util.slugify(t),n=this.args[1],a=this.args[2],i=document.createElement("input");jQuery(i).attr({id:this.name+"-"+r,name:this.name+"-"+r,type:"checkbox",tabindex:0}).addClass("macro-"+this.name).on("change.macros",this.createShadowWrapper(function(){State.setVar(t,this.checked?a:n)})).appendTo(this.output),this.args.length>3&&"checked"===this.args[3]?(i.checked=!0,State.setVar(t,a)):State.setVar(t,n)}}),Macro.add(["cycle","listbox"],{isAsync:!0,skipArgs:["optionsfrom"],tags:["option","optionsfrom"],handler:function(){var e=this;if(0===this.args.length)return this.error("no variable name specified");if("string"!=typeof this.args[0])return this.error("variable name argument is not a string");var t=this.args[0].trim();if("$"!==t[0]&&"_"!==t[0])return this.error('variable name "'+this.args[0]+'" is missing its sigil ($ or _)');var r=Util.slugify(t),n=this.payload.length;if(1===n)return this.error("no options specified");for(var a=this.args.length>1&&"autoselect"===this.args[1],i=[],o={option:0,optionsfrom:0},s=-1,u=1;u<n;++u){var l=this.payload[u];if("option"===l.name){if(++o.option,0===l.args.length)return this.error("no arguments specified for <<"+l.name+">> (#"+o.option+")");if(i.push({label:String(l.args[0]),value:1===l.args.length?l.args[0]:l.args[1]}),l.args.length>2&&"selected"===l.args[2]){if(a)return this.error("cannot specify both the autoselect and selected keywords");if(-1!==s)return this.error("multiple selected keywords specified for <<"+l.name+">> (#"+(s+1)+" & #"+o.option+")");s=i.length-1}}else{var c=function(){if(++o.optionsfrom,0===l.args.full.length)return{v:e.error("no expression specified for <<"+l.name+">> (#"+o.optionsfrom+")")};var t=void 0;try{var r=l.args.full;t=Scripting.evalJavaScript("{"===r[0]?"("+r+")":r)}catch(t){return{v:e.error("bad evaluation: "+("object"===(void 0===t?"undefined":_typeof(t))?t.message:t))}}if("object"!==(void 0===t?"undefined":_typeof(t))||null===t)return{v:e.error("expression must yield a supported collection or generic object (type: "+(null===t?"null":void 0===t?"undefined":_typeof(t))+")")};if(t instanceof Array||t instanceof Set)t.forEach(function(e){return i.push({label:String(e),value:e})});else if(t instanceof Map)t.forEach(function(e,t){return i.push({label:String(t),value:e})});else{var n=Util.toStringTag(t);if("Object"!==n)return{v:e.error("expression must yield a supported collection or generic object (object type: "+n+")")};Object.keys(t).forEach(function(e){return i.push({label:e,value:t[e]})})}}();if("object"===(void 0===c?"undefined":_typeof(c)))return c.v}}if(-1===s)if(a){var d=Util.sameValueZero,f=State.getVar(t),p=i.findIndex(function(e){return d(e.value,f)});s=-1===p?0:p}else s=0;if("cycle"===this.name){var h=s;jQuery(document.createElement("a")).wikiWithOptions({profile:"core"},i[s].label).attr("id",this.name+"-"+r).addClass("macro-"+this.name).ariaClick({namespace:".macros"},this.createShadowWrapper(function(){h=(h+1)%i.length,$(this).empty().wikiWithOptions({profile:"core"},i[h].label),State.setVar(t,i[h].value)})).appendTo(this.output)}else{var g=jQuery(document.createElement("select"));i.forEach(function(e,t){jQuery(document.createElement("option")).val(t).text(e.label).appendTo(g)}),g.attr({id:this.name+"-"+r,name:this.name+"-"+r,tabindex:0}).addClass("macro-"+this.name).val(s).on("change.macros",this.createShadowWrapper(function(){State.setVar(t,i[Number(this.value)].value)})).appendTo(this.output)}State.setVar(t,i[s].value)}}),Macro.add(["linkappend","linkprepend","linkreplace"],{isAsync:!0,tags:null,handler:function(){var e=this;if(0===this.args.length)return this.error("no link text specified");var t=jQuery(document.createElement("a")),r=jQuery(document.createElement("span")),n=this.args.length>1&&/^(?:transition|t8n)$/.test(this.args[1]);t.wikiWithOptions({profile:"core"},this.args[0]).addClass("link-internal macro-"+this.name).ariaClick({namespace:".macros",one:!0},this.createShadowWrapper(function(){if("linkreplace"===e.name?t.remove():t.wrap('<span class="macro-'+e.name+'"></span>').replaceWith(function(){return t.html()}),""!==e.payload[0].contents){var a=document.createDocumentFragment();new Wikifier(a,e.payload[0].contents),r.append(a)}n&&setTimeout(function(){return r.removeClass("macro-"+e.name+"-in")},Engine.minDomActionDelay)})).appendTo(this.output),r.addClass("macro-"+this.name+"-insert"),n&&r.addClass("macro-"+this.name+"-in"),"linkprepend"===this.name?r.insertBefore(t):r.insertAfter(t)}}),Macro.add("radiobutton",{isAsync:!0,handler:function(){if(this.args.length<2){var e=[];return this.args.length<1&&e.push("variable name"),this.args.length<2&&e.push("checked value"),this.error("no "+e.join(" or ")+" specified")}if("string"!=typeof this.args[0])return this.error("variable name argument is not a string");var t=this.args[0].trim();if("$"!==t[0]&&"_"!==t[0])return this.error('variable name "'+this.args[0]+'" is missing its sigil ($ or _)');var r=Util.slugify(t),n=this.args[1],a=document.createElement("input");TempState.hasOwnProperty(this.name)||(TempState[this.name]={}),TempState[this.name].hasOwnProperty(r)||(TempState[this.name][r]=0),jQuery(a).attr({id:this.name+"-"+r+"-"+TempState[this.name][r]++,name:this.name+"-"+r,type:"radio",tabindex:0}).addClass("macro-"+this.name).on("change.macros",this.createShadowWrapper(function(){this.checked&&State.setVar(t,n)})).appendTo(this.output),this.args.length>2&&"checked"===this.args[2]&&(a.checked=!0,State.setVar(t,n))}}),Macro.add("textarea",{isAsync:!0,handler:function(){if(this.args.length<2){var e=[];return this.args.length<1&&e.push("variable name"),this.args.length<2&&e.push("default value"),this.error("no "+e.join(" or ")+" specified")}if("string"!=typeof this.args[0])return this.error("variable name argument is not a string");var t=this.args[0].trim();if("$"!==t[0]&&"_"!==t[0])return this.error('variable name "'+this.args[0]+'" is missing its sigil ($ or _)');Config.debug&&this.debugView.modes({block:!0});var r=Util.slugify(t),n=this.args[1],a="autofocus"===this.args[2],i=document.createElement("textarea");jQuery(i).attr({id:this.name+"-"+r,name:this.name+"-"+r,rows:4,tabindex:0}).addClass("macro-"+this.name).on("change.macros",this.createShadowWrapper(function(){State.setVar(t,this.value)})).appendTo(this.output),State.setVar(t,n),i.textContent=n,a&&(i.setAttribute("autofocus","autofocus"),postdisplay["#autofocus:"+i.id]=function(e){delete postdisplay[e],setTimeout(function(){return i.focus()},Engine.minDomActionDelay)})}}),Macro.add("textbox",{isAsync:!0,handler:function(){if(this.args.length<2){var e=[];return this.args.length<1&&e.push("variable name"),this.args.length<2&&e.push("default value"),this.error("no "+e.join(" or ")+" specified")}if("string"!=typeof this.args[0])return this.error("variable name argument is not a string");var t=this.args[0].trim();if("$"!==t[0]&&"_"!==t[0])return this.error('variable name "'+this.args[0]+'" is missing its sigil ($ or _)');Config.debug&&this.debugView.modes({block:!0});var r=Util.slugify(t),n=this.args[1],a=document.createElement("input"),i=!1,o=void 0;this.args.length>3?(o=this.args[2],i="autofocus"===this.args[3]):this.args.length>2&&("autofocus"===this.args[2]?i=!0:o=this.args[2]),"object"===(void 0===o?"undefined":_typeof(o))&&(o=o.link),jQuery(a).attr({id:this.name+"-"+r,name:this.name+"-"+r,type:"text",tabindex:0}).addClass("macro-"+this.name).on("change.macros",this.createShadowWrapper(function(){State.setVar(t,this.value)})).on("keypress.macros",this.createShadowWrapper(function(e){13===e.which&&(e.preventDefault(),State.setVar(t,this.value),null!=o&&Engine.play(o))})).appendTo(this.output),State.setVar(t,n),a.value=n,i&&(a.setAttribute("autofocus","autofocus"),postdisplay["#autofocus:"+a.id]=function(e){delete postdisplay[e],setTimeout(function(){return a.focus()},Engine.minDomActionDelay)})}}),Macro.add("click","link"),Macro.add("actions",{handler:function(){for(var e=jQuery(document.createElement("ul")).addClass(this.name).appendTo(this.output),t=0;t<this.args.length;++t){var r=void 0,n=void 0,a=void 0,i=void 0;"object"===_typeof(this.args[t])?this.args[t].isImage?(a=jQuery(document.createElement("img")).attr("src",this.args[t].source),this.args[t].hasOwnProperty("passage")&&a.attr("data-passage",this.args[t].passage),this.args[t].hasOwnProperty("title")&&a.attr("title",this.args[t].title),this.args[t].hasOwnProperty("align")&&a.attr("align",this.args[t].align),r=this.args[t].link,i=this.args[t].setFn):(n=this.args[t].text,r=this.args[t].link,i=this.args[t].setFn):n=r=this.args[t],State.variables.hasOwnProperty("#actions")&&State.variables["#actions"].hasOwnProperty(r)&&State.variables["#actions"][r]||jQuery(Wikifier.createInternalLink(jQuery(document.createElement("li")).appendTo(e),r,null,function(e,t){return function(){State.variables.hasOwnProperty("#actions")||(State.variables["#actions"]={}),State.variables["#actions"][e]=!0,"function"==typeof t&&t()}}(r,i))).addClass("macro-"+this.name).append(a||document.createTextNode(n))}}}),Macro.add(["back","return"],{handler:function(){if(this.args.length>1)return this.error("too many arguments specified, check the documentation for details");var e=-1,t=void 0,r=void 0,n=void 0;if(1===this.args.length&&("object"===_typeof(this.args[0])?this.args[0].isImage?(n=jQuery(document.createElement("img")).attr("src",this.args[0].source),this.args[0].hasOwnProperty("passage")&&n.attr("data-passage",this.args[0].passage),this.args[0].hasOwnProperty("title")&&n.attr("title",this.args[0].title),this.args[0].hasOwnProperty("align")&&n.attr("align",this.args[0].align),this.args[0].hasOwnProperty("link")&&(t=this.args[0].link)):1===this.args[0].count?t=this.args[0].link:(r=this.args[0].text,t=this.args[0].link):1===this.args.length&&(r=this.args[0])),null==t){for(var a=State.length-2;a>=0;--a)if(State.history[a].title!==State.passage){e=a,t=State.history[a].title;break}if(null==t&&"return"===this.name)for(var i=State.expired.length-1;i>=0;--i)if(State.expired[i]!==State.passage){t=State.expired[i];break}}else{if(!Story.has(t))return this.error('passage "'+t+'" does not exist');if("back"===this.name){for(var o=State.length-2;o>=0;--o)if(State.history[o].title===t){e=o;break}if(-1===e)return this.error('cannot find passage "'+t+'" in the current story history')}}if(null==t)return this.error("cannot find passage");var s=void 0;s="back"!==this.name||-1!==e?jQuery(document.createElement("a")).addClass("link-internal").ariaClick({one:!0},"return"===this.name?function(){return Engine.play(t)}:function(){return Engine.goTo(e)}):jQuery(document.createElement("span")).addClass("link-disabled"),s.addClass("macro-"+this.name).append(n||document.createTextNode(r||L10n.get("macro"+this.name.toUpperFirst()+"Text"))).appendTo(this.output)}}),Macro.add("choice",{handler:function(){if(0===this.args.length)return this.error("no passage specified");var e=State.passage,t=void 0,r=void 0,n=void 0,a=void 0;if(1===this.args.length?"object"===_typeof(this.args[0])?this.args[0].isImage?(n=jQuery(document.createElement("img")).attr("src",this.args[0].source),this.args[0].hasOwnProperty("passage")&&n.attr("data-passage",this.args[0].passage),this.args[0].hasOwnProperty("title")&&n.attr("title",this.args[0].title),this.args[0].hasOwnProperty("align")&&n.attr("align",this.args[0].align),t=this.args[0].link,a=this.args[0].setFn):(r=this.args[0].text,t=this.args[0].link,a=this.args[0].setFn):r=t=this.args[0]:(t=this.args[0],r=this.args[1]),State.variables.hasOwnProperty("#choice")&&State.variables["#choice"].hasOwnProperty(e)&&State.variables["#choice"][e])return void jQuery(document.createElement("span")).addClass("link-disabled macro-"+this.name).attr("tabindex",-1).append(n||document.createTextNode(r)).appendTo(this.output);jQuery(Wikifier.createInternalLink(this.output,t,null,function(){State.variables.hasOwnProperty("#choice")||(State.variables["#choice"]={}),State.variables["#choice"][e]=!0,"function"==typeof a&&a()})).addClass("macro-"+this.name).append(n||document.createTextNode(r))}}),Macro.add(["addclass","toggleclass"],{handler:function(){if(this.args.length<2){var e=[];return this.args.length<1&&e.push("selector"),this.args.length<2&&e.push("class names"),this.error("no "+e.join(" or ")+" specified")}var t=jQuery(this.args[0]);if(0===t.length)return this.error('no elements matched the selector "'+this.args[0]+'"');switch(this.name){case"addclass":t.addClass(this.args[1].trim());break;case"toggleclass":t.toggleClass(this.args[1].trim())}Config.debug&&this.debugView.modes({hidden:!0})}}),Macro.add("removeclass",{handler:function(){if(0===this.args.length)return this.error("no selector specified");var e=jQuery(this.args[0]);if(0===e.length)return this.error('no elements matched the selector "'+this.args[0]+'"');this.args.length>1?e.removeClass(this.args[1].trim()):e.removeClass(),Config.debug&&this.debugView.modes({hidden:!0})}}),Macro.add("copy",{handler:function(){if(0===this.args.length)return this.error("no selector specified");var e=jQuery(this.args[0]);if(0===e.length)return this.error('no elements matched the selector "'+this.args[0]+'"');jQuery(this.output).append(e.html()),Config.debug&&this.debugView.modes({hidden:!0})}}),Macro.add(["append","prepend","replace"],{tags:null,handler:function(){var e=this;if(0===this.args.length)return this.error("no selector specified");var t=jQuery(this.args[0]);if(0===t.length)return this.error('no elements matched the selector "'+this.args[0]+'"');if(""!==this.payload[0].contents){var r=this.args.length>1&&/^(?:transition|t8n)$/.test(this.args[1]),n=void 0;switch(r?(n=jQuery(document.createElement("span")),n.addClass("macro-"+this.name+"-insert macro-"+this.name+"-in"),setTimeout(function(){return n.removeClass("macro-"+e.name+"-in")},Engine.minDomActionDelay)):n=jQuery(document.createDocumentFragment()),n.wiki(this.payload[0].contents),this.name){case"replace":t.empty();case"append":t.append(n);break;case"prepend":t.prepend(n)}}else"replace"===this.name&&t.empty();Config.debug&&this.debugView.modes({hidden:!0})}}),Macro.add("remove",{handler:function(){if(0===this.args.length)return this.error("no selector specified");var e=jQuery(this.args[0]);if(0===e.length)return this.error('no elements matched the selector "'+this.args[0]+'"');e.remove(),Config.debug&&this.debugView.modes({hidden:!0})}}),Has.audio){var e=function(e,t){return'only one playback action allowed per invocation, "'+e+'" cannot be combined with "'+t+'"'};Macro.add("audio",{handler:function(){if(this.args.length<2){var t=[];return this.args.length<1&&t.push("track and/or group IDs"),this.args.length<2&&t.push("actions"),this.error("no "+t.join(" or ")+" specified")}var r=void 0;try{r=SimpleAudio.select(this.args[0])}catch(e){return this.error(e.message)}for(var n=this.args.slice(1),a=void 0,i=5,o=void 0,s=void 0,u=void 0,l=void 0,c=void 0,d=void 0;n.length>0;){var f=n.shift(),p=void 0;switch(f){case"load":case"pause":case"play":case"stop":case"unload":if(a)return this.error(e(f,a));a=f;break;case"fadein":if(a)return this.error(e(f,a));a="fade",o=1;break;case"fadeout":if(a)return this.error(e(f,a));a="fade",o=0;break;case"fadeto":if(a)return this.error(e(f,a));if(0===n.length)return this.error("fadeto missing required level value");if(a="fade",p=n.shift(),o=Number.parseFloat(p),Number.isNaN(o)||!Number.isFinite(o))return this.error("cannot parse fadeto: "+p);break;case"fadeoverto":if(a)return this.error(e(f,a));if(n.length<2){var h=[];return n.length<1&&h.push("seconds"),n.length<2&&h.push("level"),this.error("fadeoverto missing required "+h.join(" and ")+" value"+(h.length>1?"s":""))}if(a="fade",p=n.shift(),i=Number.parseFloat(p),Number.isNaN(i)||!Number.isFinite(i))return this.error("cannot parse fadeoverto: "+p);if(p=n.shift(),o=Number.parseFloat(p),Number.isNaN(o)||!Number.isFinite(o))return this.error("cannot parse fadeoverto: "+p);break;case"volume":if(0===n.length)return this.error("volume missing required level value");if(p=n.shift(),d=Number.parseFloat(p),Number.isNaN(d)||!Number.isFinite(d))return this.error("cannot parse volume: "+p);break;case"mute":case"unmute":u="mute"===f;break;case"time":if(0===n.length)return this.error("time missing required seconds value");if(p=n.shift(),c=Number.parseFloat(p),Number.isNaN(c)||!Number.isFinite(c))return this.error("cannot parse time: "+p);break;case"loop":case"unloop":s="loop"===f;break;case"goto":if(0===n.length)return this.error("goto missing required passage title");if(p=n.shift(),l="object"===(void 0===p?"undefined":_typeof(p))?p.link:p,!Story.has(l))return this.error('passage "'+l+'" does not exist');break;default:return this.error("unknown action: "+f)}}try{if(null!=d&&r.volume(d),null!=c&&r.time(c),null!=u&&r.mute(u),null!=s&&r.loop(s),null!=l){var g="ended.macros.macro-"+this.name+"_goto";r.off(g).one(g,function(){r.off(g),Engine.play(l)})}switch(a){case"fade":r.fade(i,o);break;case"load":r.load();break;case"pause":r.pause();break;case"play":r.playWhenAllowed();break;case"stop":r.stop();break;case"unload":r.unload()}Config.debug&&this.debugView.modes({hidden:!0})}catch(e){return this.error("error executing action: "+e.message)}}}),Macro.add("cacheaudio",{handler:function(){var e=this;if(this.args.length<2){var t=[];return this.args.length<1&&t.push("track ID"),this.args.length<2&&t.push("sources"),this.error("no "+t.join(" or ")+" specified")}var r=String(this.args[0]).trim(),n=/^format:\s*([\w-]+)\s*;\s*/i;try{SimpleAudio.tracks.add(r,this.args.slice(1).map(function(t){if(n.test(t)){if(Config.debug)return e.error('track ID "'+r+'": format specifier migration required, "format:formatId;" → "formatId|"');t=t.replace(n,"$1|")}return t}))}catch(e){return this.error(e.message)}if(Config.debug&&!SimpleAudio.tracks.get(r).hasSource())return this.error('track ID "'+r+'": no supported audio sources found');Config.debug&&this.debugView.modes({hidden:!0})}}),Macro.add("createaudiogroup",{tags:["track"],handler:function(){if(0===this.args.length)return this.error("no group ID specified");if(1===this.payload.length)return this.error("no tracks defined via <<track>>");Config.debug&&this.debugView.modes({nonvoid:!1,hidden:!0});for(var e=String(this.args[0]).trim(),t=[],r=1,n=this.payload.length;r<n;++r){if(this.payload[r].args.length<1)return this.error("no track ID specified");t.push(String(this.payload[r].args[0]).trim()),Config.debug&&this.createDebugView(this.payload[r].name,this.payload[r].source).modes({nonvoid:!1,hidden:!0})}try{SimpleAudio.groups.add(e,t)}catch(e){return this.error(e.message)}Config.debug&&this.createDebugView("/"+this.name,"<</"+this.name+">>").modes({nonvoid:!1,hidden:!0})}}),Macro.add("createplaylist",{tags:["track"],handler:function(){if(0===this.args.length)return this.error("no list ID specified");if(1===this.payload.length)return this.error("no tracks defined via <<track>>");var e=Macro.get("playlist");if(null!==e.from&&"createplaylist"!==e.from)return this.error("a playlist has already been defined with <<setplaylist>>");Config.debug&&this.debugView.modes({nonvoid:!1,hidden:!0});for(var t=String(this.args[0]).trim(),r=[],n=1,a=this.payload.length;n<a;++n){if(0===this.payload[n].args.length)return this.error("no track ID specified");for(var i={id:String(this.payload[n].args[0]).trim()},o=this.payload[n].args.slice(1);o.length>0;){var s=o.shift(),u=void 0,l=void 0;switch(s){case"copy":case"own":i.own=!0;break;case"rate":o.length>0&&o.shift();break;case"volume":if(0===o.length)return this.error("volume missing required level value");if(u=o.shift(),l=Number.parseFloat(u),Number.isNaN(l)||!Number.isFinite(l))return this.error("cannot parse volume: "+u);i.volume=l;break;default:return this.error("unknown action: "+s)}}r.push(i),Config.debug&&this.createDebugView(this.payload[n].name,this.payload[n].source).modes({nonvoid:!1,hidden:!0})}try{SimpleAudio.lists.add(t,r)}catch(e){return this.error(e.message)}null===e.from&&(e.from="createplaylist"),Config.debug&&this.createDebugView("/"+this.name,"<</"+this.name+">>").modes({nonvoid:!1,hidden:!0})}}),Macro.add("masteraudio",{handler:function(){if(0===this.args.length)return this.error("no actions specified");for(var t=this.args.slice(0),r=void 0,n=void 0,a=void 0,i=void 0;t.length>0;){var o=t.shift(),s=void 0;switch(o){case"load":case"stop":case"unload":if(r)return this.error(e(o,r));r=o;break;case"mute":case"unmute":n="mute"===o;break;case"muteonhide":case"nomuteonhide":a="muteonhide"===o;break;case"volume":if(0===t.length)return this.error("volume missing required level value");if(s=t.shift(),i=Number.parseFloat(s),Number.isNaN(i)||!Number.isFinite(i))return this.error("cannot parse volume: "+s);break;default:return this.error("unknown action: "+o)}}try{switch(null!=n&&SimpleAudio.mute(n),null!=a&&SimpleAudio.muteOnHidden(a),null!=i&&SimpleAudio.volume(i),r){case"load":SimpleAudio.load();break;case"stop":SimpleAudio.stop();break;case"unload":SimpleAudio.unload()}Config.debug&&this.debugView.modes({hidden:!0})}catch(e){return this.error("error executing action: "+e.message)}}}),Macro.add("playlist",{from:null,handler:function(){var t=this.self.from;if(null===t)return this.error("no playlists have been created");var r=void 0,n=void 0;if("createplaylist"===t){if(this.args.length<2){var a=[];return this.args.length<1&&a.push("list ID"),this.args.length<2&&a.push("actions"),this.error("no "+a.join(" or ")+" specified")}var i=String(this.args[0]).trim();if(!SimpleAudio.lists.has(i))return this.error('playlist "'+i+'" does not exist');r=SimpleAudio.lists.get(i),n=this.args.slice(1)}else{if(0===this.args.length)return this.error("no actions specified");r=SimpleAudio.lists.get("setplaylist"),n=this.args.slice(0)}for(var o=void 0,s=5,u=void 0,l=void 0,c=void 0,d=void 0,f=void 0;n.length>0;){var p=n.shift(),h=void 0;switch(p){case"load":case"pause":case"play":case"skip":case"stop":case"unload":if(o)return this.error(e(p,o));o=p;break
;case"fadein":if(o)return this.error(e(p,o));o="fade",u=1;break;case"fadeout":if(o)return this.error(e(p,o));o="fade",u=0;break;case"fadeto":if(o)return this.error(e(p,o));if(0===n.length)return this.error("fadeto missing required level value");if(o="fade",h=n.shift(),u=Number.parseFloat(h),Number.isNaN(u)||!Number.isFinite(u))return this.error("cannot parse fadeto: "+h);break;case"fadeoverto":if(o)return this.error(e(p,o));if(n.length<2){var g=[];return n.length<1&&g.push("seconds"),n.length<2&&g.push("level"),this.error("fadeoverto missing required "+g.join(" and ")+" value"+(g.length>1?"s":""))}if(o="fade",h=n.shift(),s=Number.parseFloat(h),Number.isNaN(s)||!Number.isFinite(s))return this.error("cannot parse fadeoverto: "+h);if(h=n.shift(),u=Number.parseFloat(h),Number.isNaN(u)||!Number.isFinite(u))return this.error("cannot parse fadeoverto: "+h);break;case"volume":if(0===n.length)return this.error("volume missing required level value");if(h=n.shift(),f=Number.parseFloat(h),Number.isNaN(f)||!Number.isFinite(f))return this.error("cannot parse volume: "+h);break;case"mute":case"unmute":c="mute"===p;break;case"loop":case"unloop":l="loop"===p;break;case"shuffle":case"unshuffle":d="shuffle"===p;break;default:return this.error("unknown action: "+p)}}try{switch(null!=f&&r.volume(f),null!=c&&r.mute(c),null!=l&&r.loop(l),null!=d&&r.shuffle(d),o){case"fade":r.fade(s,u);break;case"load":r.load();break;case"pause":r.pause();break;case"play":r.playWhenAllowed();break;case"skip":r.skip();break;case"stop":r.stop();break;case"unload":r.unload()}Config.debug&&this.debugView.modes({hidden:!0})}catch(e){return this.error("error executing action: "+e.message)}}}),Macro.add("removeaudiogroup",{handler:function(){if(0===this.args.length)return this.error("no group ID specified");var e=String(this.args[0]).trim();if(!SimpleAudio.groups.has(e))return this.error('group "'+e+'" does not exist');SimpleAudio.groups.delete(e),Config.debug&&this.debugView.modes({hidden:!0})}}),Macro.add("removeplaylist",{handler:function(){if(0===this.args.length)return this.error("no list ID specified");var e=String(this.args[0]).trim();if(!SimpleAudio.lists.has(e))return this.error('playlist "'+e+'" does not exist');SimpleAudio.lists.delete(e),Config.debug&&this.debugView.modes({hidden:!0})}}),Macro.add("waitforaudio",{skipArgs:!0,handler:function(){SimpleAudio.loadWithScreen()}}),Macro.add("setplaylist",{handler:function(){if(0===this.args.length)return this.error("no track ID(s) specified");var e=Macro.get("playlist");if(null!==e.from&&"setplaylist"!==e.from)return this.error("playlists have already been defined with <<createplaylist>>");try{SimpleAudio.lists.add("setplaylist",this.args.slice(0))}catch(e){return this.error(e.message)}null===e.from&&(e.from="setplaylist"),Config.debug&&this.debugView.modes({hidden:!0})}}),Macro.add("stopallaudio",{skipArgs:!0,handler:function(){SimpleAudio.select(":all").stop(),Config.debug&&this.debugView.modes({hidden:!0})}})}else Macro.add(["audio","cacheaudio","createaudiogroup","createplaylist","masteraudio","playlist","removeaudiogroup","removeplaylist","waitforaudio","setplaylist","stopallaudio"],{skipArgs:!0,handler:function(){Config.debug&&this.debugView.modes({hidden:!0})}});Macro.add("goto",{handler:function(){if(0===this.args.length)return this.error("no passage specified");var e=void 0;if(e="object"===_typeof(this.args[0])?this.args[0].link:this.args[0],!Story.has(e))return this.error('passage "'+e+'" does not exist');setTimeout(function(){return Engine.play(e)},Engine.minDomActionDelay)}}),Macro.add("repeat",{isAsync:!0,tags:null,timers:new Set,handler:function(){var e=this;if(0===this.args.length)return this.error("no time value specified");var t=void 0;try{t=Math.max(Engine.minDomActionDelay,Util.fromCssTime(this.args[0]))}catch(e){return this.error(e.message)}Config.debug&&this.debugView.modes({block:!0});var r=this.args.length>1&&/^(?:transition|t8n)$/.test(this.args[1]),n=jQuery(document.createElement("span")).addClass("macro-"+this.name).appendTo(this.output);this.self.registerInterval(this.createShadowWrapper(function(){var t=document.createDocumentFragment();new Wikifier(t,e.payload[0].contents);var a=n;r&&(a=jQuery(document.createElement("span")).addClass("macro-repeat-insert macro-repeat-in").appendTo(a)),a.append(t),r&&setTimeout(function(){return a.removeClass("macro-repeat-in")},Engine.minDomActionDelay)}),t)},registerInterval:function(e,t){var r=this;if("function"!=typeof e)throw new TypeError("callback parameter must be a function");var n=State.turns,a=this.timers,i=null;i=setInterval(function(){if(n!==State.turns)return clearInterval(i),void a.delete(i);var t=void 0;try{TempState.break=null,TempState.hasOwnProperty("repeatTimerId")&&(t=TempState.repeatTimerId),TempState.repeatTimerId=i,e.call(r)}finally{void 0!==t?TempState.repeatTimerId=t:delete TempState.repeatTimerId,TempState.break=null}},t),a.add(i),prehistory.hasOwnProperty("#repeat-timers-cleanup")||(prehistory["#repeat-timers-cleanup"]=function(e){delete prehistory[e],a.forEach(function(e){return clearInterval(e)}),a.clear()})}}),Macro.add("stop",{skipArgs:!0,handler:function(){if(!TempState.hasOwnProperty("repeatTimerId"))return this.error("must only be used in conjunction with its parent macro <<repeat>>");var e=Macro.get("repeat").timers,t=TempState.repeatTimerId;clearInterval(t),e.delete(t),TempState.break=2,Config.debug&&this.debugView.modes({hidden:!0})}}),Macro.add("timed",{isAsync:!0,tags:["next"],timers:new Set,handler:function(){if(0===this.args.length)return this.error("no time value specified in <<timed>>");var e=[];try{e.push({name:this.name,source:this.source,delay:Math.max(Engine.minDomActionDelay,Util.fromCssTime(this.args[0])),content:this.payload[0].contents})}catch(e){return this.error(e.message+" in <<timed>>")}if(this.payload.length>1){var t=void 0;try{var r=void 0;for(t=1,r=this.payload.length;t<r;++t)e.push({name:this.payload[t].name,source:this.payload[t].source,delay:0===this.payload[t].args.length?e[e.length-1].delay:Math.max(Engine.minDomActionDelay,Util.fromCssTime(this.payload[t].args[0])),content:this.payload[t].contents})}catch(e){return this.error(e.message+" in <<next>> (#"+t+")")}}Config.debug&&this.debugView.modes({block:!0});var n=this.args.length>1&&/^(?:transition|t8n)$/.test(this.args[1]),a=jQuery(document.createElement("span")).addClass("macro-"+this.name).appendTo(this.output);this.self.registerTimeout(this.createShadowWrapper(function(e){var t=document.createDocumentFragment();new Wikifier(t,e.content);var r=a;Config.debug&&"next"===e.name&&(r=jQuery(new DebugView(r[0],"macro",e.name,e.source).output)),n&&(r=jQuery(document.createElement("span")).addClass("macro-timed-insert macro-timed-in").appendTo(r)),r.append(t),n&&setTimeout(function(){return r.removeClass("macro-timed-in")},Engine.minDomActionDelay)}),e)},registerTimeout:function(e,t){if("function"!=typeof e)throw new TypeError("callback parameter must be a function");var r=State.turns,n=this.timers,a=null,i=t.shift(),o=function o(){if(n.delete(a),r===State.turns){var s=i;null!=(i=t.shift())&&(a=setTimeout(o,i.delay),n.add(a)),e.call(this,s)}};a=setTimeout(o,i.delay),n.add(a),prehistory.hasOwnProperty("#timed-timers-cleanup")||(prehistory["#timed-timers-cleanup"]=function(e){delete prehistory[e],n.forEach(function(e){return clearTimeout(e)}),n.clear()})}}),Macro.add("widget",{tags:null,handler:function(){if(0===this.args.length)return this.error("no widget name specified");var e=this.args[0];if(Macro.has(e)){if(!Macro.get(e).isWidget)return this.error('cannot clobber existing macro "'+e+'"');Macro.delete(e)}try{Macro.add(e,{isWidget:!0,handler:function(e){return function(){var t=void 0;try{State.variables.hasOwnProperty("args")&&(t=State.variables.args),State.variables.args=[].concat(_toConsumableArray(this.args)),State.variables.args.raw=this.args.raw,State.variables.args.full=this.args.full,this.addShadow("$args");var r=document.createDocumentFragment(),n=[];if(new Wikifier(r,e),Array.from(r.querySelectorAll(".error")).forEach(function(e){n.push(e.textContent)}),0!==n.length)return this.error("error"+(n.length>1?"s":"")+" within widget contents ("+n.join("; ")+")");this.output.appendChild(r)}catch(e){return this.error("cannot execute widget: "+e.message)}finally{void 0!==t?State.variables.args=t:delete State.variables.args}}}(this.payload[0].contents)}),Config.debug&&this.debugView.modes({hidden:!0})}catch(t){return this.error('cannot create widget macro "'+e+'": '+t.message)}}})}();var Dialog=function(){function e(e,t,r,n,a){return jQuery(e).ariaClick(function(e){e.preventDefault(),"function"==typeof r&&r(e),o(t,a),"function"==typeof n&&n(e)})}function t(){var e;return(e=g).append.apply(e,arguments),Dialog}function r(){return g.get(0)}function n(e){return g.trigger(":dialogclosing"),jQuery(document).off(".dialog-close"),y?(y.disconnect(),y=null):g.off(".dialog-resize"),jQuery(window).off(".dialog-resize"),p.removeClass("open").css({left:"",right:"",top:"",bottom:""}),jQuery("#ui-bar,#story").find("[tabindex=-2]").removeAttr("aria-hidden").attr("tabindex",0),jQuery("body>[tabindex=-3]").removeAttr("aria-hidden").removeAttr("tabindex"),f.removeClass("open"),jQuery(document.documentElement).removeAttr("data-dialog"),h.empty(),g.empty().removeClass(),null!==m&&(jQuery(m).focus(),m=null),e&&e.data&&"function"==typeof e.data.closeFn&&e.data.closeFn(e),g.trigger(":dialogclose"),g.trigger(":dialogclosed"),Dialog}function a(){if(!document.getElementById("ui-dialog")){v=function(){var e=void 0;try{var t=document.createElement("p"),r=document.createElement("div");t.style.width="100%",t.style.height="200px",r.style.position="absolute",r.style.left="0px",r.style.top="0px",r.style.width="100px",r.style.height="100px",r.style.visibility="hidden",r.style.overflow="hidden",r.appendChild(t),document.body.appendChild(r);var n=t.offsetWidth;r.style.overflow="auto";var a=t.offsetWidth;n===a&&(a=r.clientWidth),document.body.removeChild(r),e=n-a}catch(e){}return e||17}();var e=jQuery(document.createDocumentFragment()).append('<div id="ui-overlay" class="ui-close"></div><div id="ui-dialog" tabindex="0" role="dialog" aria-labelledby="ui-dialog-title"><div id="ui-dialog-titlebar"><h1 id="ui-dialog-title"></h1><button id="ui-dialog-close" class="ui-close" tabindex="0" aria-label="'+L10n.get("close")+'"></button></div><div id="ui-dialog-body"></div></div>');f=jQuery(e.find("#ui-overlay").get(0)),p=jQuery(e.find("#ui-dialog").get(0)),h=jQuery(e.find("#ui-dialog-title").get(0)),g=jQuery(e.find("#ui-dialog-body").get(0)),e.insertBefore("body>script#script-sugarcube")}}function i(e){return p.hasClass("open")&&(!e||e.splitOrEmpty(/\s+/).every(function(e){return g.hasClass(e)}))}function o(e,t){g.trigger(":dialogopening");var r=jQuery.extend({top:50},e),a=r.top;return i()||(m=safeActiveElement()),jQuery(document.documentElement).attr("data-dialog","open"),f.addClass("open"),null!==g[0].querySelector("img")&&g.imagesLoaded().always(function(){return d({data:{top:a}})}),jQuery("body>:not(script,#store-area,tw-storydata,#ui-bar,#ui-overlay,#ui-dialog)").attr("tabindex",-3).attr("aria-hidden",!0),jQuery("#ui-bar,#story").find("[tabindex]:not([tabindex^=-])").attr("tabindex",-2).attr("aria-hidden",!0),p.css(c(a)).addClass("open").focus(),jQuery(window).on("resize.dialog-resize",null,{top:a},jQuery.throttle(40,d)),Has.mutationObserver?(y=new MutationObserver(function(e){for(var t=0;t<e.length;++t)if("childList"===e[t].type){d({data:{top:a}});break}}),y.observe(g[0],{childList:!0,subtree:!0})):g.on("DOMNodeInserted.dialog-resize DOMNodeRemoved.dialog-resize",null,{top:a},jQuery.throttle(40,d)),jQuery(document).on("click.dialog-close",".ui-close",{closeFn:t},n).on("keypress.dialog-close",".ui-close",function(e){13!==e.which&&32!==e.which||jQuery(this).trigger("click")}),g.trigger(":dialogopen"),g.trigger(":dialogopened"),Dialog}function s(e){return d("object"===(void 0===e?"undefined":_typeof(e))?{data:e}:undefined)}function u(e,t){return g.empty().removeClass(),null!=t&&g.addClass(t),h.empty().append((null!=e?String(e):"")||" "),g.get(0)}function l(){var e;return(e=g).wiki.apply(e,arguments),Dialog}function c(e){var t=null!=e?e:50,r=jQuery(window),n={left:"",right:"",top:"",bottom:""};p.css(n);var a=r.width()-p.outerWidth(!0)-1,i=r.height()-p.outerHeight(!0)-1;return a<=32+v&&(i-=v),i<=32+v&&(a-=v),n.left=n.right=a<=32?16:a/2>>0,n.top=i<=32?n.bottom=16:i/2>t?t:n.bottom=i/2>>0,Object.keys(n).forEach(function(e){""!==n[e]&&(n[e]+="px")}),n}function d(e){var t=e&&e.data&&void 0!==e.data.top?e.data.top:50;"block"===p.css("display")&&(p.css({display:"none"}),p.css(jQuery.extend({display:""},c(t))))}var f=null,p=null,h=null,g=null,m=null,v=0,y=null;return Object.freeze(Object.defineProperties({},{append:{value:t},body:{value:r},close:{value:n},init:{value:a},isOpen:{value:i},open:{value:o},resize:{value:s},setup:{value:u},wiki:{value:l},addClickHandler:{value:e}}))}(),Engine=function(){function e(){jQuery("#init-no-js,#init-lacking").remove(),function(){var e=jQuery(document.createDocumentFragment()),t=Story.has("StoryInterface")&&Story.get("StoryInterface").text.trim();if(t){if(UIBar.destroy(),jQuery(document.head).find("#style-core-display").remove(),e.append(t),0===e.find("#passages").length)throw new Error('no element with ID "passages" found within "StoryInterface" special passage');var r=[];e.find("[data-passage]").each(function(e,t){if("passages"===t.id)throw new Error('"StoryInterface" element <'+t.nodeName.toLowerCase()+' id="passages"> must not contain a "data-passage" content attribute');var n=t.getAttribute("data-passage").trim();if(null!==t.firstElementChild)throw new Error('"StoryInterface" element <'+t.nodeName.toLowerCase()+' data-passage="'+n+'"> contains child elements');Story.has(n)&&r.push({passage:n,element:t})}),r.length>0&&(E=r),Config.ui.updateStoryElements=!1}else e.append('<div id="story" role="main"><div id="passages"></div></div>');e.insertBefore("body>script#script-sugarcube")}(),S=new StyleWrapper(function(){return jQuery(document.createElement("style")).attr({id:"style-aria-outlines",type:"text/css"}).appendTo(document.head).get(0)}());var e=void 0;jQuery(document).on("mousedown.aria-outlines keydown.aria-outlines",function(t){t.type!==e&&(e=t.type,"keydown"===t.type?m():g())})}function t(){if(Story.has("StoryInit"))try{var e=Wikifier.wikifyEval(Story.get("StoryInit").text);if(Config.debug){var t=new DebugView(document.createDocumentFragment(),"special","StoryInit","StoryInit");t.modes({hidden:!0}),t.append(e),k=t.output}}catch(e){console.error(e),Alert.error("StoryInit",e.message)}if(null==Config.passages.start)throw new Error("starting passage not selected");if(!Story.has(Config.passages.start))throw new Error('starting passage ("'+Config.passages.start+'") not found');if(jQuery(document.documentElement).focus(),State.restore())f();else{var r=!0;switch(_typeof(Config.saves.autoload)){case"boolean":Config.saves.autoload&&Save.autosave.ok()&&Save.autosave.has()&&(r=!Save.autosave.load());break;case"string":"prompt"===Config.saves.autoload&&Save.autosave.ok()&&Save.autosave.has()&&(r=!1,UI.buildAutoload(),Dialog.open());break;case"function":Save.autosave.ok()&&Save.autosave.has()&&Config.saves.autoload()&&(r=!Save.autosave.load())}r&&p(Config.passages.start)}}function r(){LoadScreen.show(),window.scroll(0,0),State.reset(),jQuery.event.trigger(":enginerestart"),window.location.reload()}function n(){return b}function a(){return b===v.Idle}function i(){return b!==v.Idle}function o(){return b===v.Rendering}function s(){return w}function u(e){var t=State.goTo(e);return t&&f(),t}function l(e){var t=State.go(e);return t&&f(),t}function c(){return l(-1)}function d(){return l(1)}function f(){return p(State.passage,!0)}function p(e,t){var r=e;b=v.Playing,TempState={},State.clearTemporary();var n=void 0,a=void 0;if("function"==typeof Config.navigation.override)try{var i=Config.navigation.override(r);i&&(r=i)}catch(e){}var o=Story.get(r);if(jQuery.event.trigger({type:":passageinit",passage:o}),Object.keys(prehistory).forEach(function(e){"function"==typeof prehistory[e]&&prehistory[e].call(o,e)}),t||State.create(o.title),document.body.className&&(document.body.className=""),w=Util.now(),Object.keys(predisplay).forEach(function(e){"function"==typeof predisplay[e]&&predisplay[e].call(o,e)}),Story.has("PassageReady"))try{n=Wikifier.wikifyEval(Story.get("PassageReady").text)}catch(e){console.error(e),Alert.error("PassageReady",e.message)}b=v.Rendering;var s=o.tags.length>0?o.tags.join(" "):null,u=document.createElement("div");jQuery(u).attr({id:o.domId,"data-passage":o.title,"data-tags":s}).addClass("passage "+o.className),jQuery(document.body).attr("data-tags",s).addClass(o.className),jQuery(document.documentElement).attr("data-tags",s),jQuery.event.trigger({type:":passagestart",content:u,passage:o}),Object.keys(prerender).forEach(function(e){"function"==typeof prerender[e]&&prerender[e].call(o,u,e)}),Story.has("PassageHeader")&&new Wikifier(u,Story.get("PassageHeader").processText()),u.appendChild(o.render()),Story.has("PassageFooter")&&new Wikifier(u,Story.get("PassageFooter").processText()),jQuery.event.trigger({type:":passagerender",content:u,passage:o}),Object.keys(postrender).forEach(function(e){"function"==typeof postrender[e]&&postrender[e].call(o,u,e)});var l=document.getElementById("passages");if(l.hasChildNodes()&&("number"==typeof Config.passages.transitionOut||"string"==typeof Config.passages.transitionOut&&""!==Config.passages.transitionOut&&Has.transitionEndEvent?[].concat(_toConsumableArray(l.childNodes)).forEach(function(e){var t=jQuery(e);if(e.nodeType===Node.ELEMENT_NODE&&t.hasClass("passage")){if(t.hasClass("passage-out"))return;t.attr("id","out-"+t.attr("id")).addClass("passage-out"),"string"==typeof Config.passages.transitionOut?t.on(Has.transitionEndEvent,function(e){e.originalEvent.propertyName===Config.passages.transitionOut&&t.remove()}):setTimeout(function(){return t.remove()},Math.max(y,Config.passages.transitionOut))}else t.remove()}):jQuery(l).empty()),jQuery(u).addClass("passage-in").appendTo(l),setTimeout(function(){return jQuery(u).removeClass("passage-in")},y),Story.has("StoryDisplayTitle")?null===E&&Config.ui.updateStoryElements||setDisplayTitle(Story.get("StoryDisplayTitle").processText()):Config.passages.displayTitles&&o.title!==Config.passages.start&&(document.title=o.title+" | "+Story.title),window.scroll(0,0),b=v.Playing,Story.has("PassageDone"))try{a=Wikifier.wikifyEval(Story.get("PassageDone").text)}catch(e){console.error(e),Alert.error("PassageDone",e.message)}if(jQuery.event.trigger({type:":passagedisplay",content:u,passage:o}),Object.keys(postdisplay).forEach(function(e){"function"==typeof postdisplay[e]&&postdisplay[e].call(o,e)}),null!==E?E.forEach(function(e){jQuery(e.element).empty(),new Wikifier(e.element,Story.get(e.passage).processText().trim())}):Config.ui.updateStoryElements&&UIBar.update(),Config.debug){var c=void 0;null!=n&&(c=new DebugView(document.createDocumentFragment(),"special","PassageReady","PassageReady"),c.modes({hidden:!0}),c.append(n),jQuery(u).prepend(c.output)),null!=a&&(c=new DebugView(document.createDocumentFragment(),"special","PassageDone","PassageDone"),c.modes({hidden:!0}),c.append(a),jQuery(u).append(c.output)),1===State.turns&&null!=k&&jQuery(u).prepend(k)}switch(g(),jQuery("#story").find("a[href]:not(.link-external)").addClass("link-external").end().find("a,link,button,input,select,textarea").not("[tabindex]").attr("tabindex",0),_typeof(Config.saves.autosave)){case"boolean":Config.saves.autosave&&Save.autosave.save();break;case"object":o.tags.some(function(e){return Config.saves.autosave.includes(e)})&&Save.autosave.save();break;case"function":Config.saves.autosave()&&Save.autosave.save()}return jQuery.event.trigger({type:":passageend",content:u,passage:o}),b=v.Idle,w=Util.now(),u}function h(e,t,r){var n=!1;switch(r){case undefined:break;case"replace":case"back":n=!0;break;default:throw new Error('Engine.display option parameter called with obsolete value "'+r+'"; please notify the developer')}p(e,n)}function g(){S.set("*:focus{outline:none;}")}function m(){S.clear()}var v=Util.toEnum({Idle:"idle",Playing:"playing",Rendering:"rendering"}),y=40,b=v.Idle,w=null,k=null,S=null,E=null;return Object.freeze(Object.defineProperties({},{States:{value:v},minDomActionDelay:{value:y},init:{value:e},start:{value:t},restart:{value:r},state:{get:n},isIdle:{value:a},isPlaying:{value:i},isRendering:{value:o},lastPlay:{get:s},goTo:{value:u},go:{value:l},backward:{value:c},forward:{value:d},show:{value:f},play:{value:p},display:{value:h}}))}(),Passage=function(){var e=void 0;e=/^(?:debug|nobr|passage|widget|twine\..*)$/i;return function(){function t(r,n){var a=this;_classCallCheck(this,t),Object.defineProperties(this,{title:{value:Util.unescape(r)},element:{value:n||null},tags:{value:Object.freeze(n&&n.hasAttribute("tags")?n.getAttribute("tags").trim().splitOrEmpty(/\s+/).sort().filter(function(e,t,r){return 0===t||r[t-1]!==e}):[])},_excerpt:{writable:!0,value:null}}),Object.defineProperties(this,{domId:{value:"passage-"+Util.slugify(this.title)},classes:{value:Object.freeze(0===this.tags.length?[]:function(){return a.tags.filter(function(t){return!e.test(t)}).map(function(e){return Util.slugify(e)})}())}})}return _createClass(t,[{key:"description",value:function(){var e=Config.passages.descriptions;if(null!=e)switch(void 0===e?"undefined":_typeof(e)){case"boolean":if(e)return this.title;break;case"object":if(e instanceof Map&&e.has(this.title))return e.get(this.title);if(e.hasOwnProperty(this.title))return e[this.title];break;case"function":var r=e.call(this);if(r)return r;break;default:throw new TypeError("Config.passages.descriptions must be a boolean, object, or function")}return null===this._excerpt&&(this._excerpt=t.getExcerptFromText(this.text)),this._excerpt}},{key:"processText",value:function(){if(null==this.element)return this.text;if(this.tags.includes("Twine.image"))return"[img["+this.text+"]]";var e=this.text;return Config.passages.onProcess&&(e=Config.passages.onProcess.call(null,{title:this.title,tags:this.tags,text:e})),(Config.passages.nobr||this.tags.includes("nobr"))&&(e=e.replace(/^\n+|\n+$/g,"").replace(/\n+/g," ")),e}},{key:"render",value:function(e){var r=document.createDocumentFragment();return new Wikifier(r,this.processText(),e),this._excerpt=t.getExcerptFromNode(r),r}},{key:"className",get:function(){return this.classes.join(" ")}},{key:"text",get:function(){if(null==this.element){var e=Util.escape(this.title);return'<div class="error-view"><span class="error">'+(L10n.get("errorTitle")+": "+L10n.get("errorNonexistentPassage",{passage:e}))+"</span></div>"}return this.element.textContent.replace(/\r/g,"")}}],[{key:"getExcerptFromNode",value:function(e,t){if(!e.hasChildNodes())return"";var r=e.textContent.trim();if(""!==r){var n=new RegExp("(\\S+(?:\\s+\\S+){0,"+(t>0?t-1:7)+"})");r=r.replace(/\s+/g," ").match(n)}return r?r[1]+"…":"…"}},{key:"getExcerptFromText",value:function(e,t){if(""===e)return"";var r=new RegExp("(\\S+(?:\\s+\\S+){0,"+(t>0?t-1:7)+"})"),n=e.replace(/<<.*?>>/g," ").replace(/<.*?>/g," ").trim().replace(/^\s*\|.*\|.*?$/gm,"").replace(/\[[<>]?img\[[^\]]*\]\]/g,"").replace(/\[\[([^|\]]*?)(?:(?:\||->|<-)[^\]]*)?\]\]/g,"$1").replace(/^\s*!+(.*?)$/gm,"$1").replace(/'{2}|\/{2}|_{2}|@{2}/g,"").trim().replace(/\s+/g," ").match(r);return n?n[1]+"…":"…"}}]),t}()}(),Save=function(){function e(){if("cookie"===storage.name)return n(),Config.saves.autoload=undefined,Config.saves.autosave=undefined,Config.saves.slots=0,!1;var e=r(),t=!1;Array.isArray(e)&&(e={autosave:null,slots:e},t=!0),Config.saves.slots!==e.slots.length&&(Config.saves.slots<e.slots.length?(e.slots.reverse(),e.slots=e.slots.filter(function(e){return!(null===e&&this.count>0)||(--this.count,!1)},{count:e.slots.length-Config.saves.slots}),e.slots.reverse()):Config.saves.slots>e.slots.length&&j(e.slots,Config.saves.slots-e.slots.length),t=!0),T(e.autosave)&&(t=!0);for(var a=0;a<e.slots.length;++a)T(e.slots[a])&&(t=!0);return x(e)&&(storage.delete("saves"),t=!1),t&&O(e),P=e.slots.length-1,!0}function t(){return{autosave:null,slots:j([],Config.saves.slots)}}function r(){var e=storage.get("saves");return null===e?t():e}function n(){return storage.delete("saves"),!0}function a(){return i()||d()}function i(){return"cookie"!==storage.name&&void 0!==Config.saves.autosave}function o(){return null!==r().autosave}function s(){return r().autosave}function u(){var e=r();return null!==e.autosave&&A(e.autosave)}function l(e,t){if("function"==typeof Config.saves.isAllowed&&!Config.saves.isAllowed())return!1;var n=r(),a={title:e||Story.get(State.passage).description(),date:Date.now()};return null!=t&&(a.metadata=t),n.autosave=C(a),O(n)}function c(){var e=r();return e.autosave=null,O(e)}function d(){return"cookie"!==storage.name&&-1!==P}function f(){return P+1}function p(){if(!d())return 0;for(var e=r(),t=0,n=0,a=e.slots.length;n<a;++n)null!==e.slots[n]&&++t;return t}function h(){return 0===p()}function g(e){if(e<0||e>P)return!1;var t=r();return!(e>=t.slots.length||null===t.slots[e])}function m(e){if(e<0||e>P)return null;var t=r();return e>=t.slots.length?null:t.slots[e]}function v(e){if(e<0||e>P)return!1;var t=r();return!(e>=t.slots.length||null===t.slots[e])&&A(t.slots[e])}function y(e,t,n){if("function"==typeof Config.saves.isAllowed&&!Config.saves.isAllowed())return Dialog.isOpen()?$(document).one(":dialogclosed",function(){return UI.alert(L10n.get("savesDisallowed"))}):UI.alert(L10n.get("savesDisallowed")),!1;if(e<0||e>P)return!1;var a=r();if(e>=a.slots.length)return!1;var i={title:t||Story.get(State.passage).description(),date:Date.now()};return null!=n&&(i.metadata=n),a.slots[e]=C(i),O(a)}function b(e){if(e<0||e>P)return!1;var t=r();return!(e>=t.slots.length)&&(t.slots[e]=null,O(t))}function w(e,t){if("function"==typeof Config.saves.isAllowed&&!Config.saves.isAllowed())return void(Dialog.isOpen()?$(document).one(":dialogclosed",function(){return UI.alert(L10n.get("savesDisallowed"))}):UI.alert(L10n.get("savesDisallowed")));var r=null==e?Story.domId:function(e){return String(e).trim().replace(/[\x00-\x1f"#$%&'*+,\/:;<=>?\\^`|\x7f-\x9f]+/g,"").replace(/[_\s\u2013\u2014-]+/g,"-")}(e),n=r+"-"+function(){var e=new Date,t=e.getMonth()+1,r=e.getDate(),n=e.getHours(),a=e.getMinutes(),i=e.getSeconds();return t<10&&(t="0"+t),r<10&&(r="0"+r),n<10&&(n="0"+n),a<10&&(a="0"+a),i<10&&(i="0"+i),""+e.getFullYear()+t+r+"-"+n+a+i}()+".save",a=null==t?{}:{metadata:t},i=LZString.compressToBase64(JSON.stringify(C(a)));saveAs(new Blob([i],{type:"text/plain;charset=UTF-8"}),n)}function k(e){var t=e.target.files[0],r=new FileReader;jQuery(r).on("load",function(e){var r=e.currentTarget;if(r.result){var n=void 0;try{n=JSON.parse(/\.json$/i.test(t.name)||/^\{/.test(r.result)?r.result:LZString.decompressFromBase64(r.result))}catch(e){}A(n)}}),r.readAsText(t)}function S(e){if("function"==typeof Config.saves.isAllowed&&!Config.saves.isAllowed())return Dialog.isOpen()?$(document).one(":dialogclosed",function(){return UI.alert(L10n.get("savesDisallowed"))}):UI.alert(L10n.get("savesDisallowed")),null;var t=null==e?{}:{metadata:e};return LZString.compressToBase64(JSON.stringify(C(t)))}function E(e){var t=void 0;try{t=JSON.parse(LZString.decompressFromBase64(e))}catch(e){}return A(t)?t.metadata:null}function j(e,t){for(var r=0;r<t;++r)e.push(null);return e}function x(e){for(var t=e.slots,r=!0,n=0,a=t.length;n<a;++n)if(null!==t[n]){r=!1;break}return null===e.autosave&&r}function O(e){return x(e)?(storage.delete("saves"),!0):storage.set("saves",e)}function T(e){if(null==e||"object"!==(void 0===e?"undefined":_typeof(e)))return!1;var t=!1;return e.hasOwnProperty("state")&&e.state.hasOwnProperty("delta")&&e.state.hasOwnProperty("index")||(e.hasOwnProperty("data")?(delete e.mode,e.state={delta:State.deltaEncode(e.data)},delete e.data):e.state.hasOwnProperty("delta")?e.state.hasOwnProperty("index")||delete e.state.mode:(delete e.state.mode,e.state.delta=State.deltaEncode(e.state.history),delete e.state.history),e.state.index=e.state.delta.length-1,t=!0),e.state.hasOwnProperty("rseed")&&(e.state.seed=e.state.rseed,delete e.state.rseed,e.state.delta.forEach(function(e,t,r){r[t].hasOwnProperty("rcount")&&(r[t].pull=r[t].rcount,delete r[t].rcount)}),t=!0),(e.state.hasOwnProperty("expired")&&"number"==typeof e.state.expired||e.state.hasOwnProperty("unique")||e.state.hasOwnProperty("last"))&&(e.state.hasOwnProperty("expired")&&"number"==typeof e.state.expired&&delete e.state.expired,(e.state.hasOwnProperty("unique")||e.state.hasOwnProperty("last"))&&(e.state.expired=[],e.state.hasOwnProperty("unique")&&(e.state.expired.push(e.state.unique),delete e.state.unique),e.state.hasOwnProperty("last")&&(e.state.expired.push(e.state.last),delete e.state.last)),t=!0),t}function C(e){if(null!=e&&"object"!==(void 0===e?"undefined":_typeof(e)))throw new Error("supplemental parameter must be an object");var t=Object.assign({},e,{id:Config.saves.id,state:State.marshalForSave()});return Config.saves.version&&(t.version=Config.saves.version),"function"==typeof Config.saves.onSave&&Config.saves.onSave(t),t.state.delta=State.deltaEncode(t.state.history),delete t.state.history,t}function A(e){try{if(T(e),!e||!e.hasOwnProperty("id")||!e.hasOwnProperty("state"))throw new Error(L10n.get("errorSaveMissingData"));if(e.state.history=State.deltaDecode(e.state.delta),delete e.state.delta,"function"==typeof Config.saves.onLoad&&Config.saves.onLoad(e),e.id!==Config.saves.id)throw new Error(L10n.get("errorSaveIdMismatch"));State.unmarshalForSave(e.state),Engine.show()}catch(e){return UI.alert(e.message.toUpperFirst()+".</p><p>"+L10n.get("aborting")+"."),!1}return!0}var P=-1;return Object.freeze(Object.defineProperties({},{init:{value:e},get:{value:r},clear:{value:n},ok:{value:a},autosave:{value:Object.freeze(Object.defineProperties({},{ok:{value:i},has:{value:o},get:{value:s},load:{value:u},save:{value:l},delete:{value:c}}))},slots:{value:Object.freeze(Object.defineProperties({},{ok:{value:d},length:{get:f},isEmpty:{value:h},count:{value:p},has:{value:g},get:{value:m},load:{value:v},save:{value:y},delete:{value:b}}))},export:{value:w},import:{value:k},serialize:{value:S},deserialize:{value:E}}))}(),Setting=function(){function e(){if(storage.has("options")){var e=storage.get("options");null!==e&&(window.SugarCube.settings=settings=Object.assign(t(),e)),r(),storage.delete("options")}n(),v.forEach(function(e){if(e.hasOwnProperty("onInit")){var t={name:e.name,value:settings[e.name],default:e.default};e.hasOwnProperty("list")&&(t.list=e.list),e.onInit.call(t)}})}function t(){return Object.create(null)}function r(){var e=t();return Object.keys(settings).length>0&&v.filter(function(e){return e.type!==m.Header&&settings[e.name]!==e.default}).forEach(function(t){return e[t.name]=settings[t.name]}),0===Object.keys(e).length?(storage.delete("settings"),!0):storage.set("settings",e)}function n(){var e=t(),r=storage.get("settings")||t();v.filter(function(e){return e.type!==m.Header}).forEach(function(t){return e[t.name]=t.default}),window.SugarCube.settings=settings=Object.assign(e,r)}function a(){return window.SugarCube.settings=settings=t(),storage.delete("settings"),!0}function i(e){if(0===arguments.length)a(),n();else{if(null==e||!p(e))throw new Error('nonexistent setting "'+e+'"');var t=h(e);t.type!==m.Header&&(settings[e]=t.default)}return r()}function o(e,t){v.forEach(e,t)}function s(e,t,r){if(arguments.length<3){var n=[];throw arguments.length<1&&n.push("type"),arguments.length<2&&n.push("name"),arguments.length<3&&n.push("definition"),new Error("missing parameters, no "+n.join(" or ")+" specified")}if("object"!==(void 0===r?"undefined":_typeof(r)))throw new TypeError("definition parameter must be an object");if(p(t))throw new Error('cannot clobber existing setting "'+t+'"');var a={type:e,name:t,label:"string"==typeof r.label?r.label.trim():""};if("string"==typeof r.desc){
var i=r.desc.trim();""!==i&&(a.desc=i)}switch(e){case m.Header:break;case m.Toggle:a.default=!!r.default;break;case m.List:if(!r.hasOwnProperty("list"))throw new Error("no list specified");if(!Array.isArray(r.list))throw new TypeError("list must be an array");if(0===r.list.length)throw new Error("list must not be empty");if(a.list=Object.freeze(r.list),null==r.default)a.default=r.list[0];else{var o=r.list.indexOf(r.default);if(-1===o)throw new Error("list does not contain default");a.default=r.list[o]}break;case m.Range:if(!r.hasOwnProperty("min"))throw new Error("no min specified");if("number"!=typeof r.min||Number.isNaN(r.min)||!Number.isFinite(r.min))throw new TypeError("min must be a finite number");if(!r.hasOwnProperty("max"))throw new Error("no max specified");if("number"!=typeof r.max||Number.isNaN(r.max)||!Number.isFinite(r.max))throw new TypeError("max must be a finite number");if(!r.hasOwnProperty("step"))throw new Error("no step specified");if("number"!=typeof r.step||Number.isNaN(r.step)||!Number.isFinite(r.step)||r.step<=0)throw new TypeError("step must be a finite number greater than zero");var s=function(){var e=String(r.step),t=e.lastIndexOf(".");return-1===t?0:e.length-t-1}();if(function(e){if(s>0){var t=Number(r.min+"e"+s),n=Number(r.step+"e"+s),a=Number(e+"e"+s)-t;return Number(a-a%n+t+"e-"+s)}var i=e-r.min;return i-i%r.step+r.min}(r.max)!==r.max)throw new RangeError("max ("+r.max+") is not a multiple of the step ("+r.step+") plus the min ("+r.min+")");if(a.max=r.max,a.min=r.min,a.step=r.step,null==r.default)a.default=r.max;else{if("number"!=typeof r.default||Number.isNaN(r.default)||!Number.isFinite(r.default))throw new TypeError("default must be a finite number");if(r.default<r.min)throw new RangeError("default ("+r.default+") is less than min ("+r.min+")");if(r.default>r.max)throw new RangeError("default ("+r.default+") is greater than max ("+r.max+")");a.default=r.default}break;default:throw new Error("unknown Setting type: "+e)}"function"==typeof r.onInit&&(a.onInit=Object.freeze(r.onInit)),"function"==typeof r.onChange&&(a.onChange=Object.freeze(r.onChange)),v.push(Object.freeze(a))}function u(e,t){s(m.Header,e,{desc:t})}function l(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];s.apply(undefined,[m.Toggle].concat(t))}function c(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];s.apply(undefined,[m.List].concat(t))}function d(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];s.apply(undefined,[m.Range].concat(t))}function f(){return 0===v.length}function p(e){return v.some(function(t){return t.name===e})}function h(e){return v.find(function(t){return t.name===e})}function g(e){p(e)&&delete settings[e];for(var t=0;t<v.length;++t)if(v[t].name===e){v.splice(t,1),g(e);break}}var m=Util.toEnum({Header:0,Toggle:1,List:2,Range:3}),v=[];return Object.freeze(Object.defineProperties({},{Types:{value:m},init:{value:e},create:{value:t},save:{value:r},load:{value:n},clear:{value:a},reset:{value:i},forEach:{value:o},add:{value:s},addHeader:{value:u},addToggle:{value:l},addList:{value:c},addRange:{value:d},isEmpty:{value:f},has:{value:p},get:{value:h},delete:{value:g}}))}(),Story=function(){function e(){function e(e){if(e.tags.includesAny(n))throw new Error('starting passage "'+e.title+'" contains illegal tags; invalid: "'+e.tags.filter(function(e){return n.includes(e)}).sort().join('", "')+'"')}function t(e){if(a.includes(e.title)&&e.tags.includesAny(n))throw new Error('special passage "'+e.title+'" contains illegal tags; invalid: "'+e.tags.filter(function(e){return n.includes(e)}).sort().join('", "')+'"')}var n=["widget"],a=["PassageDone","PassageFooter","PassageHeader","PassageReady","StoryAuthor","StoryBanner","StoryCaption","StoryInit","StoryMenu","StoryShare","StorySubtitle"],i=jQuery("tw-storydata"),o=i.attr("startnode")||"";Config.passages.start=null,Config.debug=/\bdebug\b/.test(i.attr("options")),i.children("style").each(function(e){v.push(new Passage("tw-user-style-"+e,this))}),i.children("script").each(function(e){m.push(new Passage("tw-user-script-"+e,this))}),i.children('tw-passagedata:not([tags~="Twine.private"],[tags~="annotation"])').each(function(){var r=jQuery(this),n=r.attr("pid")||"",a=new Passage(r.attr("name"),this);n===o&&""!==o?(Config.passages.start=a.title,e(a),g[a.title]=a):a.tags.includes("widget")?y.push(a):(t(a),g[a.title]=a)}),w=i.attr("ifid"),r("留草遺芳錄-遺芳九言"),Config.saves.id=Story.domId}function t(){!function(){var e=document.createElement("style");new StyleWrapper(e).add(v.map(function(e){return e.text.trim()}).join("\n")),jQuery(e).appendTo(document.head).attr({id:"style-story",type:"text/css"})}();for(var e=0;e<m.length;++e)try{Scripting.evalJavaScript(m[e].text)}catch(t){console.error(t),Alert.error(m[e].title,"object"===(void 0===t?"undefined":_typeof(t))?t.message:t)}for(var t=0;t<y.length;++t)try{Wikifier.wikifyEval(y[t].processText())}catch(e){console.error(e),Alert.error(y[t].title,"object"===(void 0===e?"undefined":_typeof(e))?e.message:e)}}function r(e){if(null==e)throw new Error("story title must not be null or undefined");var t=Util.unescape(String(e)).trim();if(""===t)throw new Error("story title must not be empty or consist solely of whitespace");if(document.title=b=t,""===(k=Util.slugify(b)))if(""!==w)k=w;else for(var r=0,n=b.length;r<n;++r){var a=Util.charAndPosAt(b,r),i=a.char,o=a.start,s=a.end;k+=i.codePointAt(0).toString(16),r+=s-o}}function n(){return b}function a(){return k}function i(){return w}function o(e){if(!(e instanceof Passage))throw new TypeError("Story.add passage parameter must be an instance of Passage");var t=e.title;return!g.hasOwnProperty(t)&&(g[t]=e,!0)}function s(e){var t=void 0===e?"undefined":_typeof(e);switch(t){case"number":case"string":return g.hasOwnProperty(String(e));case"undefined":break;case"object":t=null===e?"null":"an object";break;default:t="a "+t}throw new TypeError("Story.has title parameter cannot be "+t)}function u(e){var t=void 0===e?"undefined":_typeof(e);switch(t){case"number":case"string":var r=String(e);return g.hasOwnProperty(r)?g[r]:new Passage(r||"(unknown)");case"undefined":break;case"object":t=null===e?"null":"an object";break;default:t="a "+t}throw new TypeError("Story.get title parameter cannot be "+t)}function l(){return Object.freeze(Object.assign({},g))}function c(){return Object.freeze(Array.from(m))}function d(){return Object.freeze(Array.from(v))}function f(){return Object.freeze(Array.from(y))}function p(e,t){var r=arguments.length>2&&arguments[2]!==undefined?arguments[2]:"title",n=[];return Object.keys(g).forEach(function(r){var a=g[r];"object"===_typeof(a[e])&&null!==a[e]?a[e]instanceof Array&&a[e].some(function(e){return Util.sameValueZero(e,t)})&&n.push(a):Util.sameValueZero(a[e],t)&&n.push(a)}),n.sort(function(e,t){return e[r]==t[r]?0:e[r]<t[r]?-1:1}),n}function h(e){var t=arguments.length>1&&arguments[1]!==undefined?arguments[1]:"title";if("function"!=typeof e)throw new TypeError("Story.lookupWith predicate parameter must be a function");var r=[];return Object.keys(g).forEach(function(t){var n=g[t];e(n)&&r.push(n)}),r.sort(function(e,r){return e[t]==r[t]?0:e[t]<r[t]?-1:1}),r}var g={},m=[],v=[],y=[],b="",w="",k="";return Object.freeze(Object.defineProperties({},{load:{value:e},init:{value:t},title:{get:n},domId:{get:a},ifId:{get:i},add:{value:o},has:{value:s},get:{value:u},getAllRegular:{value:l},getAllScript:{value:c},getAllStylesheet:{value:d},getAllWidget:{value:f},lookup:{value:p},lookupWith:{value:h}}))}(),UI=function(){function e(e,t){var r=t,n=Config.debug,a=Config.cleanupWikifierOutput;Config.debug=!1,Config.cleanupWikifierOutput=!1;try{null==r&&(r=document.createElement("ul"));var i=document.createDocumentFragment();new Wikifier(i,Story.get(e).processText().trim());var o=[].concat(_toConsumableArray(i.querySelectorAll(".error"))).map(function(e){return e.textContent.replace(errorPrologRegExp,"")});if(o.length>0)throw new Error(o.join("; "));for(;i.hasChildNodes();){var s=i.firstChild;if(s.nodeType===Node.ELEMENT_NODE&&"A"===s.nodeName.toUpperCase()){var u=document.createElement("li");r.appendChild(u),u.appendChild(s)}else i.removeChild(s)}}finally{Config.cleanupWikifierOutput=a,Config.debug=n}return r}function t(e){jQuery(Dialog.setup("Alert","alert")).append("<p>"+e+'</p><ul class="buttons"><li><button id="alert-ok" class="ui-close">'+L10n.get(["alertOk","ok"])+"</button></li></ul>");for(var t=arguments.length,r=Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];Dialog.open.apply(Dialog,r)}function r(){u(),Dialog.open.apply(Dialog,arguments)}function n(){l(),Dialog.open.apply(Dialog,arguments)}function a(){c(),Dialog.open.apply(Dialog,arguments)}function i(){d(),Dialog.open.apply(Dialog,arguments)}function o(){f(),Dialog.open.apply(Dialog,arguments)}function s(){return jQuery(Dialog.setup(L10n.get("autoloadTitle"),"autoload")).append("<p>"+L10n.get("autoloadPrompt")+'</p><ul class="buttons"><li><button id="autoload-ok" class="ui-close">'+L10n.get(["autoloadOk","ok"])+'</button></li><li><button id="autoload-cancel" class="ui-close">'+L10n.get(["autoloadCancel","cancel"])+"</button></li></ul>"),jQuery(document).one("click.autoload",".ui-close",function(e){var t="autoload-ok"===e.target.id;jQuery(document).one(":dialogclosed",function(){t&&Save.autosave.load()||Engine.play(Config.passages.start)})}),!0}function u(){var e=document.createElement("ul");jQuery(Dialog.setup(L10n.get("jumptoTitle"),"jumpto list")).append(e);for(var t=State.expired.length,r=State.size-1;r>=0;--r)if(r!==State.activeIndex){var n=Story.get(State.history[r].title);n&&n.tags.includes("bookmark")&&jQuery(document.createElement("li")).append(jQuery(document.createElement("a")).ariaClick({one:!0},function(e){return function(){return jQuery(document).one(":dialogclosed",function(){return Engine.goTo(e)})}}(r)).addClass("ui-close").text(L10n.get("jumptoTurn")+" "+(t+r+1)+": "+n.description())).appendTo(e)}e.hasChildNodes()||jQuery(e).append("<li><a><em>"+L10n.get("jumptoUnavailable")+"</em></a></li>")}function l(){return jQuery(Dialog.setup(L10n.get("restartTitle"),"restart")).append("<p>"+L10n.get("restartPrompt")+'</p><ul class="buttons"><li><button id="restart-ok">'+L10n.get(["restartOk","ok"])+'</button></li><li><button id="restart-cancel" class="ui-close">'+L10n.get(["restartCancel","cancel"])+"</button></li></ul>").find("#restart-ok").ariaClick({one:!0},function(){jQuery(document).one(":dialogclosed",function(){return Engine.restart()}),Dialog.close()}),!0}function c(){function e(e,t,r,n){var a=jQuery(document.createElement("button")).attr("id","saves-"+e).html(r);return t&&a.addClass(t),n?a.ariaClick(n):a.ariaDisabled(!0),jQuery(document.createElement("li")).append(a)}var r=jQuery(Dialog.setup(L10n.get("savesTitle"),"saves")),n=Save.ok();if(n&&r.append(function(){function e(e,t,r,n,a){var i=jQuery(document.createElement("button")).attr("id","saves-"+e+"-"+n).addClass(e).html(r);return t&&i.addClass(t),a?"auto"===n?i.ariaClick({label:r+" "+L10n.get("savesLabelAuto")},function(){return a()}):i.ariaClick({label:r+" "+L10n.get("savesLabelSlot")+" "+(n+1)},function(){return a(n)}):i.ariaDisabled(!0),i}var t=Save.get(),r=jQuery(document.createElement("tbody"));if(Save.autosave.ok()){var n=jQuery(document.createElement("td")),a=jQuery(document.createElement("td")),i=jQuery(document.createElement("td")),o=jQuery(document.createElement("td"));jQuery(document.createElement("b")).attr({title:L10n.get("savesLabelAuto"),"aria-label":L10n.get("savesLabelAuto")}).text("A").appendTo(n),t.autosave?(a.append(e("load","ui-close",L10n.get("savesLabelLoad"),"auto",function(){jQuery(document).one(":dialogclosed",function(){return Save.autosave.load()})})),jQuery(document.createElement("div")).text(t.autosave.title).appendTo(i),jQuery(document.createElement("div")).addClass("datestamp").html(t.autosave.date?""+new Date(t.autosave.date).toLocaleString():"<em>"+L10n.get("savesUnknownDate")+"</em>").appendTo(i),o.append(e("delete",null,L10n.get("savesLabelDelete"),"auto",function(){Save.autosave.delete(),c()}))):(a.append(e("load",null,L10n.get("savesLabelLoad"),"auto")),i.addClass("empty").text("•  •  •"),o.append(e("delete",null,L10n.get("savesLabelDelete"),"auto"))),jQuery(document.createElement("tr")).append(n).append(a).append(i).append(o).appendTo(r)}for(var s=0,u=t.slots.length;s<u;++s){var l=jQuery(document.createElement("td")),d=jQuery(document.createElement("td")),f=jQuery(document.createElement("td")),p=jQuery(document.createElement("td"));l.append(document.createTextNode(s+1)),t.slots[s]?(d.append(e("load","ui-close",L10n.get("savesLabelLoad"),s,function(e){jQuery(document).one(":dialogclosed",function(){return Save.slots.load(e)})})),jQuery(document.createElement("div")).text(t.slots[s].title).appendTo(f),jQuery(document.createElement("div")).addClass("datestamp").html(t.slots[s].date?""+new Date(t.slots[s].date).toLocaleString():"<em>"+L10n.get("savesUnknownDate")+"</em>").appendTo(f),p.append(e("delete",null,L10n.get("savesLabelDelete"),s,function(e){Save.slots.delete(e),c()}))):(d.append(e("save","ui-close",L10n.get("savesLabelSave"),s,Save.slots.save)),f.addClass("empty").text("•  •  •"),p.append(e("delete",null,L10n.get("savesLabelDelete"),s))),jQuery(document.createElement("tr")).append(l).append(d).append(f).append(p).appendTo(r)}return jQuery(document.createElement("table")).attr("id","saves-list").append(r)}()),n||Has.fileAPI){var a=jQuery(document.createElement("ul")).addClass("buttons").appendTo(r);return Has.fileAPI&&(a.append(e("export","ui-close",L10n.get("savesLabelExport"),function(){return Save.export()})),a.append(e("import",null,L10n.get("savesLabelImport"),function(){return r.find("#saves-import-file").trigger("click")})),jQuery(document.createElement("input")).css({display:"block",visibility:"hidden",position:"fixed",left:"-9999px",top:"-9999px",width:"1px",height:"1px"}).attr({type:"file",id:"saves-import-file",tabindex:-1,"aria-hidden":!0}).on("change",function(e){jQuery(document).one(":dialogclosed",function(){return Save.import(e)}),Dialog.close()}).appendTo(r)),n&&a.append(e("clear",null,L10n.get("savesLabelClear"),Save.autosave.has()||!Save.slots.isEmpty()?function(){Save.clear(),c()}:null)),!0}return t(L10n.get("savesIncapable")),!1}function d(){var e=jQuery(Dialog.setup(L10n.get("settingsTitle"),"settings"));return Setting.forEach(function(t){if(t.type===Setting.Types.Header){var r=t.name,n=Util.slugify(r),a=jQuery(document.createElement("div")),i=jQuery(document.createElement("h2"));return a.attr("id","header-body-"+n).append(i).appendTo(e),i.attr("id","header-heading-"+n).wiki(r),void(t.desc&&jQuery(document.createElement("p")).attr("id","header-desc-"+n).wiki(t.desc).appendTo(a))}var o=t.name,s=Util.slugify(o),u=jQuery(document.createElement("div")),l=jQuery(document.createElement("label")),c=jQuery(document.createElement("div")),d=void 0;switch(jQuery(document.createElement("div")).append(l).append(c).appendTo(u),t.desc&&jQuery(document.createElement("p")).attr("id","setting-desc-"+s).wiki(t.desc).appendTo(u),l.attr({id:"setting-label-"+s,for:"setting-control-"+s}).wiki(t.label),null==settings[o]&&(settings[o]=t.default),t.type){case Setting.Types.Toggle:d=jQuery(document.createElement("button")),settings[o]?d.addClass("enabled").text(L10n.get("settingsOn")):d.text(L10n.get("settingsOff")),d.ariaClick(function(){settings[o]?(jQuery(this).removeClass("enabled").text(L10n.get("settingsOff")),settings[o]=!1):(jQuery(this).addClass("enabled").text(L10n.get("settingsOn")),settings[o]=!0),Setting.save(),t.hasOwnProperty("onChange")&&t.onChange.call({name:o,value:settings[o],default:t.default})});break;case Setting.Types.List:d=jQuery(document.createElement("select"));for(var f=0,p=t.list.length;f<p;++f)jQuery(document.createElement("option")).val(f).text(t.list[f]).appendTo(d);d.val(t.list.indexOf(settings[o])).attr("tabindex",0).on("change",function(){settings[o]=t.list[Number(this.value)],Setting.save(),t.hasOwnProperty("onChange")&&t.onChange.call({name:o,value:settings[o],default:t.default,list:t.list})});break;case Setting.Types.Range:d=jQuery(document.createElement("input")),d.attr({type:"range",min:t.min,max:t.max,step:t.step,value:settings[o],tabindex:0}).on("change input",function(){settings[o]=Number(this.value),Setting.save(),t.hasOwnProperty("onChange")&&t.onChange.call({name:o,value:settings[o],default:t.default,min:t.min,max:t.max,step:t.step})}).on("keypress",function(e){13===e.which&&(e.preventDefault(),d.trigger("change"))})}d.attr("id","setting-control-"+s).appendTo(c),u.attr("id","setting-body-"+s).appendTo(e)}),e.append('<ul class="buttons"><li><button id="settings-ok" class="ui-close">'+L10n.get(["settingsOk","ok"])+'</button></li><li><button id="settings-reset">'+L10n.get("settingsReset")+"</button></li></ul>").find("#settings-reset").ariaClick({one:!0},function(){jQuery(document).one(":dialogclosed",function(){Setting.reset(),window.location.reload()}),Dialog.close()}),!0}function f(){try{jQuery(Dialog.setup(L10n.get("shareTitle"),"share list")).append(e("StoryShare"))}catch(e){return console.error(e),Alert.error("StoryShare",e.message),!1}return!0}return Object.freeze(Object.defineProperties({},{assembleLinkList:{value:e},alert:{value:t},jumpto:{value:r},restart:{value:n},saves:{value:a},settings:{value:i},share:{value:o},buildAutoload:{value:s},buildJumpto:{value:u},buildRestart:{value:l},buildSaves:{value:c},buildSettings:{value:d},buildShare:{value:f},stow:{value:function(){return UIBar.stow()}},unstow:{value:function(){return UIBar.unstow()}},setStoryElements:{value:function(){return UIBar.update()}},isOpen:{value:function(){return Dialog.isOpen.apply(Dialog,arguments)}},body:{value:function(){return Dialog.body()}},setup:{value:function(){return Dialog.setup.apply(Dialog,arguments)}},addClickHandler:{value:function(){return Dialog.addClickHandler.apply(Dialog,arguments)}},open:{value:function(){return Dialog.open.apply(Dialog,arguments)}},close:{value:function(){return Dialog.close.apply(Dialog,arguments)}},resize:{value:function(){return Dialog.resize()}},buildDialogAutoload:{value:s},buildDialogJumpto:{value:u},buildDialogRestart:{value:l},buildDialogSaves:{value:c},buildDialogSettings:{value:d},buildDialogShare:{value:f},buildLinkListFromPassage:{value:e}}))}(),UIBar=function(){function e(){c&&(c.hide(),jQuery(document).off(".ui-bar"),jQuery(document.head).find("#style-ui-bar").remove(),c.remove(),c=null)}function t(){return c&&c.hide(),this}function r(){if(!document.getElementById("ui-bar")){var e=function(){var e=L10n.get("uiBarToggle"),t=L10n.get("uiBarBackward"),r=L10n.get("uiBarJumpto"),n=L10n.get("uiBarForward");return jQuery(document.createDocumentFragment()).append('<div id="ui-bar"><div id="ui-bar-tray"><button id="ui-bar-toggle" tabindex="0" title="'+e+'" aria-label="'+e+'"></button><div id="ui-bar-history"><button id="history-backward" tabindex="0" title="'+t+'" aria-label="'+t+'"></button><button id="history-jumpto" tabindex="0" title="'+r+'" aria-label="'+r+'"></button><button id="history-forward" tabindex="0" title="'+n+'" aria-label="'+n+'"></button></div></div><div id="ui-bar-body"><header id="title" role="banner"><div id="story-banner"></div><h1 id="story-title"></h1><div id="story-subtitle"></div><div id="story-title-separator"></div><p id="story-author"></p></header><div id="story-caption"></div><nav id="menu" role="navigation"><ul id="menu-story"></ul><ul id="menu-core"><li id="menu-item-saves"><a tabindex="0">'+L10n.get("savesTitle")+'</a></li><li id="menu-item-settings"><a tabindex="0">'+L10n.get("settingsTitle")+'</a></li><li id="menu-item-restart"><a tabindex="0">'+L10n.get("restartTitle")+'</a></li><li id="menu-item-share"><a tabindex="0">'+L10n.get("shareTitle")+"</a></li></ul></nav></div></div>")}();c=jQuery(e.find("#ui-bar").get(0)),e.insertBefore("body>script#script-sugarcube"),jQuery(document).on(":historyupdate.ui-bar",function(e,t){return function(){e.ariaDisabled(State.length<2),t.ariaDisabled(State.length===State.size)}}(jQuery("#history-backward"),jQuery("#history-forward")))}}function n(){return c&&"none"===c.css("display")}function a(){return c&&c.hasClass("stowed")}function i(){return c&&c.show(),this}function o(){c&&(("boolean"==typeof Config.ui.stowBarInitially?Config.ui.stowBarInitially:jQuery(window).width()<=Config.ui.stowBarInitially)&&s(!0),jQuery("#ui-bar-toggle").ariaClick({label:L10n.get("uiBarToggle")},function(){return c.toggleClass("stowed")}),Config.history.controls?(jQuery("#history-backward").ariaDisabled(State.length<2).ariaClick({label:L10n.get("uiBarBackward")},function(){return Engine.backward()}),Story.lookup("tags","bookmark").length>0?jQuery("#history-jumpto").ariaClick({label:L10n.get("uiBarJumpto")},function(){return UI.jumpto()}):jQuery("#history-jumpto").remove(),jQuery("#history-forward").ariaDisabled(State.length===State.size).ariaClick({label:L10n.get("uiBarForward")},function(){return Engine.forward()})):jQuery("#ui-bar-history").remove(),Story.has("StoryDisplayTitle")?setDisplayTitle(Story.get("StoryDisplayTitle").processText()):jQuery("#story-title").text(Story.title),Story.has("StoryCaption")||jQuery("#story-caption").remove(),Story.has("StoryMenu")||jQuery("#menu-story").remove(),Config.ui.updateStoryElements||l(),jQuery("#menu-item-saves a").ariaClick(function(e){e.preventDefault(),UI.buildSaves(),Dialog.open()}).text(L10n.get("savesTitle")),Setting.isEmpty()?jQuery("#menu-item-settings").remove():jQuery("#menu-item-settings a").ariaClick(function(e){e.preventDefault(),UI.buildSettings(),Dialog.open()}).text(L10n.get("settingsTitle")),jQuery("#menu-item-restart a").ariaClick(function(e){e.preventDefault(),UI.buildRestart(),Dialog.open()}).text(L10n.get("restartTitle")),Story.has("StoryShare")?jQuery("#menu-item-share a").ariaClick(function(e){e.preventDefault(),UI.buildShare(),Dialog.open()}).text(L10n.get("shareTitle")):jQuery("#menu-item-share").remove())}function s(e){if(c&&!c.hasClass("stowed")){var t=void 0;e&&(t=jQuery("#story"),t.addClass("no-transition"),c.addClass("no-transition")),c.addClass("stowed"),e&&setTimeout(function(){t.removeClass("no-transition"),c.removeClass("no-transition")},Engine.minDomActionDelay)}return this}function u(e){if(c&&c.hasClass("stowed")){var t=void 0;e&&(t=jQuery("#story"),t.addClass("no-transition"),c.addClass("no-transition")),c.removeClass("stowed"),e&&setTimeout(function(){t.removeClass("no-transition"),c.removeClass("no-transition")},Engine.minDomActionDelay)}return this}function l(){if(c){setPageElement("story-banner","StoryBanner"),Story.has("StoryDisplayTitle")&&setDisplayTitle(Story.get("StoryDisplayTitle").processText()),setPageElement("story-subtitle","StorySubtitle"),setPageElement("story-author","StoryAuthor"),setPageElement("story-caption","StoryCaption");var e=document.getElementById("menu-story");if(null!==e&&(jQuery(e).empty(),Story.has("StoryMenu")))try{UI.assembleLinkList("StoryMenu",e)}catch(e){console.error(e),Alert.error("StoryMenu",e.message)}}}var c=null;return Object.freeze(Object.defineProperties({},{destroy:{value:e},hide:{value:t},init:{value:r},isHidden:{value:n},isStowed:{value:a},show:{value:i},start:{value:o},stow:{value:s},unstow:{value:u},update:{value:l},setStoryElements:{value:l}}))}(),DebugBar=function(){function e(){var e=L10n.get("debugBarToggle"),t=L10n.get("debugBarAddWatch"),r=L10n.get("debugBarWatchAll"),n=L10n.get("debugBarWatchNone"),a=L10n.get("debugBarWatchToggle"),l=L10n.get("debugBarViewsToggle");jQuery(document.createDocumentFragment()).append('<div id="debug-bar"><div id="debug-bar-watch"><div>'+L10n.get("debugBarNoWatches")+'</div>></div><div><button id="debug-bar-watch-toggle" tabindex="0" title="'+a+'" aria-label="'+a+'">'+L10n.get("debugBarLabelWatch")+'</button><label id="debug-bar-watch-label" for="debug-bar-watch-input">'+L10n.get("debugBarLabelAdd")+'</label><input id="debug-bar-watch-input" name="debug-bar-watch-input" type="text" list="debug-bar-watch-list" tabindex="0"><datalist id="debug-bar-watch-list" aria-hidden="true" hidden="hidden"></datalist><button id="debug-bar-watch-add" tabindex="0" title="'+t+'" aria-label="'+t+'"></button><button id="debug-bar-watch-all" tabindex="0" title="'+r+'" aria-label="'+r+'"></button><button id="debug-bar-watch-none" tabindex="0" title="'+n+'" aria-label="'+n+'"></button></div><div><button id="debug-bar-views-toggle" tabindex="0" title="'+l+'" aria-label="'+l+'">'+L10n.get("debugBarLabelViews")+'</button><label id="debug-bar-turn-label" for="debug-bar-turn-select">'+L10n.get("debugBarLabelTurn")+'</label><select id="debug-bar-turn-select" tabindex="0"></select></div><button id="debug-bar-toggle" tabindex="0" title="'+e+'" aria-label="'+e+'"></button></div><div id="debug-bar-hint"></div>').appendTo("body"),P=jQuery("#debug-bar"),_=jQuery(P.find("#debug-bar-watch").get(0)),N=jQuery(P.find("#debug-bar-watch-list").get(0)),I=jQuery(P.find("#debug-bar-turn-select").get(0));var c=jQuery(P.find("#debug-bar-toggle").get(0)),d=jQuery(P.find("#debug-bar-watch-toggle").get(0)),f=jQuery(P.find("#debug-bar-watch-input").get(0)),h=jQuery(P.find("#debug-bar-watch-add").get(0)),g=jQuery(P.find("#debug-bar-watch-all").get(0)),m=jQuery(P.find("#debug-bar-watch-none").get(0)),v=jQuery(P.find("#debug-bar-views-toggle").get(0));c.ariaClick(i),d.ariaClick(p),f.on(":addwatch",function(){o(this.value.trim()),this.value=""}).on("keypress",function(e){13===e.which&&(e.preventDefault(),f.trigger(":addwatch"))}),h.ariaClick(function(){return f.trigger(":addwatch")}),g.ariaClick(s),m.ariaClick(u),I.on("change",function(){Engine.goTo(Number(this.value))}),v.ariaClick(function(){DebugView.toggle(),k()}),jQuery(document).on(":historyupdate.debug-bar",x).on(":passageend.debug-bar",function(){E(),j()}).on(":enginerestart.debug-bar",y),b()||DebugView.enable()}function t(){w(),S(),x(),E(),j()}function r(){return D}function n(){h(),D=!0,k()}function a(){g(),D=!1,k()}function i(){D?a():n()}function o(e){T.test(e)&&(A.pushUnique(e),A.sort(),E(),j(),k())}function s(){Object.keys(State.variables).map(function(e){return A.pushUnique("$"+e)}),Object.keys(State.temporary).map(function(e){return A.pushUnique("_"+e)}),A.sort(),E(),j(),k()}function u(){for(var e=A.length-1;e>=0;--e)A.pop();E(),j(),k()}function l(e){A.delete(e),E(),j(),k()}function c(){m(),k()}function d(){v(),k()}function f(){return!_.attr("hidden")}function p(){_.attr("hidden")?d():c()}function h(){P.css("right","-"+P.outerWidth()+"px")}function g(){P.css("right",0)}function m(){_.attr({"aria-hidden":!0,hidden:"hidden"})}function v(){_.removeAttr("aria-hidden hidden")}function y(){session.delete("debugState")}function b(){return session.has("debugState")}function w(){if(!b())return!1;var e=session.get("debugState");return D=e.stowed,A.push.apply(A,_toConsumableArray(e.watchList)),e.watchEnabled?v():m(),e.viewsEnabled?DebugView.enable():DebugView.disable(),!0}function k(){session.set("debugState",{stowed:D,watchList:A,watchEnabled:f(),viewsEnabled:DebugView.isEnabled()})}function S(){D?n():a()}function E(){if(0===A.length)return void _.empty().append("<div>"+L10n.get("debugBarNoWatches")+"</div>");for(var e=L10n.get("debugBarDeleteWatch"),t=jQuery(document.createElement("table")),r=jQuery(document.createElement("tbody")),n=0,a=A.length;n<a;++n)!function(t,n){var a=A[t],i=a.slice(1),o="$"===a[0]?State.variables:State.temporary,s=jQuery(document.createElement("tr")),u=jQuery(document.createElement("button")),c=jQuery(document.createElement("code"));u.addClass("watch-delete").attr("data-name",a).ariaClick({one:!0,label:e},function(){return l(a)}),c.text(O(o[i])),jQuery(document.createElement("td")).append(u).appendTo(s),jQuery(document.createElement("td")).text(a).appendTo(s),jQuery(document.createElement("td")).append(c).appendTo(s),s.appendTo(r)}(n);t.append(r),_.empty().append(t)}function j(){var e=Object.keys(State.variables),t=Object.keys(State.temporary);if(0===e.length&&0===t.length)return void N.empty();var r=[].concat(_toConsumableArray(e.map(function(e){return"$"+e})),_toConsumableArray(t.map(function(e){return"_"+e}))).sort(),n=document.createDocumentFragment();r.delete(A);for(var a=0,i=r.length;a<i;++a)jQuery(document.createElement("option")).val(r[a]).appendTo(n);N.empty().append(n)}function x(){for(var e=State.size,t=State.expired.length,r=document.createDocumentFragment(),n=0;n<e;++n)jQuery(document.createElement("option")).val(n).text(t+n+1+". "+Util.escape(State.history[n].title)).appendTo(r);I.empty().ariaDisabled(e<2).append(r).val(State.activeIndex)}function O(e){if(null===e)return"null";switch(void 0===e?"undefined":_typeof(e)){case"number":if(Number.isNaN(e))return"NaN";if(!Number.isFinite(e))return"Infinity";case"boolean":case"symbol":case"undefined":return String(e);case"string":return JSON.stringify(e);case"function":return"Function"}var t=Util.toStringTag(e);if("Date"===t)return"Date {"+e.toLocaleString()+"}";if("RegExp"===t)return"RegExp "+e.toString();var r=[];if(e instanceof Array||e instanceof Set){for(var n=e instanceof Array?e:Array.from(e),a=0,i=n.length;a<i;++a)r.push(n.hasOwnProperty(a)?O(n[a]):"<empty>");return Object.keys(n).filter(function(e){return!C.test(e)}).forEach(function(e){return r.push(O(e)+": "+O(n[e]))}),t+"("+n.length+") ["+r.join(", ")+"]"}return e instanceof Map?(e.forEach(function(e,t){return r.push(O(t)+" → "+O(e))}),t+"("+e.size+") {"+r.join(", ")+"}"):(Object.keys(e).forEach(function(t){return r.push(O(t)+": "+O(e[t]))}),t+" {"+r.join(", ")+"}")}var T=new RegExp("^"+Patterns.variable+"$"),C=/^\d+$/,A=[],P=null,_=null,N=null,I=null,D=!0;return Object.freeze(Object.defineProperties({},{init:{value:e},isStowed:{value:r},start:{value:t},stow:{value:n},toggle:{value:i},unstow:{value:a},watch:{value:Object.freeze(Object.defineProperties({},{add:{value:o},all:{value:s},clear:{value:u},delete:{value:l},disable:{value:c},enable:{value:d},isEnabled:{value:f},toggle:{value:p}}))}}))}(),LoadScreen=function(){function e(){jQuery(document).on("readystatechange.SugarCube",function(){o.size>0||("complete"===document.readyState?"loading"===jQuery(document.documentElement).attr("data-init")&&(Config.loadDelay>0?setTimeout(function(){0===o.size&&r()},Math.max(Engine.minDomActionDelay,Config.loadDelay)):r()):n())})}function t(){jQuery(document).off("readystatechange.SugarCube"),o.clear(),r()}function r(){jQuery(document.documentElement).removeAttr("data-init")}function n(){jQuery(document.documentElement).attr("data-init","loading")}function a(){return++s,o.add(s),n(),s}function i(e){if(null==e)throw new Error("LoadScreen.unlock called with a null or undefined ID");o.has(e)&&o.delete(e),0===o.size&&jQuery(document).trigger("readystatechange")}var o=new Set,s=0;return Object.freeze(Object.defineProperties({},{init:{value:e},clear:{value:t},hide:{value:r},show:{value:n},lock:{value:a},unlock:{value:i}}))}(),version=Object.freeze({title:"SugarCube",major:2,minor:31,patch:1,prerelease:null,build:9281,date:new Date("2020-04-06T21:22:52.785Z"),extensions:{},toString:function(){var e=this.prerelease?"-"+this.prerelease:"";return this.major+"."+this.minor+"."+this.patch+e+"+"+this.build},short:function(){var e=this.prerelease?"-"+this.prerelease:"";return this.title+" (v"+this.major+"."+this.minor+"."+this.patch+e+")"},long:function(){return this.title+" v"+this.toString()+" ("+this.date.toUTCString()+")"}}),TempState={},macros={},postdisplay={},postrender={},predisplay={},prehistory={},prerender={},session=null,settings={},setup={},storage=null,browser=Browser,config=Config,has=Has,History=State,state=State,tale=Story,TempVariables=State.temporary;window.SugarCube={},jQuery(function(){try{var e=LoadScreen.lock();LoadScreen.init(),document.normalize&&document.normalize(),Story.load(),storage=SimpleStore.create(Story.domId,!0),session=SimpleStore.create(Story.domId,!1),Dialog.init(),UIBar.init(),
Engine.init(),Story.init(),L10n.init(),session.has("rcWarn")||"cookie"!==storage.name||(session.set("rcWarn",1),window.alert(L10n.get("warningNoWebStorage"))),Save.init(),Setting.init(),Macro.init(),Engine.start(),Config.debug&&DebugBar.init();var t=$(window),r=setInterval(function(){t.width()&&(clearInterval(r),UIBar.start(),Config.debug&&DebugBar.start(),jQuery.event.trigger({type:":storyready"}),setTimeout(function(){return LoadScreen.unlock(e)},2*Engine.minDomActionDelay))},Engine.minDomActionDelay);Object.defineProperty(window,"SugarCube",{value:Object.seal(Object.assign(Object.create(null),{Browser:Browser,Config:Config,Dialog:Dialog,Engine:Engine,Fullscreen:Fullscreen,Has:Has,L10n:L10n,Macro:Macro,Passage:Passage,Save:Save,Scripting:Scripting,Setting:Setting,SimpleAudio:SimpleAudio,State:State,Story:Story,UI:UI,UIBar:UIBar,DebugBar:DebugBar,Util:Util,Visibility:Visibility,Wikifier:Wikifier,session:session,settings:settings,setup:setup,storage:storage,version:version}))})}catch(e){return console.error(e),LoadScreen.clear(),Alert.fatal(null,e.message,e)}})}(window,window.document,jQuery);}
	</script>
</body>
</html>
